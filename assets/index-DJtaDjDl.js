var aM=Object.defineProperty;var lM=(t,e,n)=>e in t?aM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yp=(t,e,n)=>lM(t,typeof e!="symbol"?e+"":e,n);function uM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function si(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QA={exports:{}},Jh={},XA={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),cM=Symbol.for("react.portal"),fM=Symbol.for("react.fragment"),hM=Symbol.for("react.strict_mode"),dM=Symbol.for("react.profiler"),pM=Symbol.for("react.provider"),mM=Symbol.for("react.context"),gM=Symbol.for("react.forward_ref"),yM=Symbol.for("react.suspense"),vM=Symbol.for("react.memo"),_M=Symbol.for("react.lazy"),L1=Symbol.iterator;function wM(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var JA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZA=Object.assign,ex={};function Ta(t,e,n){this.props=t,this.context=e,this.refs=ex,this.updater=n||JA}Ta.prototype.isReactComponent={};Ta.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ta.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tx(){}tx.prototype=Ta.prototype;function _v(t,e,n){this.props=t,this.context=e,this.refs=ex,this.updater=n||JA}var wv=_v.prototype=new tx;wv.constructor=_v;ZA(wv,Ta.prototype);wv.isPureReactComponent=!0;var j1=Array.isArray,nx=Object.prototype.hasOwnProperty,Ev={current:null},rx={key:!0,ref:!0,__self:!0,__source:!0};function ix(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)nx.call(e,r)&&!rx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ou,type:t,key:o,ref:s,props:i,_owner:Ev.current}}function EM(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function bM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V1=/\/+/g;function Qp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bM(""+t.key):e.toString(36)}function of(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ou:case cM:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Qp(s,0):r,j1(i)?(n="",t!=null&&(n=t.replace(V1,"$&/")+"/"),of(i,e,n,"",function(u){return u})):i!=null&&(bv(i)&&(i=EM(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(V1,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",j1(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Qp(o,a);s+=of(o,e,n,l,i)}else if(l=wM(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Qp(o,a++),s+=of(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ec(t,e,n){if(t==null)return t;var r=[],i=0;return of(t,r,"","",function(o){return e.call(n,o,i++)}),r}function SM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jt={current:null},sf={transition:null},TM={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:sf,ReactCurrentOwner:Ev};function ox(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Ec,forEach:function(t,e,n){Ec(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Ta;le.Fragment=fM;le.Profiler=dM;le.PureComponent=_v;le.StrictMode=hM;le.Suspense=yM;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;le.act=ox;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ZA({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ev.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nx.call(e,l)&&!rx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ou,type:t.type,key:i,ref:o,props:r,_owner:s}};le.createContext=function(t){return t={$$typeof:mM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pM,_context:t},t.Consumer=t};le.createElement=ix;le.createFactory=function(t){var e=ix.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:gM,render:t}};le.isValidElement=bv;le.lazy=function(t){return{$$typeof:_M,_payload:{_status:-1,_result:t},_init:SM}};le.memo=function(t,e){return{$$typeof:vM,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=sf.transition;sf.transition={};try{t()}finally{sf.transition=e}};le.unstable_act=ox;le.useCallback=function(t,e){return Jt.current.useCallback(t,e)};le.useContext=function(t){return Jt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Jt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Jt.current.useEffect(t,e)};le.useId=function(){return Jt.current.useId()};le.useImperativeHandle=function(t,e,n){return Jt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Jt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Jt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Jt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Jt.current.useReducer(t,e,n)};le.useRef=function(t){return Jt.current.useRef(t)};le.useState=function(t){return Jt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Jt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Jt.current.useTransition()};le.version="18.3.1";XA.exports=le;var T=XA.exports;const sx=si(T),AM=uM({__proto__:null,default:sx},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM=T,IM=Symbol.for("react.element"),PM=Symbol.for("react.fragment"),CM=Object.prototype.hasOwnProperty,kM=xM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OM={key:!0,ref:!0,__self:!0,__source:!0};function ax(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)CM.call(e,r)&&!OM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IM,type:t,key:o,ref:s,props:i,_owner:kM.current}}Jh.Fragment=PM;Jh.jsx=ax;Jh.jsxs=ax;QA.exports=Jh;var M=QA.exports,lx={exports:{}},Pn={},ux={exports:{}},cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Q){var ne=z.length;z.push(Q);e:for(;0<ne;){var _e=ne-1>>>1,K=z[_e];if(0<i(K,Q))z[_e]=Q,z[ne]=K,ne=_e;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],ne=z.pop();if(ne!==Q){z[0]=ne;e:for(var _e=0,K=z.length,ke=K>>>1;_e<ke;){var dn=2*(_e+1)-1,ze=z[dn],Gn=dn+1,Yn=z[Gn];if(0>i(ze,ne))Gn<K&&0>i(Yn,ze)?(z[_e]=Yn,z[Gn]=ne,_e=Gn):(z[_e]=ze,z[dn]=ne,_e=dn);else if(Gn<K&&0>i(Yn,ne))z[_e]=Yn,z[Gn]=ne,_e=Gn;else break e}}return Q}function i(z,Q){var ne=z.sortIndex-Q.sortIndex;return ne!==0?ne:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,g=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=z)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function P(z){if(v=!1,b(z),!g)if(n(l)!==null)g=!0,de(R);else{var Q=n(u);Q!==null&&Ee(P,Q.startTime-z)}}function R(z,Q){g=!1,v&&(v=!1,y(S),S=-1),p=!0;var ne=d;try{for(b(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||z&&!C());){var _e=h.callback;if(typeof _e=="function"){h.callback=null,d=h.priorityLevel;var K=_e(h.expirationTime<=Q);Q=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),b(Q)}else r(l);h=n(l)}if(h!==null)var ke=!0;else{var dn=n(u);dn!==null&&Ee(P,dn.startTime-Q),ke=!1}return ke}finally{h=null,d=ne,p=!1}}var D=!1,A=null,S=-1,x=5,k=-1;function C(){return!(t.unstable_now()-k<x)}function N(){if(A!==null){var z=t.unstable_now();k=z;var Q=!0;try{Q=A(!0,z)}finally{Q?O():(D=!1,A=null)}}else D=!1}var O;if(typeof _=="function")O=function(){_(N)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ve=oe.port2;oe.port1.onmessage=N,O=function(){ve.postMessage(null)}}else O=function(){E(N,0)};function de(z){A=z,D||(D=!0,O())}function Ee(z,Q){S=E(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,de(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(d){case 1:case 2:case 3:var Q=3;break;default:Q=d}var ne=d;d=Q;try{return z()}finally{d=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=d;d=z;try{return Q()}finally{d=ne}},t.unstable_scheduleCallback=function(z,Q,ne){var _e=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?_e+ne:_e):ne=_e,z){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=ne+K,z={id:c++,callback:Q,priorityLevel:z,startTime:ne,expirationTime:K,sortIndex:-1},ne>_e?(z.sortIndex=ne,e(u,z),n(l)===null&&z===n(u)&&(v?(y(S),S=-1):v=!0,Ee(P,ne-_e))):(z.sortIndex=K,e(l,z),g||p||(g=!0,de(R))),z},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(z){var Q=d;return function(){var ne=d;d=Q;try{return z.apply(this,arguments)}finally{d=ne}}}})(cx);ux.exports=cx;var RM=ux.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=T,Tn=RM;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fx=new Set,Gl={};function ls(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(Gl[t]=e,t=0;t<e.length;t++)fx.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,DM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$1={},F1={};function MM(t){return sg.call(F1,t)?!0:sg.call($1,t)?!1:DM.test(t)?F1[t]=!0:($1[t]=!0,!1)}function LM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jM(t,e,n,r){if(e===null||typeof e>"u"||LM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new Zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new Zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new Zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new Zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new Zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new Zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new Zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new Zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new Zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sv=/[\-:]([a-z])/g;function Tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sv,Tv);It[e]=new Zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sv,Tv);It[e]=new Zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sv,Tv);It[e]=new Zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new Zt(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new Zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Av(t,e,n,r){var i=It.hasOwnProperty(e)?It[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jM(e,n,i,r)&&(n=null),r||i===null?MM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=NM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bc=Symbol.for("react.element"),As=Symbol.for("react.portal"),xs=Symbol.for("react.fragment"),xv=Symbol.for("react.strict_mode"),ag=Symbol.for("react.profiler"),hx=Symbol.for("react.provider"),dx=Symbol.for("react.context"),Iv=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),Pv=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),px=Symbol.for("react.offscreen"),U1=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=U1&&t[U1]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Xp;function vl(t){if(Xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||""}return`
`+Xp+t}var Jp=!1;function Zp(t,e){if(!t||Jp)return"";Jp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Jp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vl(t):""}function VM(t){switch(t.tag){case 5:return vl(t.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return t=Zp(t.type,!1),t;case 11:return t=Zp(t.type.render,!1),t;case 1:return t=Zp(t.type,!0),t;default:return""}}function cg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xs:return"Fragment";case As:return"Portal";case ag:return"Profiler";case xv:return"StrictMode";case lg:return"Suspense";case ug:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dx:return(t.displayName||"Context")+".Consumer";case hx:return(t._context.displayName||"Context")+".Provider";case Iv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pv:return e=t.displayName||null,e!==null?e:cg(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return cg(t(e))}catch{}}return null}function $M(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cg(e);case 8:return e===xv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FM(t){var e=mx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=FM(t))}function gx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function If(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fg(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function B1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yx(t,e){e=e.checked,e!=null&&Av(t,"checked",e,!1)}function hg(t,e){yx(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dg(t,e.type,n):e.hasOwnProperty("defaultValue")&&dg(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function dg(t,e,n){(e!=="number"||If(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(_l(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function vx(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _x(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_x(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tc,wx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UM=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){UM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function Ex(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function bx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ex(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var BM=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gg(t,e){if(e){if(BM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function yg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=null;function Cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _g=null,Us=null,Bs=null;function H1(t){if(t=Du(t)){if(typeof _g!="function")throw Error(B(280));var e=t.stateNode;e&&(e=rd(e),_g(t.stateNode,t.type,e))}}function Sx(t){Us?Bs?Bs.push(t):Bs=[t]:Us=t}function Tx(){if(Us){var t=Us,e=Bs;if(Bs=Us=null,H1(t),e)for(t=0;t<e.length;t++)H1(e[t])}}function Ax(t,e){return t(e)}function xx(){}var em=!1;function Ix(t,e,n){if(em)return t(e,n);em=!0;try{return Ax(t,e,n)}finally{em=!1,(Us!==null||Bs!==null)&&(xx(),Tx())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=rd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var wg=!1;if(Yr)try{var il={};Object.defineProperty(il,"passive",{get:function(){wg=!0}}),window.addEventListener("test",il,il),window.removeEventListener("test",il,il)}catch{wg=!1}function zM(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ol=!1,Pf=null,Cf=!1,Eg=null,WM={onError:function(t){Ol=!0,Pf=t}};function KM(t,e,n,r,i,o,s,a,l){Ol=!1,Pf=null,zM.apply(WM,arguments)}function HM(t,e,n,r,i,o,s,a,l){if(KM.apply(this,arguments),Ol){if(Ol){var u=Pf;Ol=!1,Pf=null}else throw Error(B(198));Cf||(Cf=!0,Eg=u)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Px(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q1(t){if(us(t)!==t)throw Error(B(188))}function qM(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return q1(i),t;if(o===r)return q1(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Cx(t){return t=qM(t),t!==null?kx(t):null}function kx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kx(t);if(e!==null)return e;t=t.sibling}return null}var Ox=Tn.unstable_scheduleCallback,G1=Tn.unstable_cancelCallback,GM=Tn.unstable_shouldYield,YM=Tn.unstable_requestPaint,Ye=Tn.unstable_now,QM=Tn.unstable_getCurrentPriorityLevel,kv=Tn.unstable_ImmediatePriority,Rx=Tn.unstable_UserBlockingPriority,kf=Tn.unstable_NormalPriority,XM=Tn.unstable_LowPriority,Nx=Tn.unstable_IdlePriority,Zh=null,vr=null;function JM(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Zh,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:tL,ZM=Math.log,eL=Math.LN2;function tL(t){return t>>>=0,t===0?32:31-(ZM(t)/eL|0)|0}var Ac=64,xc=4194304;function wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Of(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=wl(a):(o&=s,o!==0&&(r=wl(o)))}else s=n&~i,s!==0?r=wl(s):o!==0&&(r=wl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),i=1<<n,r|=t[n],e&=~i;return r}function nL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-sr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=nL(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dx(){var t=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),t}function tm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function iL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Se=0;function Mx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lx,Rv,jx,Vx,$x,Sg=!1,Ic=[],Li=null,ji=null,Vi=null,Xl=new Map,Jl=new Map,Ai=[],oL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y1(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(e.pointerId)}}function ol(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Du(e),e!==null&&Rv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sL(t,e,n,r,i){switch(e){case"focusin":return Li=ol(Li,t,e,n,r,i),!0;case"dragenter":return ji=ol(ji,t,e,n,r,i),!0;case"mouseover":return Vi=ol(Vi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Xl.set(o,ol(Xl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Jl.set(o,ol(Jl.get(o)||null,t,e,n,r,i)),!0}return!1}function Fx(t){var e=Io(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=Px(n),e!==null){t.blockedOn=e,$x(t.priority,function(){jx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function af(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vg=r,n.target.dispatchEvent(r),vg=null}else return e=Du(n),e!==null&&Rv(e),t.blockedOn=n,!1;e.shift()}return!0}function Q1(t,e,n){af(t)&&n.delete(e)}function aL(){Sg=!1,Li!==null&&af(Li)&&(Li=null),ji!==null&&af(ji)&&(ji=null),Vi!==null&&af(Vi)&&(Vi=null),Xl.forEach(Q1),Jl.forEach(Q1)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,Sg||(Sg=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,aL)))}function Zl(t){function e(i){return sl(i,t)}if(0<Ic.length){sl(Ic[0],t);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&sl(Li,t),ji!==null&&sl(ji,t),Vi!==null&&sl(Vi,t),Xl.forEach(e),Jl.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)Fx(n),n.blockedOn===null&&Ai.shift()}var zs=ai.ReactCurrentBatchConfig,Rf=!0;function lL(t,e,n,r){var i=Se,o=zs.transition;zs.transition=null;try{Se=1,Nv(t,e,n,r)}finally{Se=i,zs.transition=o}}function uL(t,e,n,r){var i=Se,o=zs.transition;zs.transition=null;try{Se=4,Nv(t,e,n,r)}finally{Se=i,zs.transition=o}}function Nv(t,e,n,r){if(Rf){var i=Tg(t,e,n,r);if(i===null)fm(t,e,r,Nf,n),Y1(t,r);else if(sL(i,t,e,n,r))r.stopPropagation();else if(Y1(t,r),e&4&&-1<oL.indexOf(t)){for(;i!==null;){var o=Du(i);if(o!==null&&Lx(o),o=Tg(t,e,n,r),o===null&&fm(t,e,r,Nf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fm(t,e,r,null,n)}}var Nf=null;function Tg(t,e,n,r){if(Nf=null,t=Cv(r),t=Io(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Px(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nf=t,null}function Ux(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QM()){case kv:return 1;case Rx:return 4;case kf:case XM:return 16;case Nx:return 536870912;default:return 16}default:return 16}}var Ri=null,Dv=null,lf=null;function Bx(){if(lf)return lf;var t,e=Dv,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return lf=i.slice(t,1<r?1-r:void 0)}function uf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function X1(){return!1}function Cn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pc:X1,this.isPropagationStopped=X1,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mv=Cn(Aa),Nu=Be({},Aa,{view:0,detail:0}),cL=Cn(Nu),nm,rm,al,ed=Be({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==al&&(al&&t.type==="mousemove"?(nm=t.screenX-al.screenX,rm=t.screenY-al.screenY):rm=nm=0,al=t),nm)},movementY:function(t){return"movementY"in t?t.movementY:rm}}),J1=Cn(ed),fL=Be({},ed,{dataTransfer:0}),hL=Cn(fL),dL=Be({},Nu,{relatedTarget:0}),im=Cn(dL),pL=Be({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),mL=Cn(pL),gL=Be({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yL=Cn(gL),vL=Be({},Aa,{data:0}),Z1=Cn(vL),_L={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EL[t])?!!e[t]:!1}function Lv(){return bL}var SL=Be({},Nu,{key:function(t){if(t.key){var e=_L[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lv,charCode:function(t){return t.type==="keypress"?uf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TL=Cn(SL),AL=Be({},ed,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eE=Cn(AL),xL=Be({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lv}),IL=Cn(xL),PL=Be({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),CL=Cn(PL),kL=Be({},ed,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OL=Cn(kL),RL=[9,13,27,32],jv=Yr&&"CompositionEvent"in window,Rl=null;Yr&&"documentMode"in document&&(Rl=document.documentMode);var NL=Yr&&"TextEvent"in window&&!Rl,zx=Yr&&(!jv||Rl&&8<Rl&&11>=Rl),tE=" ",nE=!1;function Wx(t,e){switch(t){case"keyup":return RL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function DL(t,e){switch(t){case"compositionend":return Kx(e);case"keypress":return e.which!==32?null:(nE=!0,tE);case"textInput":return t=e.data,t===tE&&nE?null:t;default:return null}}function ML(t,e){if(Is)return t==="compositionend"||!jv&&Wx(t,e)?(t=Bx(),lf=Dv=Ri=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zx&&e.locale!=="ko"?null:e.data;default:return null}}var LL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LL[t.type]:e==="textarea"}function Hx(t,e,n,r){Sx(r),e=Df(e,"onChange"),0<e.length&&(n=new Mv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nl=null,eu=null;function jL(t){rI(t,0)}function td(t){var e=ks(t);if(gx(e))return t}function VL(t,e){if(t==="change")return e}var qx=!1;if(Yr){var om;if(Yr){var sm="oninput"in document;if(!sm){var iE=document.createElement("div");iE.setAttribute("oninput","return;"),sm=typeof iE.oninput=="function"}om=sm}else om=!1;qx=om&&(!document.documentMode||9<document.documentMode)}function oE(){Nl&&(Nl.detachEvent("onpropertychange",Gx),eu=Nl=null)}function Gx(t){if(t.propertyName==="value"&&td(eu)){var e=[];Hx(e,eu,t,Cv(t)),Ix(jL,e)}}function $L(t,e,n){t==="focusin"?(oE(),Nl=e,eu=n,Nl.attachEvent("onpropertychange",Gx)):t==="focusout"&&oE()}function FL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return td(eu)}function UL(t,e){if(t==="click")return td(e)}function BL(t,e){if(t==="input"||t==="change")return td(e)}function zL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lr=typeof Object.is=="function"?Object.is:zL;function tu(t,e){if(lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sg.call(e,i)||!lr(t[i],e[i]))return!1}return!0}function sE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aE(t,e){var n=sE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sE(n)}}function Yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qx(){for(var t=window,e=If();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=If(t.document)}return e}function Vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WL(t){var e=Qx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yx(n.ownerDocument.documentElement,n)){if(r!==null&&Vv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=aE(n,o);var s=aE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KL=Yr&&"documentMode"in document&&11>=document.documentMode,Ps=null,Ag=null,Dl=null,xg=!1;function lE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xg||Ps==null||Ps!==If(r)||(r=Ps,"selectionStart"in r&&Vv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&tu(Dl,r)||(Dl=r,r=Df(Ag,"onSelect"),0<r.length&&(e=new Mv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ps)))}function Cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cs={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},am={},Xx={};Yr&&(Xx=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function nd(t){if(am[t])return am[t];if(!Cs[t])return t;var e=Cs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xx)return am[t]=e[n];return t}var Jx=nd("animationend"),Zx=nd("animationiteration"),eI=nd("animationstart"),tI=nd("transitionend"),nI=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){nI.set(t,e),ls(e,[t])}for(var lm=0;lm<uE.length;lm++){var um=uE[lm],HL=um.toLowerCase(),qL=um[0].toUpperCase()+um.slice(1);oo(HL,"on"+qL)}oo(Jx,"onAnimationEnd");oo(Zx,"onAnimationIteration");oo(eI,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(tI,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GL=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function cE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,HM(r,e,void 0,t),t.currentTarget=null}function rI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;cE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;cE(i,a,u),o=l}}}if(Cf)throw t=Eg,Cf=!1,Eg=null,t}function Re(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(iI(e,t,2,!1),n.add(r))}function cm(t,e,n){var r=0;e&&(r|=4),iI(n,t,r,e)}var kc="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[kc]){t[kc]=!0,fx.forEach(function(n){n!=="selectionchange"&&(GL.has(n)||cm(n,!1,t),cm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kc]||(e[kc]=!0,cm("selectionchange",!1,e))}}function iI(t,e,n,r){switch(Ux(e)){case 1:var i=lL;break;case 4:i=uL;break;default:i=Nv}n=i.bind(null,e,n,t),i=void 0,!wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Io(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Ix(function(){var u=o,c=Cv(n),h=[];e:{var d=nI.get(t);if(d!==void 0){var p=Mv,g=t;switch(t){case"keypress":if(uf(n)===0)break e;case"keydown":case"keyup":p=TL;break;case"focusin":g="focus",p=im;break;case"focusout":g="blur",p=im;break;case"beforeblur":case"afterblur":p=im;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=J1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=IL;break;case Jx:case Zx:case eI:p=mL;break;case tI:p=CL;break;case"scroll":p=cL;break;case"wheel":p=OL;break;case"copy":case"cut":case"paste":p=yL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=eE}var v=(e&4)!==0,E=!v&&t==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var _=u,b;_!==null;){b=_;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,y!==null&&(P=Ql(_,y),P!=null&&v.push(ru(_,P,b)))),E)break;_=_.return}0<v.length&&(d=new p(d,g,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==vg&&(g=n.relatedTarget||n.fromElement)&&(Io(g)||g[Qr]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Io(g):null,g!==null&&(E=us(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=J1,P="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(v=eE,P="onPointerLeave",y="onPointerEnter",_="pointer"),E=p==null?d:ks(p),b=g==null?d:ks(g),d=new v(P,_+"leave",p,n,c),d.target=E,d.relatedTarget=b,P=null,Io(c)===u&&(v=new v(y,_+"enter",g,n,c),v.target=b,v.relatedTarget=E,P=v),E=P,p&&g)t:{for(v=p,y=g,_=0,b=v;b;b=_s(b))_++;for(b=0,P=y;P;P=_s(P))b++;for(;0<_-b;)v=_s(v),_--;for(;0<b-_;)y=_s(y),b--;for(;_--;){if(v===y||y!==null&&v===y.alternate)break t;v=_s(v),y=_s(y)}v=null}else v=null;p!==null&&fE(h,d,p,v,!1),g!==null&&E!==null&&fE(h,E,g,v,!0)}}e:{if(d=u?ks(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var R=VL;else if(rE(d))if(qx)R=BL;else{R=FL;var D=$L}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=UL);if(R&&(R=R(t,u))){Hx(h,R,n,c);break e}D&&D(t,d,u),t==="focusout"&&(D=d._wrapperState)&&D.controlled&&d.type==="number"&&dg(d,"number",d.value)}switch(D=u?ks(u):window,t){case"focusin":(rE(D)||D.contentEditable==="true")&&(Ps=D,Ag=u,Dl=null);break;case"focusout":Dl=Ag=Ps=null;break;case"mousedown":xg=!0;break;case"contextmenu":case"mouseup":case"dragend":xg=!1,lE(h,n,c);break;case"selectionchange":if(KL)break;case"keydown":case"keyup":lE(h,n,c)}var A;if(jv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Is?Wx(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(zx&&n.locale!=="ko"&&(Is||S!=="onCompositionStart"?S==="onCompositionEnd"&&Is&&(A=Bx()):(Ri=c,Dv="value"in Ri?Ri.value:Ri.textContent,Is=!0)),D=Df(u,S),0<D.length&&(S=new Z1(S,t,null,n,c),h.push({event:S,listeners:D}),A?S.data=A:(A=Kx(n),A!==null&&(S.data=A)))),(A=NL?DL(t,n):ML(t,n))&&(u=Df(u,"onBeforeInput"),0<u.length&&(c=new Z1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}rI(h,e)})}function ru(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Df(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ql(t,n),o!=null&&r.unshift(ru(t,o,i)),o=Ql(t,e),o!=null&&r.push(ru(t,o,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ql(n,o),l!=null&&s.unshift(ru(n,l,a))):i||(l=Ql(n,o),l!=null&&s.push(ru(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var YL=/\r\n?/g,QL=/\u0000|\uFFFD/g;function hE(t){return(typeof t=="string"?t:""+t).replace(YL,`
`).replace(QL,"")}function Oc(t,e,n){if(e=hE(e),hE(t)!==e&&n)throw Error(B(425))}function Mf(){}var Ig=null,Pg=null;function Cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,XL=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,JL=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(t){return dE.resolve(null).then(t).catch(ZL)}:kg;function ZL(t){setTimeout(function(){throw t})}function hm(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zl(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),mr="__reactFiber$"+xa,iu="__reactProps$"+xa,Qr="__reactContainer$"+xa,Og="__reactEvents$"+xa,ej="__reactListeners$"+xa,tj="__reactHandles$"+xa;function Io(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pE(t);t!==null;){if(n=t[mr])return n;t=pE(t)}return e}t=n,n=t.parentNode}return null}function Du(t){return t=t[mr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function rd(t){return t[iu]||null}var Rg=[],Os=-1;function so(t){return{current:t}}function De(t){0>Os||(t.current=Rg[Os],Rg[Os]=null,Os--)}function Ce(t,e){Os++,Rg[Os]=t.current,t.current=e}var Xi={},Wt=so(Xi),an=so(!1),qo=Xi;function ra(t,e){var n=t.type.contextTypes;if(!n)return Xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ln(t){return t=t.childContextTypes,t!=null}function Lf(){De(an),De(Wt)}function mE(t,e,n){if(Wt.current!==Xi)throw Error(B(168));Ce(Wt,e),Ce(an,n)}function oI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,$M(t)||"Unknown",i));return Be({},n,r)}function jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,qo=Wt.current,Ce(Wt,t),Ce(an,an.current),!0}function gE(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=oI(t,e,qo),r.__reactInternalMemoizedMergedChildContext=t,De(an),De(Wt),Ce(Wt,t)):De(an),Ce(an,n)}var Mr=null,id=!1,dm=!1;function sI(t){Mr===null?Mr=[t]:Mr.push(t)}function nj(t){id=!0,sI(t)}function ao(){if(!dm&&Mr!==null){dm=!0;var t=0,e=Se;try{var n=Mr;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,id=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),Ox(kv,ao),i}finally{Se=e,dm=!1}}return null}var Rs=[],Ns=0,Vf=null,$f=0,Rn=[],Nn=0,Go=null,Vr=1,$r="";function Eo(t,e){Rs[Ns++]=$f,Rs[Ns++]=Vf,Vf=t,$f=e}function aI(t,e,n){Rn[Nn++]=Vr,Rn[Nn++]=$r,Rn[Nn++]=Go,Go=t;var r=Vr;t=$r;var i=32-sr(r)-1;r&=~(1<<i),n+=1;var o=32-sr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Vr=1<<32-sr(e)+i|n<<i|r,$r=o+t}else Vr=1<<o|n<<i|r,$r=t}function $v(t){t.return!==null&&(Eo(t,1),aI(t,1,0))}function Fv(t){for(;t===Vf;)Vf=Rs[--Ns],Rs[Ns]=null,$f=Rs[--Ns],Rs[Ns]=null;for(;t===Go;)Go=Rn[--Nn],Rn[Nn]=null,$r=Rn[--Nn],Rn[Nn]=null,Vr=Rn[--Nn],Rn[Nn]=null}var bn=null,En=null,Me=!1,er=null;function lI(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,En=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Go!==null?{id:Vr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,En=null,!0):!1;default:return!1}}function Ng(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dg(t){if(Me){var e=En;if(e){var n=e;if(!yE(t,e)){if(Ng(t))throw Error(B(418));e=$i(n.nextSibling);var r=bn;e&&yE(t,e)?lI(r,n):(t.flags=t.flags&-4097|2,Me=!1,bn=t)}}else{if(Ng(t))throw Error(B(418));t.flags=t.flags&-4097|2,Me=!1,bn=t}}}function vE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Rc(t){if(t!==bn)return!1;if(!Me)return vE(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cg(t.type,t.memoizedProps)),e&&(e=En)){if(Ng(t))throw uI(),Error(B(418));for(;e;)lI(t,e),e=$i(e.nextSibling)}if(vE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=bn?$i(t.stateNode.nextSibling):null;return!0}function uI(){for(var t=En;t;)t=$i(t.nextSibling)}function ia(){En=bn=null,Me=!1}function Uv(t){er===null?er=[t]:er.push(t)}var rj=ai.ReactCurrentBatchConfig;function ll(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Nc(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _E(t){var e=t._init;return e(t._payload)}function cI(t){function e(y,_){if(t){var b=y.deletions;b===null?(y.deletions=[_],y.flags|=16):b.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=zi(y,_),y.index=0,y.sibling=null,y}function o(y,_,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<_?(y.flags|=2,_):b):(y.flags|=2,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,b,P){return _===null||_.tag!==6?(_=wm(b,y.mode,P),_.return=y,_):(_=i(_,b),_.return=y,_)}function l(y,_,b,P){var R=b.type;return R===xs?c(y,_,b.props.children,P,b.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===bi&&_E(R)===_.type)?(P=i(_,b.props),P.ref=ll(y,_,b),P.return=y,P):(P=gf(b.type,b.key,b.props,null,y.mode,P),P.ref=ll(y,_,b),P.return=y,P)}function u(y,_,b,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Em(b,y.mode,P),_.return=y,_):(_=i(_,b.children||[]),_.return=y,_)}function c(y,_,b,P,R){return _===null||_.tag!==7?(_=Vo(b,y.mode,P,R),_.return=y,_):(_=i(_,b),_.return=y,_)}function h(y,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=wm(""+_,y.mode,b),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case bc:return b=gf(_.type,_.key,_.props,null,y.mode,b),b.ref=ll(y,null,_),b.return=y,b;case As:return _=Em(_,y.mode,b),_.return=y,_;case bi:var P=_._init;return h(y,P(_._payload),b)}if(_l(_)||rl(_))return _=Vo(_,y.mode,b,null),_.return=y,_;Nc(y,_)}return null}function d(y,_,b,P){var R=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(y,_,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bc:return b.key===R?l(y,_,b,P):null;case As:return b.key===R?u(y,_,b,P):null;case bi:return R=b._init,d(y,_,R(b._payload),P)}if(_l(b)||rl(b))return R!==null?null:c(y,_,b,P,null);Nc(y,b)}return null}function p(y,_,b,P,R){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(b)||null,a(_,y,""+P,R);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case bc:return y=y.get(P.key===null?b:P.key)||null,l(_,y,P,R);case As:return y=y.get(P.key===null?b:P.key)||null,u(_,y,P,R);case bi:var D=P._init;return p(y,_,b,D(P._payload),R)}if(_l(P)||rl(P))return y=y.get(b)||null,c(_,y,P,R,null);Nc(_,P)}return null}function g(y,_,b,P){for(var R=null,D=null,A=_,S=_=0,x=null;A!==null&&S<b.length;S++){A.index>S?(x=A,A=null):x=A.sibling;var k=d(y,A,b[S],P);if(k===null){A===null&&(A=x);break}t&&A&&k.alternate===null&&e(y,A),_=o(k,_,S),D===null?R=k:D.sibling=k,D=k,A=x}if(S===b.length)return n(y,A),Me&&Eo(y,S),R;if(A===null){for(;S<b.length;S++)A=h(y,b[S],P),A!==null&&(_=o(A,_,S),D===null?R=A:D.sibling=A,D=A);return Me&&Eo(y,S),R}for(A=r(y,A);S<b.length;S++)x=p(A,y,S,b[S],P),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?S:x.key),_=o(x,_,S),D===null?R=x:D.sibling=x,D=x);return t&&A.forEach(function(C){return e(y,C)}),Me&&Eo(y,S),R}function v(y,_,b,P){var R=rl(b);if(typeof R!="function")throw Error(B(150));if(b=R.call(b),b==null)throw Error(B(151));for(var D=R=null,A=_,S=_=0,x=null,k=b.next();A!==null&&!k.done;S++,k=b.next()){A.index>S?(x=A,A=null):x=A.sibling;var C=d(y,A,k.value,P);if(C===null){A===null&&(A=x);break}t&&A&&C.alternate===null&&e(y,A),_=o(C,_,S),D===null?R=C:D.sibling=C,D=C,A=x}if(k.done)return n(y,A),Me&&Eo(y,S),R;if(A===null){for(;!k.done;S++,k=b.next())k=h(y,k.value,P),k!==null&&(_=o(k,_,S),D===null?R=k:D.sibling=k,D=k);return Me&&Eo(y,S),R}for(A=r(y,A);!k.done;S++,k=b.next())k=p(A,y,S,k.value,P),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?S:k.key),_=o(k,_,S),D===null?R=k:D.sibling=k,D=k);return t&&A.forEach(function(N){return e(y,N)}),Me&&Eo(y,S),R}function E(y,_,b,P){if(typeof b=="object"&&b!==null&&b.type===xs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bc:e:{for(var R=b.key,D=_;D!==null;){if(D.key===R){if(R=b.type,R===xs){if(D.tag===7){n(y,D.sibling),_=i(D,b.props.children),_.return=y,y=_;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===bi&&_E(R)===D.type){n(y,D.sibling),_=i(D,b.props),_.ref=ll(y,D,b),_.return=y,y=_;break e}n(y,D);break}else e(y,D);D=D.sibling}b.type===xs?(_=Vo(b.props.children,y.mode,P,b.key),_.return=y,y=_):(P=gf(b.type,b.key,b.props,null,y.mode,P),P.ref=ll(y,_,b),P.return=y,y=P)}return s(y);case As:e:{for(D=b.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(y,_.sibling),_=i(_,b.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=Em(b,y.mode,P),_.return=y,y=_}return s(y);case bi:return D=b._init,E(y,_,D(b._payload),P)}if(_l(b))return g(y,_,b,P);if(rl(b))return v(y,_,b,P);Nc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,b),_.return=y,y=_):(n(y,_),_=wm(b,y.mode,P),_.return=y,y=_),s(y)):n(y,_)}return E}var oa=cI(!0),fI=cI(!1),Ff=so(null),Uf=null,Ds=null,Bv=null;function zv(){Bv=Ds=Uf=null}function Wv(t){var e=Ff.current;De(Ff),t._currentValue=e}function Mg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){Uf=t,Bv=Ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(on=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Bv!==t)if(t={context:t,memoizedValue:e,next:null},Ds===null){if(Uf===null)throw Error(B(308));Ds=t,Uf.dependencies={lanes:0,firstContext:t}}else Ds=Ds.next=t;return e}var Po=null;function Kv(t){Po===null?Po=[t]:Po.push(t)}function hI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kv(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Si=!1;function Hv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,me&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xr(t,n)}return i=r.interleaved,i===null?(e.next=e,Kv(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xr(t,n)}function cf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}function wE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bf(t,e,n,r){var i=t.updateQueue;Si=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=Be({},h,d);break e;case 2:Si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Qo|=s,t.lanes=s,t.memoizedState=h}}function EE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Mu={},_r=so(Mu),ou=so(Mu),su=so(Mu);function Co(t){if(t===Mu)throw Error(B(174));return t}function qv(t,e){switch(Ce(su,e),Ce(ou,t),Ce(_r,Mu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mg(e,t)}De(_r),Ce(_r,e)}function sa(){De(_r),De(ou),De(su)}function pI(t){Co(su.current);var e=Co(_r.current),n=mg(e,t.type);e!==n&&(Ce(ou,t),Ce(_r,n))}function Gv(t){ou.current===t&&(De(_r),De(ou))}var $e=so(0);function zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pm=[];function Yv(){for(var t=0;t<pm.length;t++)pm[t]._workInProgressVersionPrimary=null;pm.length=0}var ff=ai.ReactCurrentDispatcher,mm=ai.ReactCurrentBatchConfig,Yo=0,Fe=null,st=null,mt=null,Wf=!1,Ml=!1,au=0,ij=0;function Dt(){throw Error(B(321))}function Qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function Xv(t,e,n,r,i,o){if(Yo=o,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ff.current=t===null||t.memoizedState===null?lj:uj,t=n(r,i),Ml){o=0;do{if(Ml=!1,au=0,25<=o)throw Error(B(301));o+=1,mt=st=null,e.updateQueue=null,ff.current=cj,t=n(r,i)}while(Ml)}if(ff.current=Kf,e=st!==null&&st.next!==null,Yo=0,mt=st=Fe=null,Wf=!1,e)throw Error(B(300));return t}function Jv(){var t=au!==0;return au=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Fe.memoizedState=mt=t:mt=mt.next=t,mt}function Bn(){if(st===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=mt===null?Fe.memoizedState:mt.next;if(e!==null)mt=e,st=t;else{if(t===null)throw Error(B(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},mt===null?Fe.memoizedState=mt=t:mt=mt.next=t}return mt}function lu(t,e){return typeof e=="function"?e(t):e}function gm(t){var e=Bn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Yo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Fe.lanes|=c,Qo|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,lr(r,e.memoizedState)||(on=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Fe.lanes|=o,Qo|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ym(t){var e=Bn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);lr(o,e.memoizedState)||(on=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function mI(){}function gI(t,e){var n=Fe,r=Bn(),i=e(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,on=!0),r=r.queue,Zv(_I.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,uu(9,vI.bind(null,n,r,i,e),void 0,null),gt===null)throw Error(B(349));Yo&30||yI(n,e,i)}return i}function yI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vI(t,e,n,r){e.value=n,e.getSnapshot=r,wI(e)&&EI(t)}function _I(t,e,n){return n(function(){wI(e)&&EI(t)})}function wI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lr(t,n)}catch{return!0}}function EI(t){var e=Xr(t,1);e!==null&&ar(e,t,1,-1)}function bE(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lu,lastRenderedState:t},e.queue=t,t=t.dispatch=aj.bind(null,Fe,t),[e.memoizedState,t]}function uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bI(){return Bn().memoizedState}function hf(t,e,n,r){var i=dr();Fe.flags|=t,i.memoizedState=uu(1|e,n,void 0,r===void 0?null:r)}function od(t,e,n,r){var i=Bn();r=r===void 0?null:r;var o=void 0;if(st!==null){var s=st.memoizedState;if(o=s.destroy,r!==null&&Qv(r,s.deps)){i.memoizedState=uu(e,n,o,r);return}}Fe.flags|=t,i.memoizedState=uu(1|e,n,o,r)}function SE(t,e){return hf(8390656,8,t,e)}function Zv(t,e){return od(2048,8,t,e)}function SI(t,e){return od(4,2,t,e)}function TI(t,e){return od(4,4,t,e)}function AI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xI(t,e,n){return n=n!=null?n.concat([t]):null,od(4,4,AI.bind(null,e,t),n)}function e0(){}function II(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PI(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CI(t,e,n){return Yo&21?(lr(n,e)||(n=Dx(),Fe.lanes|=n,Qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,on=!0),t.memoizedState=n)}function oj(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=mm.transition;mm.transition={};try{t(!1),e()}finally{Se=n,mm.transition=r}}function kI(){return Bn().memoizedState}function sj(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OI(t))RI(e,n);else if(n=hI(t,e,n,r),n!==null){var i=Qt();ar(n,t,r,i),NI(n,e,r)}}function aj(t,e,n){var r=Bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OI(t))RI(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,lr(a,s)){var l=e.interleaved;l===null?(i.next=i,Kv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hI(t,e,i,r),n!==null&&(i=Qt(),ar(n,t,r,i),NI(n,e,r))}}function OI(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function RI(t,e){Ml=Wf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ov(t,n)}}var Kf={readContext:Un,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},lj={readContext:Un,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:SE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hf(4194308,4,AI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hf(4194308,4,t,e)},useInsertionEffect:function(t,e){return hf(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sj.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:bE,useDebugValue:e0,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=bE(!1),e=t[0];return t=oj.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=dr();if(Me){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),gt===null)throw Error(B(349));Yo&30||yI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,SE(_I.bind(null,r,o,t),[t]),r.flags|=2048,uu(9,vI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=dr(),e=gt.identifierPrefix;if(Me){var n=$r,r=Vr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=au++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ij++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uj={readContext:Un,useCallback:II,useContext:Un,useEffect:Zv,useImperativeHandle:xI,useInsertionEffect:SI,useLayoutEffect:TI,useMemo:PI,useReducer:gm,useRef:bI,useState:function(){return gm(lu)},useDebugValue:e0,useDeferredValue:function(t){var e=Bn();return CI(e,st.memoizedState,t)},useTransition:function(){var t=gm(lu)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:mI,useSyncExternalStore:gI,useId:kI,unstable_isNewReconciler:!1},cj={readContext:Un,useCallback:II,useContext:Un,useEffect:Zv,useImperativeHandle:xI,useInsertionEffect:SI,useLayoutEffect:TI,useMemo:PI,useReducer:ym,useRef:bI,useState:function(){return ym(lu)},useDebugValue:e0,useDeferredValue:function(t){var e=Bn();return st===null?e.memoizedState=t:CI(e,st.memoizedState,t)},useTransition:function(){var t=ym(lu)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:mI,useSyncExternalStore:gI,useId:kI,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sd={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Bi(t),o=Wr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,i),e!==null&&(ar(e,t,i,r),cf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),i=Bi(t),o=Wr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fi(t,o,i),e!==null&&(ar(e,t,i,r),cf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Bi(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(ar(e,t,r,n),cf(e,t,r))}};function TE(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!tu(n,r)||!tu(i,o):!0}function DI(t,e,n){var r=!1,i=Xi,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(i=ln(e)?qo:Wt.current,r=e.contextTypes,o=(r=r!=null)?ra(t,i):Xi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function AE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sd.enqueueReplaceState(e,e.state,null)}function jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Hv(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Un(o):(o=ln(e)?qo:Wt.current,i.context=ra(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lg(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sd.enqueueReplaceState(i,i.state,null),Bf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e){try{var n="",r=e;do n+=VM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fj=typeof WeakMap=="function"?WeakMap:Map;function MI(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qf||(qf=!0,Gg=r),Vg(t,e)},n}function LI(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Vg(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Vg(t,e),typeof r!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function xE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fj;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Aj.bind(null,t,e,n),e.then(t,t))}function IE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var hj=ai.ReactCurrentOwner,on=!1;function Gt(t,e,n,r){e.child=t===null?fI(e,null,n,r):oa(e,t.child,n,r)}function CE(t,e,n,r,i){n=n.render;var o=e.ref;return Ws(e,i),r=Xv(t,e,n,r,o,i),n=Jv(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Me&&n&&$v(e),e.flags|=1,Gt(t,e,r,i),e.child)}function kE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!l0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,jI(t,e,o,r,i)):(t=gf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:tu,n(s,r)&&t.ref===e.ref)return Jr(t,e,i)}return e.flags|=1,t=zi(o,r),t.ref=e.ref,t.return=e,e.child=t}function jI(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(tu(o,r)&&t.ref===e.ref)if(on=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(on=!0);else return e.lanes=t.lanes,Jr(t,e,i)}return $g(t,e,n,r,i)}function VI(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Ls,yn),yn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(Ls,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(Ls,yn),yn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ce(Ls,yn),yn|=r;return Gt(t,e,i,n),e.child}function $I(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $g(t,e,n,r,i){var o=ln(n)?qo:Wt.current;return o=ra(e,o),Ws(e,i),n=Xv(t,e,n,r,o,i),r=Jv(),t!==null&&!on?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jr(t,e,i)):(Me&&r&&$v(e),e.flags|=1,Gt(t,e,n,i),e.child)}function OE(t,e,n,r,i){if(ln(n)){var o=!0;jf(e)}else o=!1;if(Ws(e,i),e.stateNode===null)df(t,e),DI(e,n,r),jg(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=ln(n)?qo:Wt.current,u=ra(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&AE(e,s,r,u),Si=!1;var d=e.memoizedState;s.state=d,Bf(e,r,s,i),l=e.memoizedState,a!==r||d!==l||an.current||Si?(typeof c=="function"&&(Lg(e,n,c,r),l=e.memoizedState),(a=Si||TE(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,dI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jn(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=ln(n)?qo:Wt.current,l=ra(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&AE(e,s,r,l),Si=!1,d=e.memoizedState,s.state=d,Bf(e,r,s,i);var g=e.memoizedState;a!==h||d!==g||an.current||Si?(typeof p=="function"&&(Lg(e,n,p,r),g=e.memoizedState),(u=Si||TE(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Fg(t,e,n,r,o,i)}function Fg(t,e,n,r,i,o){$I(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&gE(e,n,!1),Jr(t,e,o);r=e.stateNode,hj.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=oa(e,t.child,null,o),e.child=oa(e,null,a,o)):Gt(t,e,a,o),e.memoizedState=r.state,i&&gE(e,n,!0),e.child}function FI(t){var e=t.stateNode;e.pendingContext?mE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mE(t,e.context,!1),qv(t,e.containerInfo)}function RE(t,e,n,r,i){return ia(),Uv(i),e.flags|=256,Gt(t,e,n,r),e.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function Bg(t){return{baseLanes:t,cachePool:null,transitions:null}}function UI(t,e,n){var r=e.pendingProps,i=$e.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce($e,i&1),t===null)return Dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ud(s,r,0,null),t=Vo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bg(n),e.memoizedState=Ug,t):t0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dj(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=zi(a,o):(o=Vo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Bg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ug,r}return o=t.child,t=o.sibling,r=zi(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function t0(t,e){return e=ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dc(t,e,n,r){return r!==null&&Uv(r),oa(e,t.child,null,n),t=t0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dj(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=vm(Error(B(422))),Dc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ud({mode:"visible",children:r.children},i,0,null),o=Vo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&oa(e,t.child,null,s),e.child.memoizedState=Bg(s),e.memoizedState=Ug,o);if(!(e.mode&1))return Dc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=vm(o,r,void 0),Dc(t,e,s,r)}if(a=(s&t.childLanes)!==0,on||a){if(r=gt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xr(t,i),ar(r,t,i,-1))}return a0(),r=vm(Error(B(421))),Dc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xj.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,En=$i(i.nextSibling),bn=e,Me=!0,er=null,t!==null&&(Rn[Nn++]=Vr,Rn[Nn++]=$r,Rn[Nn++]=Go,Vr=t.id,$r=t.overflow,Go=e),e=t0(e,r.children),e.flags|=4096,e)}function NE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mg(t.return,e,n)}function _m(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function BI(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Gt(t,e,r.children,n),r=$e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&NE(t,n,e);else if(t.tag===19)NE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce($e,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_m(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_m(e,!0,n,null,o);break;case"together":_m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pj(t,e,n){switch(e.tag){case 3:FI(e),ia();break;case 5:pI(e);break;case 1:ln(e.type)&&jf(e);break;case 4:qv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Ff,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce($e,$e.current&1),e.flags|=128,null):n&e.child.childLanes?UI(t,e,n):(Ce($e,$e.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Ce($e,$e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return BI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce($e,$e.current),r)break;return null;case 22:case 23:return e.lanes=0,VI(t,e,n)}return Jr(t,e,n)}var zI,zg,WI,KI;zI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zg=function(){};WI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Co(_r.current);var o=null;switch(n){case"input":i=fg(t,i),r=fg(t,r),o=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":i=pg(t,i),r=pg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mf)}gg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};KI=function(t,e,n,r){n!==r&&(e.flags|=4)};function ul(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mj(t,e,n){var r=e.pendingProps;switch(Fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(e),null;case 1:return ln(e.type)&&Lf(),Mt(e),null;case 3:return r=e.stateNode,sa(),De(an),De(Wt),Yv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Xg(er),er=null))),zg(t,e),Mt(e),null;case 5:Gv(e);var i=Co(su.current);if(n=e.type,t!==null&&e.stateNode!=null)WI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Mt(e),null}if(t=Co(_r.current),Rc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[mr]=e,r[iu]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(i=0;i<El.length;i++)Re(El[i],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":B1(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":W1(r,o),Re("invalid",r)}gg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Oc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Oc(r.textContent,a,t),i=["children",""+a]):Gl.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Re("scroll",r)}switch(n){case"input":Sc(r),z1(r,o,!0);break;case"textarea":Sc(r),K1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Mf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_x(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[mr]=e,t[iu]=r,zI(t,e,!1,!1),e.stateNode=t;e:{switch(s=yg(n,r),n){case"dialog":Re("cancel",t),Re("close",t),i=r;break;case"iframe":case"object":case"embed":Re("load",t),i=r;break;case"video":case"audio":for(i=0;i<El.length;i++)Re(El[i],t);i=r;break;case"source":Re("error",t),i=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),i=r;break;case"details":Re("toggle",t),i=r;break;case"input":B1(t,r),i=fg(t,r),Re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Re("invalid",t);break;case"textarea":W1(t,r),i=pg(t,r),Re("invalid",t);break;default:i=r}gg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?bx(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wx(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Gl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Re("scroll",t):l!=null&&Av(t,o,l,s))}switch(n){case"input":Sc(t),z1(t,r,!1);break;case"textarea":Sc(t),K1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Fs(t,!!r.multiple,o,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Mt(e),null;case 6:if(t&&e.stateNode!=null)KI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Co(su.current),Co(_r.current),Rc(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(o=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Oc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return Mt(e),null;case 13:if(De($e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&En!==null&&e.mode&1&&!(e.flags&128))uI(),ia(),e.flags|=98560,o=!1;else if(o=Rc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[mr]=e}else ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Mt(e),o=!1}else er!==null&&(Xg(er),er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||$e.current&1?at===0&&(at=3):a0())),e.updateQueue!==null&&(e.flags|=4),Mt(e),null);case 4:return sa(),zg(t,e),t===null&&nu(e.stateNode.containerInfo),Mt(e),null;case 10:return Wv(e.type._context),Mt(e),null;case 17:return ln(e.type)&&Lf(),Mt(e),null;case 19:if(De($e),o=e.memoizedState,o===null)return Mt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ul(o,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=zf(t),s!==null){for(e.flags|=128,ul(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce($e,$e.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ye()>la&&(e.flags|=128,r=!0,ul(o,!1),e.lanes=4194304)}else{if(!r)if(t=zf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ul(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Me)return Mt(e),null}else 2*Ye()-o.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,r=!0,ul(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ye(),e.sibling=null,n=$e.current,Ce($e,r?n&1|2:n&1),e):(Mt(e),null);case 22:case 23:return s0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Mt(e),e.subtreeFlags&6&&(e.flags|=8192)):Mt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function gj(t,e){switch(Fv(e),e.tag){case 1:return ln(e.type)&&Lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sa(),De(an),De(Wt),Yv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gv(e),null;case 13:if(De($e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De($e),null;case 4:return sa(),null;case 10:return Wv(e.type._context),null;case 22:case 23:return s0(),null;case 24:return null;default:return null}}var Mc=!1,$t=!1,yj=typeof WeakSet=="function"?WeakSet:Set,G=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function Wg(t,e,n){try{n()}catch(r){qe(t,e,r)}}var DE=!1;function vj(t,e){if(Ig=Rf,t=Qx(),Vv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pg={focusedElem:t,selectionRange:n},Rf=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,E=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:Jn(e.type,v),E);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){qe(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return g=DE,DE=!1,g}function Ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wg(e,n,o)}i=i.next}while(i!==r)}}function ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function HI(t){var e=t.alternate;e!==null&&(t.alternate=null,HI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[iu],delete e[Og],delete e[ej],delete e[tj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qI(t){return t.tag===5||t.tag===3||t.tag===4}function ME(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mf));else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}function qg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qg(t,e,n),t=t.sibling;t!==null;)qg(t,e,n),t=t.sibling}var Et=null,Zn=!1;function vi(t,e,n){for(n=n.child;n!==null;)GI(t,e,n),n=n.sibling}function GI(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Zh,n)}catch{}switch(n.tag){case 5:$t||Ms(n,e);case 6:var r=Et,i=Zn;Et=null,vi(t,e,n),Et=r,Zn=i,Et!==null&&(Zn?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Zn?(t=Et,n=n.stateNode,t.nodeType===8?hm(t.parentNode,n):t.nodeType===1&&hm(t,n),Zl(t)):hm(Et,n.stateNode));break;case 4:r=Et,i=Zn,Et=n.stateNode.containerInfo,Zn=!0,vi(t,e,n),Et=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!$t&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Wg(n,e,s),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!$t&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,e,a)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?($t=(r=$t)||n.memoizedState!==null,vi(t,e,n),$t=r):vi(t,e,n);break;default:vi(t,e,n)}}function LE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yj),e.forEach(function(r){var i=Ij.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,Zn=!1;break e;case 3:Et=a.stateNode.containerInfo,Zn=!0;break e;case 4:Et=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Et===null)throw Error(B(160));GI(o,s,i),Et=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qe(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YI(e,t),e=e.sibling}function YI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),hr(t),r&4){try{Ll(3,t,t.return),ad(3,t)}catch(v){qe(t,t.return,v)}try{Ll(5,t,t.return)}catch(v){qe(t,t.return,v)}}break;case 1:Xn(e,t),hr(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(Xn(e,t),hr(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var i=t.stateNode;try{Yl(i,"")}catch(v){qe(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&yx(i,o),yg(a,s);var u=yg(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?bx(i,h):c==="dangerouslySetInnerHTML"?wx(i,h):c==="children"?Yl(i,h):Av(i,c,h,u)}switch(a){case"input":hg(i,o);break;case"textarea":vx(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Fs(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Fs(i,!!o.multiple,o.defaultValue,!0):Fs(i,!!o.multiple,o.multiple?[]:"",!1))}i[iu]=o}catch(v){qe(t,t.return,v)}}break;case 6:if(Xn(e,t),hr(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){qe(t,t.return,v)}}break;case 3:if(Xn(e,t),hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(v){qe(t,t.return,v)}break;case 4:Xn(e,t),hr(t);break;case 13:Xn(e,t),hr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(i0=Ye())),r&4&&LE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($t=(u=$t)||c,Xn(e,t),$t=u):Xn(e,t),hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(G=t,c=t.child;c!==null;){for(h=G=c;G!==null;){switch(d=G,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ll(4,d,d.return);break;case 1:Ms(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){qe(r,n,v)}}break;case 5:Ms(d,d.return);break;case 22:if(d.memoizedState!==null){VE(h);continue}}p!==null?(p.return=d,G=p):VE(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ex("display",s))}catch(v){qe(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){qe(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(e,t),hr(t),r&4&&LE(t);break;case 21:break;default:Xn(e,t),hr(t)}}function hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qI(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yl(i,""),r.flags&=-33);var o=ME(t);qg(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=ME(t);Hg(t,a,s);break;default:throw Error(B(161))}}catch(l){qe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _j(t,e,n){G=t,QI(t)}function QI(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Mc;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$t;a=Mc;var u=$t;if(Mc=s,($t=l)&&!u)for(G=i;G!==null;)s=G,l=s.child,s.tag===22&&s.memoizedState!==null?$E(i):l!==null?(l.return=s,G=l):$E(i);for(;o!==null;)G=o,QI(o),o=o.sibling;G=i,Mc=a,$t=u}jE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):jE(t)}}function jE(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$t||ad(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$t)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&EE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EE(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Zl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}$t||e.flags&512&&Kg(e)}catch(d){qe(e,e.return,d)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function VE(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function $E(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ad(4,e)}catch(l){qe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qe(e,i,l)}}var o=e.return;try{Kg(e)}catch(l){qe(e,o,l)}break;case 5:var s=e.return;try{Kg(e)}catch(l){qe(e,s,l)}}}catch(l){qe(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var wj=Math.ceil,Hf=ai.ReactCurrentDispatcher,n0=ai.ReactCurrentOwner,Fn=ai.ReactCurrentBatchConfig,me=0,gt=null,Ze=null,At=0,yn=0,Ls=so(0),at=0,cu=null,Qo=0,ld=0,r0=0,jl=null,rn=null,i0=0,la=1/0,Dr=null,qf=!1,Gg=null,Ui=null,Lc=!1,Ni=null,Gf=0,Vl=0,Yg=null,pf=-1,mf=0;function Qt(){return me&6?Ye():pf!==-1?pf:pf=Ye()}function Bi(t){return t.mode&1?me&2&&At!==0?At&-At:rj.transition!==null?(mf===0&&(mf=Dx()),mf):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Ux(t.type)),t):1}function ar(t,e,n,r){if(50<Vl)throw Vl=0,Yg=null,Error(B(185));Ru(t,n,r),(!(me&2)||t!==gt)&&(t===gt&&(!(me&2)&&(ld|=n),at===4&&xi(t,At)),un(t,r),n===1&&me===0&&!(e.mode&1)&&(la=Ye()+500,id&&ao()))}function un(t,e){var n=t.callbackNode;rL(t,e);var r=Of(t,t===gt?At:0);if(r===0)n!==null&&G1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&G1(n),e===1)t.tag===0?nj(FE.bind(null,t)):sI(FE.bind(null,t)),JL(function(){!(me&6)&&ao()}),n=null;else{switch(Mx(r)){case 1:n=kv;break;case 4:n=Rx;break;case 16:n=kf;break;case 536870912:n=Nx;break;default:n=kf}n=iP(n,XI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XI(t,e){if(pf=-1,mf=0,me&6)throw Error(B(327));var n=t.callbackNode;if(Ks()&&t.callbackNode!==n)return null;var r=Of(t,t===gt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yf(t,r);else{e=r;var i=me;me|=2;var o=ZI();(gt!==t||At!==e)&&(Dr=null,la=Ye()+500,jo(t,e));do try{Sj();break}catch(a){JI(t,a)}while(!0);zv(),Hf.current=o,me=i,Ze!==null?e=0:(gt=null,At=0,e=at)}if(e!==0){if(e===2&&(i=bg(t),i!==0&&(r=i,e=Qg(t,i))),e===1)throw n=cu,jo(t,0),xi(t,r),un(t,Ye()),n;if(e===6)xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Ej(i)&&(e=Yf(t,r),e===2&&(o=bg(t),o!==0&&(r=o,e=Qg(t,o))),e===1))throw n=cu,jo(t,0),xi(t,r),un(t,Ye()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:bo(t,rn,Dr);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=i0+500-Ye(),10<e)){if(Of(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kg(bo.bind(null,t,rn,Dr),e);break}bo(t,rn,Dr);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-sr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wj(r/1960))-r,10<r){t.timeoutHandle=kg(bo.bind(null,t,rn,Dr),r);break}bo(t,rn,Dr);break;case 5:bo(t,rn,Dr);break;default:throw Error(B(329))}}}return un(t,Ye()),t.callbackNode===n?XI.bind(null,t):null}function Qg(t,e){var n=jl;return t.current.memoizedState.isDehydrated&&(jo(t,e).flags|=256),t=Yf(t,e),t!==2&&(e=rn,rn=n,e!==null&&Xg(e)),t}function Xg(t){rn===null?rn=t:rn.push.apply(rn,t)}function Ej(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!lr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~r0,e&=~ld,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function FE(t){if(me&6)throw Error(B(327));Ks();var e=Of(t,0);if(!(e&1))return un(t,Ye()),null;var n=Yf(t,e);if(t.tag!==0&&n===2){var r=bg(t);r!==0&&(e=r,n=Qg(t,r))}if(n===1)throw n=cu,jo(t,0),xi(t,e),un(t,Ye()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bo(t,rn,Dr),un(t,Ye()),null}function o0(t,e){var n=me;me|=1;try{return t(e)}finally{me=n,me===0&&(la=Ye()+500,id&&ao())}}function Xo(t){Ni!==null&&Ni.tag===0&&!(me&6)&&Ks();var e=me;me|=1;var n=Fn.transition,r=Se;try{if(Fn.transition=null,Se=1,t)return t()}finally{Se=r,Fn.transition=n,me=e,!(me&6)&&ao()}}function s0(){yn=Ls.current,De(Ls)}function jo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XL(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(Fv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lf();break;case 3:sa(),De(an),De(Wt),Yv();break;case 5:Gv(r);break;case 4:sa();break;case 13:De($e);break;case 19:De($e);break;case 10:Wv(r.type._context);break;case 22:case 23:s0()}n=n.return}if(gt=t,Ze=t=zi(t.current,null),At=yn=e,at=0,cu=null,r0=ld=Qo=0,rn=jl=null,Po!==null){for(e=0;e<Po.length;e++)if(n=Po[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Po=null}return t}function JI(t,e){do{var n=Ze;try{if(zv(),ff.current=Kf,Wf){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wf=!1}if(Yo=0,mt=st=Fe=null,Ml=!1,au=0,n0.current=null,n===null||n.return===null){at=1,cu=e,Ze=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=IE(s);if(p!==null){p.flags&=-257,PE(p,s,a,o,e),p.mode&1&&xE(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){xE(o,u,e),a0();break e}l=Error(B(426))}}else if(Me&&a.mode&1){var E=IE(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),PE(E,s,a,o,e),Uv(aa(l,a));break e}}o=l=aa(l,a),at!==4&&(at=2),jl===null?jl=[o]:jl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=MI(o,l,e);wE(o,y);break e;case 1:a=l;var _=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ui===null||!Ui.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=LI(o,a,e);wE(o,P);break e}}o=o.return}while(o!==null)}tP(n)}catch(R){e=R,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function ZI(){var t=Hf.current;return Hf.current=Kf,t===null?Kf:t}function a0(){(at===0||at===3||at===2)&&(at=4),gt===null||!(Qo&268435455)&&!(ld&268435455)||xi(gt,At)}function Yf(t,e){var n=me;me|=2;var r=ZI();(gt!==t||At!==e)&&(Dr=null,jo(t,e));do try{bj();break}catch(i){JI(t,i)}while(!0);if(zv(),me=n,Hf.current=r,Ze!==null)throw Error(B(261));return gt=null,At=0,at}function bj(){for(;Ze!==null;)eP(Ze)}function Sj(){for(;Ze!==null&&!GM();)eP(Ze)}function eP(t){var e=rP(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?tP(t):Ze=e,n0.current=null}function tP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gj(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}else if(n=mj(n,e,yn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);at===0&&(at=5)}function bo(t,e,n){var r=Se,i=Fn.transition;try{Fn.transition=null,Se=1,Tj(t,e,n,r)}finally{Fn.transition=i,Se=r}return null}function Tj(t,e,n,r){do Ks();while(Ni!==null);if(me&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(iL(t,o),t===gt&&(Ze=gt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lc||(Lc=!0,iP(kf,function(){return Ks(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Fn.transition,Fn.transition=null;var s=Se;Se=1;var a=me;me|=4,n0.current=null,vj(t,n),YI(n,t),WL(Pg),Rf=!!Ig,Pg=Ig=null,t.current=n,_j(n),YM(),me=a,Se=s,Fn.transition=o}else t.current=n;if(Lc&&(Lc=!1,Ni=t,Gf=i),o=t.pendingLanes,o===0&&(Ui=null),JM(n.stateNode),un(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qf)throw qf=!1,t=Gg,Gg=null,t;return Gf&1&&t.tag!==0&&Ks(),o=t.pendingLanes,o&1?t===Yg?Vl++:(Vl=0,Yg=t):Vl=0,ao(),null}function Ks(){if(Ni!==null){var t=Mx(Gf),e=Fn.transition,n=Se;try{if(Fn.transition=null,Se=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,Gf=0,me&6)throw Error(B(331));var i=me;for(me|=4,G=t.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var c=G;switch(c.tag){case 0:case 11:case 15:Ll(8,c,o)}var h=c.child;if(h!==null)h.return=c,G=h;else for(;G!==null;){c=G;var d=c.sibling,p=c.return;if(HI(c),c===u){G=null;break}if(d!==null){d.return=p,G=d;break}G=p}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ll(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,G=y;break e}G=o.return}}var _=t.current;for(G=_;G!==null;){s=G;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,G=b;else e:for(s=_;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ad(9,a)}}catch(R){qe(a,a.return,R)}if(a===s){G=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,G=P;break e}G=a.return}}if(me=i,ao(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Zh,t)}catch{}r=!0}return r}finally{Se=n,Fn.transition=e}}return!1}function UE(t,e,n){e=aa(n,e),e=MI(t,e,1),t=Fi(t,e,1),e=Qt(),t!==null&&(Ru(t,1,e),un(t,e))}function qe(t,e,n){if(t.tag===3)UE(t,t,n);else for(;e!==null;){if(e.tag===3){UE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ui===null||!Ui.has(r))){t=aa(n,t),t=LI(e,t,1),e=Fi(e,t,1),t=Qt(),e!==null&&(Ru(e,1,t),un(e,t));break}}e=e.return}}function Aj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(At&n)===n&&(at===4||at===3&&(At&130023424)===At&&500>Ye()-i0?jo(t,0):r0|=n),un(t,e)}function nP(t,e){e===0&&(t.mode&1?(e=xc,xc<<=1,!(xc&130023424)&&(xc=4194304)):e=1);var n=Qt();t=Xr(t,e),t!==null&&(Ru(t,e,n),un(t,n))}function xj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nP(t,n)}function Ij(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),nP(t,n)}var rP;rP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||an.current)on=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return on=!1,pj(t,e,n);on=!!(t.flags&131072)}else on=!1,Me&&e.flags&1048576&&aI(e,$f,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;df(t,e),t=e.pendingProps;var i=ra(e,Wt.current);Ws(e,n),i=Xv(null,e,r,t,i,n);var o=Jv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(r)?(o=!0,jf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hv(e),i.updater=sd,e.stateNode=i,i._reactInternals=e,jg(e,r,t,n),e=Fg(null,e,r,!0,o,n)):(e.tag=0,Me&&o&&$v(e),Gt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(df(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Cj(r),t=Jn(r,t),i){case 0:e=$g(null,e,r,t,n);break e;case 1:e=OE(null,e,r,t,n);break e;case 11:e=CE(null,e,r,t,n);break e;case 14:e=kE(null,e,r,Jn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),$g(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),OE(t,e,r,i,n);case 3:e:{if(FI(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,dI(t,e),Bf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=aa(Error(B(423)),e),e=RE(t,e,r,n,i);break e}else if(r!==i){i=aa(Error(B(424)),e),e=RE(t,e,r,n,i);break e}else for(En=$i(e.stateNode.containerInfo.firstChild),bn=e,Me=!0,er=null,n=fI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ia(),r===i){e=Jr(t,e,n);break e}Gt(t,e,r,n)}e=e.child}return e;case 5:return pI(e),t===null&&Dg(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Cg(r,i)?s=null:o!==null&&Cg(r,o)&&(e.flags|=32),$I(t,e),Gt(t,e,s,n),e.child;case 6:return t===null&&Dg(e),null;case 13:return UI(t,e,n);case 4:return qv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):Gt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),CE(t,e,r,i,n);case 7:return Gt(t,e,e.pendingProps,n),e.child;case 8:return Gt(t,e,e.pendingProps.children,n),e.child;case 12:return Gt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ce(Ff,r._currentValue),r._currentValue=s,o!==null)if(lr(o.value,s)){if(o.children===i.children&&!an.current){e=Jr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mg(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Mg(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ws(e,n),i=Un(i),r=r(i),e.flags|=1,Gt(t,e,r,n),e.child;case 14:return r=e.type,i=Jn(r,e.pendingProps),i=Jn(r.type,i),kE(t,e,r,i,n);case 15:return jI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),df(t,e),e.tag=1,ln(r)?(t=!0,jf(e)):t=!1,Ws(e,n),DI(e,r,i),jg(e,r,i,n),Fg(null,e,r,!0,t,n);case 19:return BI(t,e,n);case 22:return VI(t,e,n)}throw Error(B(156,e.tag))};function iP(t,e){return Ox(t,e)}function Pj(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new Pj(t,e,n,r)}function l0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cj(t){if(typeof t=="function")return l0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Iv)return 11;if(t===Pv)return 14}return 2}function zi(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")l0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case xs:return Vo(n.children,i,o,e);case xv:s=8,i|=8;break;case ag:return t=jn(12,n,e,i|2),t.elementType=ag,t.lanes=o,t;case lg:return t=jn(13,n,e,i),t.elementType=lg,t.lanes=o,t;case ug:return t=jn(19,n,e,i),t.elementType=ug,t.lanes=o,t;case px:return ud(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hx:s=10;break e;case dx:s=9;break e;case Iv:s=11;break e;case Pv:s=14;break e;case bi:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=jn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vo(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function ud(t,e,n,r){return t=jn(22,t,r,e),t.elementType=px,t.lanes=n,t.stateNode={isHidden:!1},t}function wm(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function Em(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kj(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tm(0),this.expirationTimes=tm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function u0(t,e,n,r,i,o,s,a,l){return t=new kj(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hv(o),t}function Oj(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:As,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oP(t){if(!t)return Xi;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(ln(n))return oI(t,n,e)}return e}function sP(t,e,n,r,i,o,s,a,l){return t=u0(n,r,!0,t,i,o,s,a,l),t.context=oP(null),n=t.current,r=Qt(),i=Bi(n),o=Wr(r,i),o.callback=e??null,Fi(n,o,i),t.current.lanes=i,Ru(t,i,r),un(t,r),t}function cd(t,e,n,r){var i=e.current,o=Qt(),s=Bi(i);return n=oP(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,s),t!==null&&(ar(t,i,s,o),cf(t,i,s)),s}function Qf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function c0(t,e){BE(t,e),(t=t.alternate)&&BE(t,e)}function Rj(){return null}var aP=typeof reportError=="function"?reportError:function(t){console.error(t)};function f0(t){this._internalRoot=t}fd.prototype.render=f0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));cd(t,e,null,null)};fd.prototype.unmount=f0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xo(function(){cd(null,t,null,null)}),e[Qr]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&Fx(t)}};function h0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zE(){}function Nj(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Qf(s);o.call(u)}}var s=sP(e,r,t,0,null,!1,!1,"",zE);return t._reactRootContainer=s,t[Qr]=s.current,nu(t.nodeType===8?t.parentNode:t),Xo(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qf(l);a.call(u)}}var l=u0(t,0,!1,null,null,!1,!1,"",zE);return t._reactRootContainer=l,t[Qr]=l.current,nu(t.nodeType===8?t.parentNode:t),Xo(function(){cd(e,l,n,r)}),l}function dd(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Qf(s);a.call(l)}}cd(e,s,t,i)}else s=Nj(n,e,t,i,r);return Qf(s)}Lx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wl(e.pendingLanes);n!==0&&(Ov(e,n|1),un(e,Ye()),!(me&6)&&(la=Ye()+500,ao()))}break;case 13:Xo(function(){var r=Xr(t,1);if(r!==null){var i=Qt();ar(r,t,1,i)}}),c0(t,1)}};Rv=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=Qt();ar(e,t,134217728,n)}c0(t,134217728)}};jx=function(t){if(t.tag===13){var e=Bi(t),n=Xr(t,e);if(n!==null){var r=Qt();ar(n,t,e,r)}c0(t,e)}};Vx=function(){return Se};$x=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};_g=function(t,e,n){switch(e){case"input":if(hg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=rd(r);if(!i)throw Error(B(90));gx(r),hg(r,i)}}}break;case"textarea":vx(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};Ax=o0;xx=Xo;var Dj={usingClientEntryPoint:!1,Events:[Du,ks,rd,Sx,Tx,o0]},cl={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mj={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cx(t),t===null?null:t.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||Rj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Zh=jc.inject(Mj),vr=jc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dj;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(e))throw Error(B(200));return Oj(t,e,null,n)};Pn.createRoot=function(t,e){if(!h0(t))throw Error(B(299));var n=!1,r="",i=aP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=u0(t,1,!1,null,null,n,!1,r,i),t[Qr]=e.current,nu(t.nodeType===8?t.parentNode:t),new f0(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Cx(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Xo(t)};Pn.hydrate=function(t,e,n){if(!hd(e))throw Error(B(200));return dd(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!h0(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=aP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=sP(e,null,t,1,n??null,i,!1,o,s),t[Qr]=e.current,nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new fd(e)};Pn.render=function(t,e,n){if(!hd(e))throw Error(B(200));return dd(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!hd(t))throw Error(B(40));return t._reactRootContainer?(Xo(function(){dd(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Pn.unstable_batchedUpdates=o0;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hd(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return dd(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function lP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lP)}catch(t){console.error(t)}}lP(),lx.exports=Pn;var uP=lx.exports,cP,WE=uP;cP=WE.createRoot,WE.hydrateRoot;/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=()=>{};var KE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(d=64)),r.push(n[c],n[h],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new Vj;const d=o<<2|a>>4;if(r.push(d),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $j=function(t){const e=fP(t);return hP.encodeByteArray(e,!0)},Xf=function(t){return $j(t).replace(/\./g,"")},dP=function(t){try{return hP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=()=>Fj().__FIREBASE_DEFAULTS__,Bj=()=>{if(typeof process>"u"||typeof KE>"u")return;const t=KE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dP(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return Lj()||Uj()||Bj()||zj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pP=t=>{var e,n;return(n=(e=pd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Wj=t=>{const e=pP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mP=()=>{var t;return(t=pd())==null?void 0:t.config},gP=t=>{var e;return(e=pd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xf(JSON.stringify(n)),Xf(JSON.stringify(s)),""].join(".")}const $l={};function qj(){const t={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?t.emulator.push(e):t.prod.push(e);return t}function Gj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let HE=!1;function vP(t,e){if(typeof window>"u"||typeof document>"u"||!Ia(window.location.host)||$l[t]===e||$l[t]||HE)return;$l[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=qj().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function u(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{HE=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=Gj(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const b=d.element;a(b),c(E,v);const P=u();l(_,y),b.append(_,g,E,P),document.body.appendChild(b)}o?(g.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function Qj(){var e;const t=(e=pd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e4(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t4(){return!Qj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n4(){try{return typeof indexedDB=="object"}catch{return!1}}function r4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i4,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?o4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new li(i,a,r)}}function o4(t,e){return t.replace(s4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s4=/\{\$([^}]+)}/g;function a4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(qE(o)&&qE(s)){if(!Jo(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function qE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l4(t,e){const n=new u4(t,e);return n.subscribe.bind(n)}class u4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=bm),i.error===void 0&&(i.error=bm),i.complete===void 0&&(i.complete=bm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class Zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Kj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d4(e))try{this.getOrInitializeService({instanceIdentifier:So})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=So){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=So){return this.instances.has(e)}getOptions(e=So){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=So){return this.component?this.component.multipleInstances?e:So:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function h4(t){return t===So?void 0:t}function d4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const m4={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},g4=ue.INFO,y4={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},v4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d0{constructor(e){this.name=e,this._logLevel=g4,this._logHandler=v4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const _4=(t,e)=>e.some(n=>t instanceof n);let GE,YE;function w4(){return GE||(GE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E4(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _P=new WeakMap,Jg=new WeakMap,wP=new WeakMap,Sm=new WeakMap,p0=new WeakMap;function b4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Wi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_P.set(n,t)}).catch(()=>{}),p0.set(e,t),e}function S4(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T4(t){Zg=t(Zg)}function A4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return wP.set(r,e.sort?e.sort():[e]),Wi(r)}:E4().includes(t)?function(...e){return t.apply(Tm(this),e),Wi(_P.get(this))}:function(...e){return Wi(t.apply(Tm(this),e))}}function x4(t){return typeof t=="function"?A4(t):(t instanceof IDBTransaction&&S4(t),_4(t,w4())?new Proxy(t,Zg):t)}function Wi(t){if(t instanceof IDBRequest)return b4(t);if(Sm.has(t))return Sm.get(t);const e=x4(t);return e!==t&&(Sm.set(t,e),p0.set(e,t)),e}const Tm=t=>p0.get(t);function I4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Wi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Wi(s.result),l.oldVersion,l.newVersion,Wi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const P4=["get","getKey","getAll","getAllKeys","count"],C4=["put","add","delete","clear"],Am=new Map;function QE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=C4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P4.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Am.set(e,o),o}T4(t=>({...t,get:(e,n,r)=>QE(e,n)||t.get(e,n,r),has:(e,n)=>!!QE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ey="@firebase/app",XE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new d0("@firebase/app"),R4="@firebase/app-compat",N4="@firebase/analytics-compat",D4="@firebase/analytics",M4="@firebase/app-check-compat",L4="@firebase/app-check",j4="@firebase/auth",V4="@firebase/auth-compat",$4="@firebase/database",F4="@firebase/data-connect",U4="@firebase/database-compat",B4="@firebase/functions",z4="@firebase/functions-compat",W4="@firebase/installations",K4="@firebase/installations-compat",H4="@firebase/messaging",q4="@firebase/messaging-compat",G4="@firebase/performance",Y4="@firebase/performance-compat",Q4="@firebase/remote-config",X4="@firebase/remote-config-compat",J4="@firebase/storage",Z4="@firebase/storage-compat",eV="@firebase/firestore",tV="@firebase/ai",nV="@firebase/firestore-compat",rV="firebase",iV="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="[DEFAULT]",oV={[ey]:"fire-core",[R4]:"fire-core-compat",[D4]:"fire-analytics",[N4]:"fire-analytics-compat",[L4]:"fire-app-check",[M4]:"fire-app-check-compat",[j4]:"fire-auth",[V4]:"fire-auth-compat",[$4]:"fire-rtdb",[F4]:"fire-data-connect",[U4]:"fire-rtdb-compat",[B4]:"fire-fn",[z4]:"fire-fn-compat",[W4]:"fire-iid",[K4]:"fire-iid-compat",[H4]:"fire-fcm",[q4]:"fire-fcm-compat",[G4]:"fire-perf",[Y4]:"fire-perf-compat",[Q4]:"fire-rc",[X4]:"fire-rc-compat",[J4]:"fire-gcs",[Z4]:"fire-gcs-compat",[eV]:"fire-fst",[nV]:"fire-fst-compat",[tV]:"fire-vertex","fire-js":"fire-js",[rV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,sV=new Map,ny=new Map;function JE(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ua(t){const e=t.name;if(ny.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;ny.set(e,t);for(const n of Jf.values())JE(n,t);for(const n of sV.values())JE(n,t);return!0}function m0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Lu("app","Firebase",aV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=iV;function EP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ty,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=mP()),!n)throw Ki.create("no-options");const o=Jf.get(i);if(o){if(Jo(n,o.options)&&Jo(r,o.config))return o;throw Ki.create("duplicate-app",{appName:i})}const s=new p4(i);for(const l of ny.values())s.addComponent(l);const a=new lV(n,r,s);return Jf.set(i,a),a}function bP(t=ty){const e=Jf.get(t);if(!e&&t===ty&&mP())return EP();if(!e)throw Ki.create("no-app",{appName:t});return e}function Hi(t,e,n){let r=oV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(s.join(" "));return}ua(new Zo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV="firebase-heartbeat-database",cV=1,fu="firebase-heartbeat-store";let xm=null;function SP(){return xm||(xm=I4(uV,cV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),xm}async function fV(t){try{const n=(await SP()).transaction(fu),r=await n.objectStore(fu).get(TP(t));return await n.done,r}catch(e){if(e instanceof li)Zr.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(n.message)}}}async function ZE(t,e){try{const r=(await SP()).transaction(fu,"readwrite");await r.objectStore(fu).put(e,TP(t)),await r.done}catch(n){if(n instanceof li)Zr.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zr.warn(r.message)}}}function TP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=1024,dV=30;class pV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=eb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>dV){const s=yV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eb(),{heartbeatsToSend:r,unsentEntries:i}=mV(this._heartbeatsCache.heartbeats),o=Xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zr.warn(n),""}}}function eb(){return new Date().toISOString().substring(0,10)}function mV(t,e=hV){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n4()?r4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return ZE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function tb(t){return Xf(JSON.stringify({version:2,heartbeats:t})).length}function yV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){ua(new Zo("platform-logger",e=>new k4(e),"PRIVATE")),ua(new Zo("heartbeat",e=>new pV(e),"PRIVATE")),Hi(ey,XE,t),Hi(ey,XE,"esm2020"),Hi("fire-js","")}vV("");function AP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _V=AP,xP=new Lu("auth","Firebase",AP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new d0("@firebase/auth");function wV(t,...e){Zf.logLevel<=ue.WARN&&Zf.warn(`Auth (${Pa}): ${t}`,...e)}function yf(t,...e){Zf.logLevel<=ue.ERROR&&Zf.error(`Auth (${Pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw g0(t,...e)}function wr(t,...e){return g0(t,...e)}function IP(t,e,n){const r={..._V(),[e]:n};return new Lu("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return IP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xP.create(t,...e)}function te(t,e,...n){if(!t)throw g0(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yf(e),new Error(e)}function ei(t,e){t||Fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EV(){return nb()==="http:"||nb()==="https:"}function nb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EV()||Jj()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=Yj()||Zj()}get(){return bV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xV=new Vu(3e4,6e4);function lo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function uo(t,e,n,r,i={}){return CP(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=ju({key:t.config.apiKey,...s}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...o};return Xj()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ia(t.emulatorConfig.host)&&(u.credentials="include"),PP.fetch()(await kP(t,t.config.apiHost,n,a),u)})}async function CP(t,e,n){t._canInitEmulator=!1;const r={...TV,...e};try{const i=new PV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Vc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Vc(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IP(t,c,u);ur(t,c)}}catch(i){if(i instanceof li)throw i;ur(t,"network-request-failed",{message:String(i)})}}async function $u(t,e,n,r,i={}){const o=await uo(t,e,n,r,i);return"mfaPendingCredential"in o&&ur(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function kP(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?y0(t.config,i):`${t.config.apiScheme}://${i}`;return AV.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function IV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),xV.get())})}}function Vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wr(t,e,r);return i.customData._tokenResponse=n,i}function rb(t){return t!==void 0&&t.enterprise!==void 0}class CV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kV(t,e){return uo(t,"GET","/v2/recaptchaConfig",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){return uo(t,"POST","/v1/accounts:delete",e)}async function eh(t,e){return uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RV(t,e=!1){const n=cn(t),r=await n.getIdToken(e),i=v0(r);te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Fl(Im(i.auth_time)),issuedAtTime:Fl(Im(i.iat)),expirationTime:Fl(Im(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Im(t){return Number(t)*1e3}function v0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const i=dP(n);return i?JSON.parse(i):(yf("Failed to decode base64 JWT payload"),null)}catch(i){return yf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ib(t){const e=v0(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&NV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function NV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(t){var h;const e=t.auth,n=await t.getIdToken(),r=await hu(t,eh(e,{idToken:n}));te(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(h=i.providerUserInfo)!=null&&h.length?OP(i.providerUserInfo):[],s=LV(t.providerData,o),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new iy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function MV(t){const e=cn(t);await th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){const n=await CP(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await kP(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ia(t.emulatorConfig.host)&&(l.credentials="include"),PP.fetch()(s,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VV(t,e){return uo(t,"POST","/v2/accounts:revokeToken",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=ib(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await jV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Hs;return r&&(te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class or{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new DV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new iy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RV(this,e)}reload(){return MV(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await hu(this,OV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:p,providerData:g,stsTokenManager:v}=n;te(h&&v,e,"internal-error");const E=Hs.fromJSON(this.name,v);te(typeof h=="string",e,"internal-error"),_i(r,e.name),_i(i,e.name),te(typeof d=="boolean",e,"internal-error"),te(typeof p=="boolean",e,"internal-error"),_i(o,e.name),_i(s,e.name),_i(a,e.name),_i(l,e.name),_i(u,e.name),_i(c,e.name);const y=new or({uid:h,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:E,createdAt:u,lastLoginAt:c});return g&&Array.isArray(g)&&(y.providerData=g.map(_=>({..._}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hs;i.updateFromServerResponse(n);const o=new or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await th(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?OP(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Hs;a.updateFromIdToken(r);const l=new or({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new iy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;function Ur(t){ei(t instanceof Function,"Expected a class definition");let e=ob.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RP.type="NONE";const sb=RP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vf(this.userKey,i.apiKey,o),this.fullPersistenceKey=vf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await eh(this.auth,{idToken:e}).catch(()=>{});return n?or._fromGetAccountInfoResponse(this.auth,n,e):null}return or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(Ur(sb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ur(sb);const s=vf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){let h;if(typeof c=="string"){const d=await eh(e,{idToken:c}).catch(()=>{});if(!d)break;h=await or._fromGetAccountInfoResponse(e,d,c)}else h=or._fromJSON(e,c);u!==o&&(a=h),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new qs(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new qs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VP(e))return"Blackberry";if($P(e))return"Webos";if(DP(e))return"Safari";if((e.includes("chrome/")||MP(e))&&!e.includes("edge/"))return"Chrome";if(jP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NP(t=Kt()){return/firefox\//i.test(t)}function DP(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MP(t=Kt()){return/crios\//i.test(t)}function LP(t=Kt()){return/iemobile/i.test(t)}function jP(t=Kt()){return/android/i.test(t)}function VP(t=Kt()){return/blackberry/i.test(t)}function $P(t=Kt()){return/webos/i.test(t)}function _0(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $V(t=Kt()){var e;return _0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function FV(){return e4()&&document.documentMode===10}function FP(t=Kt()){return _0(t)||jP(t)||$P(t)||VP(t)||/windows phone/i.test(t)||LP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e=[]){let n;switch(t){case"Browser":n=ab(Kt());break;case"Worker":n=`${ab(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e={}){return uo(t,"GET","/v2/passwordPolicy",lo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=6;class WV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new UV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eh(this,{idToken:e}),r=await or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Mn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Kr(this));const n=e?cn(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BV(this),n=new WV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&wV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cs(t){return cn(t)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=l4(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HV(t){md=t}function BP(t){return md.loadJS(t)}function qV(){return md.recaptchaEnterpriseScript}function GV(){return md.gapiScript}function YV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QV{constructor(){this.enterprise=new XV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JV="recaptcha-enterprise",zP="NO_RECAPTCHA";class ZV{constructor(e){this.type=JV,this.auth=cs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{kV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new CV(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;rb(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(zP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QV().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&rb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qV();l.length!==0&&(l+=a),BP(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function ub(t,e,n,r=!1,i=!1){const o=new ZV(t);let s;if(i)s=zP;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function oy(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await ub(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await ub(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(t,e){const n=m0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Jo(o,e??{}))return i;ur(i,"already-initialized")}return n.initialize({options:e})}function t3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n3(t,e,n){const r=cs(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=WP(e),{host:s,port:a}=r3(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(Jo(u,r.config.emulator)&&Jo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Ia(s)?(yP(`${o}//${s}${l}`),vP("Auth",!0)):i3()}function WP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r3(t){const e=WP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:cb(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:cb(s)}}}function cb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function o3(t,e){return uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(t,e){return $u(t,"POST","/v1/accounts:signInWithPassword",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}async function l3(t,e){return $u(t,"POST","/v1/accounts:signInWithEmailLink",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends w0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,n,"signInWithPassword",s3);case"emailLink":return a3(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oy(e,r,"signUpPassword",o3);case"emailLink":return l3(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gs(t,e){return $u(t,"POST","/v1/accounts:signInWithIdp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="http://localhost";class es extends w0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new es(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Gs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Gs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Gs(e,n)}buildRequest(){const e={requestUri:u3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function f3(t){const e=bl(Sl(t)).link,n=e?bl(Sl(e)).deep_link_id:null,r=bl(Sl(t)).deep_link_id;return(r?bl(Sl(r)).link:null)||r||n||e||t}class E0{constructor(e){const n=bl(Sl(e)),r=n.apiKey??null,i=n.oobCode??null,o=c3(n.mode??null);te(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=f3(e);try{return new E0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E0.parseLink(n);return te(r,"argument-error"),du._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends KP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Fu{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Fu{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Fu{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e){return $u(t,"POST","/v1/accounts:signUp",lo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await or._fromIdTokenResponse(e,r,i),s=fb(r);return new ts({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fb(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends li{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new nh(e,n,r,i)}}function HP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,o,e,r):o})}async function d3(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p3(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(Kr(r));const i="reauthenticate";try{const o=await hu(t,HP(r,i,e,t),n);te(o.idToken,r,"internal-error");const s=v0(o.idToken);te(s,r,"internal-error");const{sub:a}=s;return te(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ur(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(t,e,n=!1){if(Mn(t.app))return Promise.reject(Kr(t));const r="signIn",i=await HP(t,r,e),o=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function m3(t,e){return qP(cs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t){const e=cs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g3(t,e,n){if(Mn(t.app))return Promise.reject(Kr(t));const r=cs(t),s=await oy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",h3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GP(t),l}),a=await ts._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function y3(t,e,n){return Mn(t.app)?Promise.reject(Kr(t)):m3(cn(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GP(t),r})}function v3(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function _3(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}function w3(t,e,n,r){return cn(t).onAuthStateChanged(e,n,r)}function E3(t){return cn(t).signOut()}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=1e3,S3=10;class QP extends YP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);FV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,S3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},b3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QP.type="LOCAL";const T3=QP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP extends YP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XP.type="SESSION";const JP=XP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await A3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=b0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function I3(t){Er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function P3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function k3(){return ZP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebaseLocalStorageDb",O3=1,ih="firebaseLocalStorage",tC="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yd(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function R3(){const t=indexedDB.deleteDatabase(eC);return new Uu(t).toPromise()}function sy(){const t=indexedDB.open(eC,O3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ih,{keyPath:tC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await R3(),e(await sy()))})})}async function hb(t,e,n){const r=yd(t,!0).put({[tC]:e,value:n});return new Uu(r).toPromise()}async function N3(t,e){const n=yd(t,!1).get(e),r=await new Uu(n).toPromise();return r===void 0?null:r.value}function db(t,e){const n=yd(t,!0).delete(e);return new Uu(n).toPromise()}const D3=800,M3=3;class nC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>M3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gd._getInstance(k3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await P3(),!this.activeServiceWorker)return;this.sender=new x3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await hb(e,rh,"1"),await db(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>db(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yd(i,!1).getAll();return new Uu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nC.type="LOCAL";const L3=nC;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){return e?Ur(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0 extends w0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Gs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function V3(t){return qP(t.auth,new S0(t),t.bypassAuthState)}function $3(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),p3(n,new S0(t),t.bypassAuthState)}async function F3(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),d3(n,new S0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V3;case"linkViaPopup":case"linkViaRedirect":return F3;case"reauthViaPopup":case"reauthViaRedirect":return $3;default:ur(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new Vu(2e3,1e4);class js extends rC{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=b0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U3.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3="pendingRedirect",_f=new Map;class z3 extends rC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_f.get(this.auth._key());if(!e){try{const r=await W3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_f.set(this.auth._key(),e)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W3(t,e){const n=q3(e),r=H3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function K3(t,e){_f.set(t._key(),e)}function H3(t){return Ur(t._redirectPersistence)}function q3(t){return vf(B3,t.config.apiKey,t.name)}async function G3(t,e,n=!1){if(Mn(t.app))return Promise.reject(Kr(t));const r=cs(t),i=j3(r,e),s=await new z3(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=10*60*1e3;class Q3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y3&&this.cachedEventUids.clear(),this.cachedEventUids.has(pb(e))}saveEventToCache(e){this.cachedEventUids.add(pb(e)),this.lastProcessedEventTime=Date.now()}}function pb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e={}){return uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e6=/^https?/;async function t6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await J3(t);for(const n of e)try{if(n6(n))return}catch{}ur(t,"unauthorized-domain")}function n6(t){const e=ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!e6.test(n))return!1;if(Z3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new Vu(3e4,6e4);function mb(){const t=Er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i6(t){return new Promise((e,n)=>{var i,o,s;function r(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),n(wr(t,"network-request-failed"))},timeout:r6.get()})}if((o=(i=Er().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=Er().gapi)!=null&&s.load)r();else{const a=YV("iframefcb");return Er()[a]=()=>{gapi.load?r():n(wr(t,"network-request-failed"))},BP(`${GV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wf=null,e})}let wf=null;function o6(t){return wf=wf||i6(t),wf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Vu(5e3,15e3),a6="__/auth/iframe",l6="emulator/auth/iframe",u6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f6(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,l6):`https://${t.config.authDomain}/${a6}`,r={apiKey:e.apiKey,appName:t.name,v:Pa},i=c6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ju(r).slice(1)}`}async function h6(t){const e=await o6(t),n=Er().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:f6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=wr(t,"network-request-failed"),a=Er().setTimeout(()=>{o(s)},s6.get());function l(){Er().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p6=500,m6=600,g6="_blank",y6="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v6(t,e,n,r=p6,i=m6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...d6,width:r.toString(),height:i.toString(),top:o,left:s},u=Kt().toLowerCase();n&&(a=MP(u)?g6:n),NP(u)&&(e=e||y6,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if($V(u)&&a!=="_self")return _6(e||"",a),new gb(null);const h=window.open(e||"",a,c);te(h,t,"popup-blocked");try{h.focus()}catch{}return new gb(h)}function _6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="__/auth/handler",E6="emulator/auth/handler",b6=encodeURIComponent("fac");async function yb(t,e,n,r,i,o){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pa,eventId:i};if(e instanceof KP){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",a4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))s[c]=h}if(e instanceof Fu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${b6}=${encodeURIComponent(l)}`:"";return`${S6(t)}?${ju(a).slice(1)}${u}`}function S6({config:t}){return t.emulator?y0(t,E6):`https://${t.authDomain}/${w6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="webStorageSupport";class T6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JP,this._completeRedirectFn=G3,this._overrideRedirectResult=K3}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yb(e,n,r,ry(),i);return v6(e,o,b0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yb(e,n,r,ry(),i);return I3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ei(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h6(e),r=new Q3(e);return n.register("authEvent",i=>(te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[Pm];o!==void 0&&n(!!o),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FP()||DP()||_0()}}const A6=T6;var vb="@firebase/auth",_b="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P6(t){ua(new Zo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UP(t)},u=new KV(r,i,o,l);return t3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ua(new Zo("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(r=>new x6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(vb,_b,I6(t)),Hi(vb,_b,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=5*60,k6=gP("authIdTokenMaxAge")||C6;let wb=null;const O6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k6)return;const i=n==null?void 0:n.token;wb!==i&&(wb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R6(t=bP()){const e=m0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e3(t,{popupRedirectResolver:A6,persistence:[L3,T3,JP]}),r=gP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=O6(o.toString());_3(n,s,()=>s(n.currentUser)),v3(n,a=>s(a))}}const i=pP("auth");return i&&n3(n,`http://${i}`),n}function N6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}HV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=wr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",N6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P6("Browser");var D6="firebase",M6="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(D6,M6,"app");var Eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,oC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function x(){}x.prototype=S.prototype,A.D=S.prototype,A.prototype=new x,A.prototype.constructor=A,A.C=function(k,C,N){for(var O=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)O[oe-2]=arguments[oe];return S.prototype[C].apply(k,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,x){x||(x=0);var k=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)k[C]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(C=0;16>C;++C)k[C]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=A.g[0],x=A.g[1],C=A.g[2];var N=A.g[3],O=S+(N^x&(C^N))+k[0]+3614090360&4294967295;S=x+(O<<7&4294967295|O>>>25),O=N+(C^S&(x^C))+k[1]+3905402710&4294967295,N=S+(O<<12&4294967295|O>>>20),O=C+(x^N&(S^x))+k[2]+606105819&4294967295,C=N+(O<<17&4294967295|O>>>15),O=x+(S^C&(N^S))+k[3]+3250441966&4294967295,x=C+(O<<22&4294967295|O>>>10),O=S+(N^x&(C^N))+k[4]+4118548399&4294967295,S=x+(O<<7&4294967295|O>>>25),O=N+(C^S&(x^C))+k[5]+1200080426&4294967295,N=S+(O<<12&4294967295|O>>>20),O=C+(x^N&(S^x))+k[6]+2821735955&4294967295,C=N+(O<<17&4294967295|O>>>15),O=x+(S^C&(N^S))+k[7]+4249261313&4294967295,x=C+(O<<22&4294967295|O>>>10),O=S+(N^x&(C^N))+k[8]+1770035416&4294967295,S=x+(O<<7&4294967295|O>>>25),O=N+(C^S&(x^C))+k[9]+2336552879&4294967295,N=S+(O<<12&4294967295|O>>>20),O=C+(x^N&(S^x))+k[10]+4294925233&4294967295,C=N+(O<<17&4294967295|O>>>15),O=x+(S^C&(N^S))+k[11]+2304563134&4294967295,x=C+(O<<22&4294967295|O>>>10),O=S+(N^x&(C^N))+k[12]+1804603682&4294967295,S=x+(O<<7&4294967295|O>>>25),O=N+(C^S&(x^C))+k[13]+4254626195&4294967295,N=S+(O<<12&4294967295|O>>>20),O=C+(x^N&(S^x))+k[14]+2792965006&4294967295,C=N+(O<<17&4294967295|O>>>15),O=x+(S^C&(N^S))+k[15]+1236535329&4294967295,x=C+(O<<22&4294967295|O>>>10),O=S+(C^N&(x^C))+k[1]+4129170786&4294967295,S=x+(O<<5&4294967295|O>>>27),O=N+(x^C&(S^x))+k[6]+3225465664&4294967295,N=S+(O<<9&4294967295|O>>>23),O=C+(S^x&(N^S))+k[11]+643717713&4294967295,C=N+(O<<14&4294967295|O>>>18),O=x+(N^S&(C^N))+k[0]+3921069994&4294967295,x=C+(O<<20&4294967295|O>>>12),O=S+(C^N&(x^C))+k[5]+3593408605&4294967295,S=x+(O<<5&4294967295|O>>>27),O=N+(x^C&(S^x))+k[10]+38016083&4294967295,N=S+(O<<9&4294967295|O>>>23),O=C+(S^x&(N^S))+k[15]+3634488961&4294967295,C=N+(O<<14&4294967295|O>>>18),O=x+(N^S&(C^N))+k[4]+3889429448&4294967295,x=C+(O<<20&4294967295|O>>>12),O=S+(C^N&(x^C))+k[9]+568446438&4294967295,S=x+(O<<5&4294967295|O>>>27),O=N+(x^C&(S^x))+k[14]+3275163606&4294967295,N=S+(O<<9&4294967295|O>>>23),O=C+(S^x&(N^S))+k[3]+4107603335&4294967295,C=N+(O<<14&4294967295|O>>>18),O=x+(N^S&(C^N))+k[8]+1163531501&4294967295,x=C+(O<<20&4294967295|O>>>12),O=S+(C^N&(x^C))+k[13]+2850285829&4294967295,S=x+(O<<5&4294967295|O>>>27),O=N+(x^C&(S^x))+k[2]+4243563512&4294967295,N=S+(O<<9&4294967295|O>>>23),O=C+(S^x&(N^S))+k[7]+1735328473&4294967295,C=N+(O<<14&4294967295|O>>>18),O=x+(N^S&(C^N))+k[12]+2368359562&4294967295,x=C+(O<<20&4294967295|O>>>12),O=S+(x^C^N)+k[5]+4294588738&4294967295,S=x+(O<<4&4294967295|O>>>28),O=N+(S^x^C)+k[8]+2272392833&4294967295,N=S+(O<<11&4294967295|O>>>21),O=C+(N^S^x)+k[11]+1839030562&4294967295,C=N+(O<<16&4294967295|O>>>16),O=x+(C^N^S)+k[14]+4259657740&4294967295,x=C+(O<<23&4294967295|O>>>9),O=S+(x^C^N)+k[1]+2763975236&4294967295,S=x+(O<<4&4294967295|O>>>28),O=N+(S^x^C)+k[4]+1272893353&4294967295,N=S+(O<<11&4294967295|O>>>21),O=C+(N^S^x)+k[7]+4139469664&4294967295,C=N+(O<<16&4294967295|O>>>16),O=x+(C^N^S)+k[10]+3200236656&4294967295,x=C+(O<<23&4294967295|O>>>9),O=S+(x^C^N)+k[13]+681279174&4294967295,S=x+(O<<4&4294967295|O>>>28),O=N+(S^x^C)+k[0]+3936430074&4294967295,N=S+(O<<11&4294967295|O>>>21),O=C+(N^S^x)+k[3]+3572445317&4294967295,C=N+(O<<16&4294967295|O>>>16),O=x+(C^N^S)+k[6]+76029189&4294967295,x=C+(O<<23&4294967295|O>>>9),O=S+(x^C^N)+k[9]+3654602809&4294967295,S=x+(O<<4&4294967295|O>>>28),O=N+(S^x^C)+k[12]+3873151461&4294967295,N=S+(O<<11&4294967295|O>>>21),O=C+(N^S^x)+k[15]+530742520&4294967295,C=N+(O<<16&4294967295|O>>>16),O=x+(C^N^S)+k[2]+3299628645&4294967295,x=C+(O<<23&4294967295|O>>>9),O=S+(C^(x|~N))+k[0]+4096336452&4294967295,S=x+(O<<6&4294967295|O>>>26),O=N+(x^(S|~C))+k[7]+1126891415&4294967295,N=S+(O<<10&4294967295|O>>>22),O=C+(S^(N|~x))+k[14]+2878612391&4294967295,C=N+(O<<15&4294967295|O>>>17),O=x+(N^(C|~S))+k[5]+4237533241&4294967295,x=C+(O<<21&4294967295|O>>>11),O=S+(C^(x|~N))+k[12]+1700485571&4294967295,S=x+(O<<6&4294967295|O>>>26),O=N+(x^(S|~C))+k[3]+2399980690&4294967295,N=S+(O<<10&4294967295|O>>>22),O=C+(S^(N|~x))+k[10]+4293915773&4294967295,C=N+(O<<15&4294967295|O>>>17),O=x+(N^(C|~S))+k[1]+2240044497&4294967295,x=C+(O<<21&4294967295|O>>>11),O=S+(C^(x|~N))+k[8]+1873313359&4294967295,S=x+(O<<6&4294967295|O>>>26),O=N+(x^(S|~C))+k[15]+4264355552&4294967295,N=S+(O<<10&4294967295|O>>>22),O=C+(S^(N|~x))+k[6]+2734768916&4294967295,C=N+(O<<15&4294967295|O>>>17),O=x+(N^(C|~S))+k[13]+1309151649&4294967295,x=C+(O<<21&4294967295|O>>>11),O=S+(C^(x|~N))+k[4]+4149444226&4294967295,S=x+(O<<6&4294967295|O>>>26),O=N+(x^(S|~C))+k[11]+3174756917&4294967295,N=S+(O<<10&4294967295|O>>>22),O=C+(S^(N|~x))+k[2]+718787259&4294967295,C=N+(O<<15&4294967295|O>>>17),O=x+(N^(C|~S))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,A.g[2]=A.g[2]+C&4294967295,A.g[3]=A.g[3]+N&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var x=S-this.blockSize,k=this.B,C=this.h,N=0;N<S;){if(C==0)for(;N<=x;)i(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<S;)if(k[C++]=A.charCodeAt(N++),C==this.blockSize){i(this,k),C=0;break}}else for(;N<S;)if(k[C++]=A[N++],C==this.blockSize){i(this,k),C=0;break}}this.h=C,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var x=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=x&255,x/=256;for(this.u(A),A=Array(16),S=x=0;4>S;++S)for(var k=0;32>k;k+=8)A[x++]=this.g[S]>>>k&255;return A};function o(A,S){var x=a;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=S(A)}function s(A,S){this.h=S;for(var x=[],k=!0,C=A.length-1;0<=C;C--){var N=A[C]|0;k&&N==S||(x[C]=N,k=!1)}this.g=x}var a={};function l(A){return-128<=A&&128>A?o(A,function(S){return new s([S|0],0>S?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return E(u(-A));for(var S=[],x=1,k=0;A>=x;k++)S[k]=A/x|0,x*=4294967296;return new s(S,0)}function c(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return E(c(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(S,8)),k=h,C=0;C<A.length;C+=8){var N=Math.min(8,A.length-C),O=parseInt(A.substring(C,C+N),S);8>N?(N=u(Math.pow(S,N)),k=k.j(N).add(u(O))):(k=k.j(x),k=k.add(u(O)))}return k}var h=l(0),d=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(v(this))return-E(this).m();for(var A=0,S=1,x=0;x<this.g.length;x++){var k=this.i(x);A+=(0<=k?k:4294967296+k)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(v(this))return"-"+E(this).toString(A);for(var S=u(Math.pow(A,6)),x=this,k="";;){var C=P(x,S).g;x=y(x,C.j(S));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(A);if(x=C,g(x))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=y(this,A),v(A)?-1:g(A)?0:1};function E(A){for(var S=A.g.length,x=[],k=0;k<S;k++)x[k]=~A.g[k];return new s(x,~A.h).add(d)}t.abs=function(){return v(this)?E(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),x=[],k=0,C=0;C<=S;C++){var N=k+(this.i(C)&65535)+(A.i(C)&65535),O=(N>>>16)+(this.i(C)>>>16)+(A.i(C)>>>16);k=O>>>16,N&=65535,O&=65535,x[C]=O<<16|N}return new s(x,x[x.length-1]&-2147483648?-1:0)};function y(A,S){return A.add(E(S))}t.j=function(A){if(g(this)||g(A))return h;if(v(this))return v(A)?E(this).j(E(A)):E(E(this).j(A));if(v(A))return E(this.j(E(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,x=[],k=0;k<2*S;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var C=0;C<A.g.length;C++){var N=this.i(k)>>>16,O=this.i(k)&65535,oe=A.i(C)>>>16,ve=A.i(C)&65535;x[2*k+2*C]+=O*ve,_(x,2*k+2*C),x[2*k+2*C+1]+=N*ve,_(x,2*k+2*C+1),x[2*k+2*C+1]+=O*oe,_(x,2*k+2*C+1),x[2*k+2*C+2]+=N*oe,_(x,2*k+2*C+2)}for(k=0;k<S;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=S;k<2*S;k++)x[k]=0;return new s(x,0)};function _(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function b(A,S){this.g=A,this.h=S}function P(A,S){if(g(S))throw Error("division by zero");if(g(A))return new b(h,h);if(v(A))return S=P(E(A),S),new b(E(S.g),E(S.h));if(v(S))return S=P(A,E(S)),new b(E(S.g),S.h);if(30<A.g.length){if(v(A)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var x=d,k=S;0>=k.l(A);)x=R(x),k=R(k);var C=D(x,1),N=D(k,1);for(k=D(k,2),x=D(x,2);!g(k);){var O=N.add(k);0>=O.l(A)&&(C=C.add(x),N=O),k=D(k,1),x=D(x,1)}return S=y(A,C.j(S)),new b(C,S)}for(C=h;0<=A.l(S);){for(x=Math.max(1,Math.floor(A.m()/S.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=u(x),O=N.j(S);v(O)||0<O.l(A);)x-=k,N=u(x),O=N.j(S);g(N)&&(N=d),C=C.add(N),A=y(A,O)}return new b(C,A)}t.A=function(A){return P(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)&A.i(k);return new s(x,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)|A.i(k);return new s(x,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),x=[],k=0;k<S;k++)x[k]=this.i(k)^A.i(k);return new s(x,this.h^A.h)};function R(A){for(var S=A.g.length+1,x=[],k=0;k<S;k++)x[k]=A.i(k)<<1|A.i(k-1)>>>31;return new s(x,A.h)}function D(A,S){var x=S>>5;S%=32;for(var k=A.g.length-x,C=[],N=0;N<k;N++)C[N]=0<S?A.i(N+x)>>>S|A.i(N+x+1)<<32-S:A.i(N+x);return new s(C,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oC=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,qi=s}).apply(typeof Eb<"u"?Eb:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sC,Tl,aC,Ef,ay,lC,uC,cC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,m,w){return f==Array.prototype||f==Object.prototype||(f[m]=w.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var m=0;m<f.length;++m){var w=f[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(f,m){if(m)e:{var w=r;f=f.split(".");for(var I=0;I<f.length-1;I++){var L=f[I];if(!(L in w))break e;w=w[L]}f=f[f.length-1],I=w[f],m=m(I),m!=I&&m!=null&&e(w,f,{configurable:!0,writable:!0,value:m})}}function o(f,m){f instanceof String&&(f+="");var w=0,I=!1,L={next:function(){if(!I&&w<f.length){var j=w++;return{value:m(j,f[j]),done:!1}}return I=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return o(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(f){var m=typeof f;return m=m!="object"?m:f?Array.isArray(f)?"array":m:"null",m=="array"||m=="object"&&typeof f.length=="number"}function u(f){var m=typeof f;return m=="object"&&f!=null||m=="function"}function c(f,m,w){return f.call.apply(f.bind,arguments)}function h(f,m,w){if(!f)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,I),f.apply(m,L)}}return function(){return f.apply(m,arguments)}}function d(f,m,w){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function p(f,m){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),f.apply(this,I)}}function g(f,m){function w(){}w.prototype=m.prototype,f.aa=m.prototype,f.prototype=new w,f.prototype.constructor=f,f.Qb=function(I,L,j){for(var W=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)W[Ae-2]=arguments[Ae];return m.prototype[L].apply(I,W)}}function v(f){const m=f.length;if(0<m){const w=Array(m);for(let I=0;I<m;I++)w[I]=f[I];return w}return[]}function E(f,m){for(let w=1;w<arguments.length;w++){const I=arguments[w];if(l(I)){const L=f.length||0,j=I.length||0;f.length=L+j;for(let W=0;W<j;W++)f[L+W]=I[W]}else f.push(I)}}class y{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(f){return/^[\s\xa0]*$/.test(f)}function b(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function P(f){return P[" "](f),f}P[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function D(f,m,w){for(const I in f)m.call(w,f[I],I,f)}function A(f,m){for(const w in f)m.call(void 0,f[w],w,f)}function S(f){const m={};for(const w in f)m[w]=f[w];return m}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,m){let w,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(w in I)f[w]=I[w];for(let j=0;j<x.length;j++)w=x[j],Object.prototype.hasOwnProperty.call(I,w)&&(f[w]=I[w])}}function C(f){var m=1;f=f.split(":");const w=[];for(;0<m&&f.length;)w.push(f.shift()),m--;return f.length&&w.push(f.join(":")),w}function N(f){a.setTimeout(()=>{throw f},0)}function O(){var f=Q;let m=null;return f.g&&(m=f.g,f.g=f.g.next,f.g||(f.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,w){const I=ve.get();I.set(m,w),this.h?this.h.next=I:this.g=I,this.h=I}}var ve=new y(()=>new de,f=>f.reset());class de{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,z=!1,Q=new oe,ne=()=>{const f=a.Promise.resolve(void 0);Ee=()=>{f.then(_e)}};var _e=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(w){N(w)}var m=ve;m.j(f),100>m.h&&(m.h++,f.next=m.g,m.g=f)}z=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(f,m){this.type=f,this.g=this.target=m,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,m=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return f}();function ze(f,m){if(ke.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var w=this.type=f.type,I=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=m,m=f.relatedTarget){if(R){e:{try{P(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else w=="mouseover"?m=f.fromElement:w=="mouseout"&&(m=f.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Gn[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ze.aa.h.call(this)}}g(ze,ke);var Gn={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),Cp=0;function X(f,m,w,I,L){this.listener=f,this.proxy=null,this.src=m,this.type=w,this.capture=!!I,this.ha=L,this.key=++Cp,this.da=this.fa=!1}function se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ae(f){this.src=f,this.g={},this.h=0}ae.prototype.add=function(f,m,w,I,L){var j=f.toString();f=this.g[j],f||(f=this.g[j]=[],this.h++);var W=ht(f,m,I,L);return-1<W?(m=f[W],w||(m.fa=!1)):(m=new X(m,this.src,j,!!I,L),m.fa=w,f.push(m)),m};function F(f,m){var w=m.type;if(w in f.g){var I=f.g[w],L=Array.prototype.indexOf.call(I,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(I,L,1),j&&(se(m),f.g[w].length==0&&(delete f.g[w],f.h--))}}function ht(f,m,w,I){for(var L=0;L<f.length;++L){var j=f[L];if(!j.da&&j.listener==m&&j.capture==!!w&&j.ha==I)return L}return-1}var we="closure_lm_"+(1e6*Math.random()|0),vt={};function kt(f,m,w,I,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)kt(f,m[j],w,I,L);return null}return w=Fw(w),f&&f[Yn]?f.K(m,w,u(I)?!!I.capture:!!I,L):Or(f,m,w,!1,I,L)}function Or(f,m,w,I,L,j){if(!m)throw Error("Invalid event type");var W=u(L)?!!L.capture:!!L,Ae=Op(f);if(Ae||(f[we]=Ae=new ae(f)),w=Ae.add(m,w,I,W,j),w.proxy)return w;if(I=ic(),w.proxy=I,I.src=f,I.listener=w,f.addEventListener)dn||(L=W),L===void 0&&(L=!1),f.addEventListener(m.toString(),I,L);else if(f.attachEvent)f.attachEvent($w(m.toString()),I);else if(f.addListener&&f.removeListener)f.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ic(){function f(w){return m.call(f.src,f.listener,w)}const m=DD;return f}function Vw(f,m,w,I,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Vw(f,m[j],w,I,L);else I=u(I)?!!I.capture:!!I,w=Fw(w),f&&f[Yn]?(f=f.i,m=String(m).toString(),m in f.g&&(j=f.g[m],w=ht(j,w,I,L),-1<w&&(se(j[w]),Array.prototype.splice.call(j,w,1),j.length==0&&(delete f.g[m],f.h--)))):f&&(f=Op(f))&&(m=f.g[m.toString()],f=-1,m&&(f=ht(m,w,I,L)),(w=-1<f?m[f]:null)&&kp(w))}function kp(f){if(typeof f!="number"&&f&&!f.da){var m=f.src;if(m&&m[Yn])F(m.i,f);else{var w=f.type,I=f.proxy;m.removeEventListener?m.removeEventListener(w,I,f.capture):m.detachEvent?m.detachEvent($w(w),I):m.addListener&&m.removeListener&&m.removeListener(I),(w=Op(m))?(F(w,f),w.h==0&&(w.src=null,m[we]=null)):se(f)}}}function $w(f){return f in vt?vt[f]:vt[f]="on"+f}function DD(f,m){if(f.da)f=!0;else{m=new ze(m,this);var w=f.listener,I=f.ha||f.src;f.fa&&kp(f),f=w.call(I,m)}return f}function Op(f){return f=f[we],f instanceof ae?f:null}var Rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fw(f){return typeof f=="function"?f:(f[Rp]||(f[Rp]=function(m){return f.handleEvent(m)}),f[Rp])}function Ot(){K.call(this),this.i=new ae(this),this.M=this,this.F=null}g(Ot,K),Ot.prototype[Yn]=!0,Ot.prototype.removeEventListener=function(f,m,w,I){Vw(this,f,m,w,I)};function Ht(f,m){var w,I=f.F;if(I)for(w=[];I;I=I.F)w.push(I);if(f=f.M,I=m.type||m,typeof m=="string")m=new ke(m,f);else if(m instanceof ke)m.target=m.target||f;else{var L=m;m=new ke(I,f),k(m,L)}if(L=!0,w)for(var j=w.length-1;0<=j;j--){var W=m.g=w[j];L=oc(W,I,!0,m)&&L}if(W=m.g=f,L=oc(W,I,!0,m)&&L,L=oc(W,I,!1,m)&&L,w)for(j=0;j<w.length;j++)W=m.g=w[j],L=oc(W,I,!1,m)&&L}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var f=this.i,m;for(m in f.g){for(var w=f.g[m],I=0;I<w.length;I++)se(w[I]);delete f.g[m],f.h--}}this.F=null},Ot.prototype.K=function(f,m,w,I){return this.i.add(String(f),m,!1,w,I)},Ot.prototype.L=function(f,m,w,I){return this.i.add(String(f),m,!0,w,I)};function oc(f,m,w,I){if(m=f.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var W=m[j];if(W&&!W.da&&W.capture==w){var Ae=W.listener,_t=W.ha||W.src;W.fa&&F(f.i,W),L=Ae.call(_t,I)!==!1&&L}}return L&&!I.defaultPrevented}function Uw(f,m,w){if(typeof f=="function")w&&(f=d(f,w));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(f,m||0)}function Bw(f){f.g=Uw(()=>{f.g=null,f.i&&(f.i=!1,Bw(f))},f.l);const m=f.h;f.h=null,f.m.apply(null,m)}class MD extends K{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wa(f){K.call(this),this.h=f,this.g={}}g(Wa,K);var zw=[];function Ww(f){D(f.g,function(m,w){this.g.hasOwnProperty(w)&&kp(m)},f),f.g={}}Wa.prototype.N=function(){Wa.aa.N.call(this),Ww(this)},Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Np=a.JSON.stringify,LD=a.JSON.parse,jD=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Dp(){}Dp.prototype.h=null;function Kw(f){return f.h||(f.h=f.i())}function Hw(){}var Ka={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mp(){ke.call(this,"d")}g(Mp,ke);function Lp(){ke.call(this,"c")}g(Lp,ke);var yo={},qw=null;function sc(){return qw=qw||new Ot}yo.La="serverreachability";function Gw(f){ke.call(this,yo.La,f)}g(Gw,ke);function Ha(f){const m=sc();Ht(m,new Gw(m))}yo.STAT_EVENT="statevent";function Yw(f,m){ke.call(this,yo.STAT_EVENT,f),this.stat=m}g(Yw,ke);function qt(f){const m=sc();Ht(m,new Yw(m,f))}yo.Ma="timingevent";function Qw(f,m){ke.call(this,yo.Ma,f),this.size=m}g(Qw,ke);function qa(f,m){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},m)}function Ga(){this.g=!0}Ga.prototype.xa=function(){this.g=!1};function VD(f,m,w,I,L,j){f.info(function(){if(f.g)if(j)for(var W="",Ae=j.split("&"),_t=0;_t<Ae.length;_t++){var ge=Ae[_t].split("=");if(1<ge.length){var Rt=ge[0];ge=ge[1];var Nt=Rt.split("_");W=2<=Nt.length&&Nt[1]=="type"?W+(Rt+"="+ge+"&"):W+(Rt+"=redacted&")}}else W=null;else W=j;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+m+`
`+w+`
`+W})}function $D(f,m,w,I,L,j,W){f.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+m+`
`+w+`
`+j+" "+W})}function ms(f,m,w,I){f.info(function(){return"XMLHTTP TEXT ("+m+"): "+UD(f,w)+(I?" "+I:"")})}function FD(f,m){f.info(function(){return"TIMEOUT: "+m})}Ga.prototype.info=function(){};function UD(f,m){if(!f.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(f=0;f<w.length;f++)if(Array.isArray(w[f])){var I=w[f];if(!(2>I.length)){var L=I[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var W=1;W<L.length;W++)L[W]=""}}}}return Np(w)}catch{return m}}var ac={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jp;function lc(){}g(lc,Dp),lc.prototype.g=function(){return new XMLHttpRequest},lc.prototype.i=function(){return{}},jp=new lc;function mi(f,m,w,I){this.j=f,this.i=m,this.l=w,this.R=I||1,this.U=new Wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jw}function Jw(){this.i=null,this.g="",this.h=!1}var Zw={},Vp={};function $p(f,m,w){f.L=1,f.v=hc(Rr(m)),f.m=w,f.P=!0,e1(f,null)}function e1(f,m){f.F=Date.now(),uc(f),f.A=Rr(f.v);var w=f.A,I=f.R;Array.isArray(I)||(I=[String(I)]),p1(w.i,"t",I),f.C=0,w=f.j.J,f.h=new Jw,f.g=R1(f.j,w?m:null,!f.m),0<f.O&&(f.M=new MD(d(f.Y,f,f.g),f.O)),m=f.U,w=f.g,I=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(zw[0]=L.toString()),L=zw);for(var j=0;j<L.length;j++){var W=kt(w,L[j],I||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,m)):(f.u="GET",f.g.ea(f.A,f.u,null,m)),Ha(),VD(f.i,f.u,f.A,f.l,f.R,f.m)}mi.prototype.ca=function(f){f=f.target;const m=this.M;m&&Nr(f)==3?m.j():this.Y(f)},mi.prototype.Y=function(f){try{if(f==this.g)e:{const Nt=Nr(this.g);var m=this.g.Ba();const vs=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||E1(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=vs?Ha(3):Ha(2)),Fp(this);var w=this.g.Z();this.X=w;t:if(t1(this)){var I=E1(this.g);f="";var L=I.length,j=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),Ya(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,f+=this.h.i.decode(I[m],{stream:!(j&&m==L-1)});I.length=0,this.h.g+=f,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=w==200,$D(this.i,this.u,this.A,this.l,this.R,Nt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,_t=this.g;if((Ae=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ae)){var ge=Ae;break t}}ge=null}if(w=ge)ms(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Up(this,w);else{this.o=!1,this.s=3,qt(12),vo(this),Ya(this);break e}}if(this.P){w=!0;let Qn;for(;!this.J&&this.C<W.length;)if(Qn=BD(this,W),Qn==Vp){Nt==4&&(this.s=4,qt(14),w=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==Zw){this.s=4,qt(15),ms(this.i,this.l,W,"[Invalid Chunk]"),w=!1;break}else ms(this.i,this.l,Qn,null),Up(this,Qn);if(t1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||W.length!=0||this.h.h||(this.s=1,qt(16),w=!1),this.o=this.o&&w,!w)ms(this.i,this.l,W,"[Invalid Chunked Response]"),vo(this),Ya(this);else if(0<W.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),qp(Rt),Rt.M=!0,qt(11))}}else ms(this.i,this.l,W,null),Up(this,W);Nt==4&&vo(this),this.o&&!this.J&&(Nt==4?P1(this.j,this):(this.o=!1,uc(this)))}else oM(this.g),w==400&&0<W.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),vo(this),Ya(this)}}}catch{}finally{}};function t1(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function BD(f,m){var w=f.C,I=m.indexOf(`
`,w);return I==-1?Vp:(w=Number(m.substring(w,I)),isNaN(w)?Zw:(I+=1,I+w>m.length?Vp:(m=m.slice(I,I+w),f.C=I+w,m)))}mi.prototype.cancel=function(){this.J=!0,vo(this)};function uc(f){f.S=Date.now()+f.I,n1(f,f.I)}function n1(f,m){if(f.B!=null)throw Error("WatchDog timer not null");f.B=qa(d(f.ba,f),m)}function Fp(f){f.B&&(a.clearTimeout(f.B),f.B=null)}mi.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(FD(this.i,this.A),this.L!=2&&(Ha(),qt(17)),vo(this),this.s=2,Ya(this)):n1(this,this.S-f)};function Ya(f){f.j.G==0||f.J||P1(f.j,f)}function vo(f){Fp(f);var m=f.M;m&&typeof m.ma=="function"&&m.ma(),f.M=null,Ww(f.U),f.g&&(m=f.g,f.g=null,m.abort(),m.ma())}function Up(f,m){try{var w=f.j;if(w.G!=0&&(w.g==f||Bp(w.h,f))){if(!f.K&&Bp(w.h,f)&&w.G==3){try{var I=w.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<f.F)vc(w),gc(w);else break e;Hp(w),qt(18)}}else w.za=L[1],0<w.za-w.T&&37500>L[2]&&w.F&&w.v==0&&!w.C&&(w.C=qa(d(w.Za,w),6e3));if(1>=o1(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else wo(w,11)}else if((f.K||w.g==f)&&vc(w),!_(m))for(L=w.Da.g.parse(m),m=0;m<L.length;m++){let ge=L[m];if(w.T=ge[0],ge=ge[1],w.G==2)if(ge[0]=="c"){w.K=ge[1],w.ia=ge[2];const Rt=ge[3];Rt!=null&&(w.la=Rt,w.j.info("VER="+w.la));const Nt=ge[4];Nt!=null&&(w.Aa=Nt,w.j.info("SVER="+w.Aa));const vs=ge[5];vs!=null&&typeof vs=="number"&&0<vs&&(I=1.5*vs,w.L=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const Qn=f.g;if(Qn){const wc=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var j=I.h;j.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(zp(j,j.h),j.h=null))}if(I.D){const Gp=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Gp&&(I.ya=Gp,Oe(I.I,I.D,Gp))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-f.F,w.j.info("Handshake RTT: "+w.R+"ms")),I=w;var W=f;if(I.qa=O1(I,I.J?I.ia:null,I.W),W.K){s1(I.h,W);var Ae=W,_t=I.L;_t&&(Ae.I=_t),Ae.B&&(Fp(Ae),uc(Ae)),I.g=W}else x1(I);0<w.i.length&&yc(w)}else ge[0]!="stop"&&ge[0]!="close"||wo(w,7);else w.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?wo(w,7):Kp(w):ge[0]!="noop"&&w.l&&w.l.ta(ge),w.v=0)}}Ha(4)}catch{}}var zD=class{constructor(f,m){this.g=f,this.map=m}};function r1(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function i1(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function o1(f){return f.h?1:f.g?f.g.size:0}function Bp(f,m){return f.h?f.h==m:f.g?f.g.has(m):!1}function zp(f,m){f.g?f.g.add(m):f.h=m}function s1(f,m){f.h&&f.h==m?f.h=null:f.g&&f.g.has(m)&&f.g.delete(m)}r1.prototype.cancel=function(){if(this.i=a1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function a1(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let m=f.i;for(const w of f.g.values())m=m.concat(w.D);return m}return v(f.i)}function WD(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var m=[],w=f.length,I=0;I<w;I++)m.push(f[I]);return m}m=[],w=0;for(I in f)m[w++]=f[I];return m}function KD(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var m=[];f=f.length;for(var w=0;w<f;w++)m.push(w);return m}m=[],w=0;for(const I in f)m[w++]=I;return m}}}function l1(f,m){if(f.forEach&&typeof f.forEach=="function")f.forEach(m,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,m,void 0);else for(var w=KD(f),I=WD(f),L=I.length,j=0;j<L;j++)m.call(void 0,I[j],w&&w[j],f)}var u1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HD(f,m){if(f){f=f.split("&");for(var w=0;w<f.length;w++){var I=f[w].indexOf("="),L=null;if(0<=I){var j=f[w].substring(0,I);L=f[w].substring(I+1)}else j=f[w];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _o(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _o){this.h=f.h,cc(this,f.j),this.o=f.o,this.g=f.g,fc(this,f.s),this.l=f.l;var m=f.i,w=new Ja;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),c1(this,w),this.m=f.m}else f&&(m=String(f).match(u1))?(this.h=!1,cc(this,m[1]||"",!0),this.o=Qa(m[2]||""),this.g=Qa(m[3]||"",!0),fc(this,m[4]),this.l=Qa(m[5]||"",!0),c1(this,m[6]||"",!0),this.m=Qa(m[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}_o.prototype.toString=function(){var f=[],m=this.j;m&&f.push(Xa(m,f1,!0),":");var w=this.g;return(w||m=="file")&&(f.push("//"),(m=this.o)&&f.push(Xa(m,f1,!0),"@"),f.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&f.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(Xa(w,w.charAt(0)=="/"?YD:GD,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",Xa(w,XD)),f.join("")};function Rr(f){return new _o(f)}function cc(f,m,w){f.j=w?Qa(m,!0):m,f.j&&(f.j=f.j.replace(/:$/,""))}function fc(f,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);f.s=m}else f.s=null}function c1(f,m,w){m instanceof Ja?(f.i=m,JD(f.i,f.h)):(w||(m=Xa(m,QD)),f.i=new Ja(m,f.h))}function Oe(f,m,w){f.i.set(m,w)}function hc(f){return Oe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qa(f,m){return f?m?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xa(f,m,w){return typeof f=="string"?(f=encodeURI(f).replace(m,qD),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function qD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var f1=/[#\/\?@]/g,GD=/[#\?:]/g,YD=/[#\?]/g,QD=/[#\?@]/g,XD=/#/g;function Ja(f,m){this.h=this.g=null,this.i=f||null,this.j=!!m}function gi(f){f.g||(f.g=new Map,f.h=0,f.i&&HD(f.i,function(m,w){f.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=Ja.prototype,t.add=function(f,m){gi(this),this.i=null,f=gs(this,f);var w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(m),this.h+=1,this};function h1(f,m){gi(f),m=gs(f,m),f.g.has(m)&&(f.i=null,f.h-=f.g.get(m).length,f.g.delete(m))}function d1(f,m){return gi(f),m=gs(f,m),f.g.has(m)}t.forEach=function(f,m){gi(this),this.g.forEach(function(w,I){w.forEach(function(L){f.call(m,L,I,this)},this)},this)},t.na=function(){gi(this);const f=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let I=0;I<m.length;I++){const L=f[I];for(let j=0;j<L.length;j++)w.push(m[I])}return w},t.V=function(f){gi(this);let m=[];if(typeof f=="string")d1(this,f)&&(m=m.concat(this.g.get(gs(this,f))));else{f=Array.from(this.g.values());for(let w=0;w<f.length;w++)m=m.concat(f[w])}return m},t.set=function(f,m){return gi(this),this.i=null,f=gs(this,f),d1(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[m]),this.h+=1,this},t.get=function(f,m){return f?(f=this.V(f),0<f.length?String(f[0]):m):m};function p1(f,m,w){h1(f,m),0<w.length&&(f.i=null,f.g.set(gs(f,m),v(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var I=m[w];const j=encodeURIComponent(String(I)),W=this.V(I);for(I=0;I<W.length;I++){var L=j;W[I]!==""&&(L+="="+encodeURIComponent(String(W[I]))),f.push(L)}}return this.i=f.join("&")};function gs(f,m){return m=String(m),f.j&&(m=m.toLowerCase()),m}function JD(f,m){m&&!f.j&&(gi(f),f.i=null,f.g.forEach(function(w,I){var L=I.toLowerCase();I!=L&&(h1(this,I),p1(this,L,w))},f)),f.j=m}function ZD(f,m){const w=new Ga;if(a.Image){const I=new Image;I.onload=p(yi,w,"TestLoadImage: loaded",!0,m,I),I.onerror=p(yi,w,"TestLoadImage: error",!1,m,I),I.onabort=p(yi,w,"TestLoadImage: abort",!1,m,I),I.ontimeout=p(yi,w,"TestLoadImage: timeout",!1,m,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=f}else m(!1)}function eM(f,m){const w=new Ga,I=new AbortController,L=setTimeout(()=>{I.abort(),yi(w,"TestPingServer: timeout",!1,m)},1e4);fetch(f,{signal:I.signal}).then(j=>{clearTimeout(L),j.ok?yi(w,"TestPingServer: ok",!0,m):yi(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yi(w,"TestPingServer: error",!1,m)})}function yi(f,m,w,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(w)}catch{}}function tM(){this.g=new jD}function nM(f,m,w){const I=w||"";try{l1(f,function(L,j){let W=L;u(L)&&(W=Np(L)),m.push(I+j+"="+encodeURIComponent(W))})}catch(L){throw m.push(I+"type="+encodeURIComponent("_badmap")),L}}function dc(f){this.l=f.Ub||null,this.j=f.eb||!1}g(dc,Dp),dc.prototype.g=function(){return new pc(this.l,this.j)},dc.prototype.i=function(f){return function(){return f}}({});function pc(f,m){Ot.call(this),this.D=f,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(pc,Ot),t=pc.prototype,t.open=function(f,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=m,this.readyState=1,el(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(m.body=f),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;m1(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function m1(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var m=f.value?f.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!f.done}))&&(this.response=this.responseText+=m)}f.done?Za(this):el(this),this.readyState==3&&m1(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Za(this))},t.Qa=function(f){this.g&&(this.response=f,Za(this))},t.ga=function(){this.g&&Za(this)};function Za(f){f.readyState=4,f.l=null,f.j=null,f.v=null,el(f)}t.setRequestHeader=function(f,m){this.u.append(f,m)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=m.next();return f.join(`\r
`)};function el(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function g1(f){let m="";return D(f,function(w,I){m+=I,m+=":",m+=w,m+=`\r
`}),m}function Wp(f,m,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=g1(w),typeof f=="string"?w!=null&&encodeURIComponent(String(w)):Oe(f,m,w))}function We(f){Ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(We,Ot);var rM=/^https?$/i,iM=["POST","PUT"];t=We.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,m,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);m=m?m.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jp.g(),this.v=this.o?Kw(this.o):Kw(jp),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(m,String(f),!0),this.B=!1}catch(j){y1(this,j);return}if(f=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)w.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const j of I.keys())w.set(j,I.get(j));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iM,m,void 0))||I||L||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of w)this.g.setRequestHeader(j,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{w1(this),this.u=!0,this.g.send(f),this.u=!1}catch(j){y1(this,j)}};function y1(f,m){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=m,f.m=5,v1(f),mc(f)}function v1(f){f.A||(f.A=!0,Ht(f,"complete"),Ht(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ht(this,"complete"),Ht(this,"abort"),mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mc(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_1(this):this.bb())},t.bb=function(){_1(this)};function _1(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Nr(f)!=4||f.Z()!=2)){if(f.u&&Nr(f)==4)Uw(f.Ea,0,f);else if(Ht(f,"readystatechange"),Nr(f)==4){f.h=!1;try{const W=f.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var I;if(I=W===0){var L=String(f.D).match(u1)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),I=!rM.test(L?L.toLowerCase():"")}w=I}if(w)Ht(f,"complete"),Ht(f,"success");else{f.m=6;try{var j=2<Nr(f)?f.g.statusText:""}catch{j=""}f.l=j+" ["+f.Z()+"]",v1(f)}}finally{mc(f)}}}}function mc(f,m){if(f.g){w1(f);const w=f.g,I=f.v[0]?()=>{}:null;f.g=null,f.v=null,m||Ht(f,"ready");try{w.onreadystatechange=I}catch{}}}function w1(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function Nr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var m=this.g.responseText;return f&&m.indexOf(f)==0&&(m=m.substring(f.length)),LD(m)}};function E1(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function oM(f){const m={};f=(f.g&&2<=Nr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<f.length;I++){if(_(f[I]))continue;var w=C(f[I]);const L=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const j=m[L]||[];m[L]=j,j.push(w)}A(m,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tl(f,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||m}function b1(f){this.Aa=0,this.i=[],this.j=new Ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tl("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tl("baseRetryDelayMs",5e3,f),this.cb=tl("retryDelaySeedMs",1e4,f),this.Wa=tl("forwardChannelMaxRetries",2,f),this.wa=tl("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new r1(f&&f.concurrentRequestLimit),this.Da=new tM,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=b1.prototype,t.la=8,t.G=1,t.connect=function(f,m,w,I){qt(0),this.W=f,this.H=m||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.I=O1(this,null,this.W),yc(this)};function Kp(f){if(S1(f),f.G==3){var m=f.U++,w=Rr(f.I);if(Oe(w,"SID",f.K),Oe(w,"RID",m),Oe(w,"TYPE","terminate"),nl(f,w),m=new mi(f,f.j,m),m.L=2,m.v=hc(Rr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=R1(m.j,null),m.g.ea(m.v)),m.F=Date.now(),uc(m)}k1(f)}function gc(f){f.g&&(qp(f),f.g.cancel(),f.g=null)}function S1(f){gc(f),f.u&&(a.clearTimeout(f.u),f.u=null),vc(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function yc(f){if(!i1(f.h)&&!f.s){f.s=!0;var m=f.Ga;Ee||ne(),z||(Ee(),z=!0),Q.add(m,f),f.B=0}}function sM(f,m){return o1(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=m.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=qa(d(f.Ga,f,m),C1(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new mi(this,this.j,f);let j=this.o;if(this.S&&(j?(j=S(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=A1(this,L,m),w=Rr(this.I),Oe(w,"RID",f),Oe(w,"CVER",22),this.D&&Oe(w,"X-HTTP-Session-Id",this.D),nl(this,w),j&&(this.O?m="headers="+encodeURIComponent(String(g1(j)))+"&"+m:this.m&&Wp(w,this.m,j)),zp(this.h,L),this.Ua&&Oe(w,"TYPE","init"),this.P?(Oe(w,"$req",m),Oe(w,"SID","null"),L.T=!0,$p(L,w,null)):$p(L,w,m),this.G=2}}else this.G==3&&(f?T1(this,f):this.i.length==0||i1(this.h)||T1(this))};function T1(f,m){var w;m?w=m.l:w=f.U++;const I=Rr(f.I);Oe(I,"SID",f.K),Oe(I,"RID",w),Oe(I,"AID",f.T),nl(f,I),f.m&&f.o&&Wp(I,f.m,f.o),w=new mi(f,f.j,w,f.B+1),f.m===null&&(w.H=f.o),m&&(f.i=m.D.concat(f.i)),m=A1(f,w,1e3),w.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),zp(f.h,w),$p(w,I,m)}function nl(f,m){f.H&&D(f.H,function(w,I){Oe(m,I,w)}),f.l&&l1({},function(w,I){Oe(m,I,w)})}function A1(f,m,w){w=Math.min(f.i.length,w);var I=f.l?d(f.l.Na,f.l,f):null;e:{var L=f.i;let j=-1;for(;;){const W=["count="+w];j==-1?0<w?(j=L[0].g,W.push("ofs="+j)):j=0:W.push("ofs="+j);let Ae=!0;for(let _t=0;_t<w;_t++){let ge=L[_t].g;const Rt=L[_t].map;if(ge-=j,0>ge)j=Math.max(0,L[_t].g-100),Ae=!1;else try{nM(Rt,W,"req"+ge+"_")}catch{I&&I(Rt)}}if(Ae){I=W.join("&");break e}}}return f=f.i.splice(0,w),m.D=f,I}function x1(f){if(!f.g&&!f.u){f.Y=1;var m=f.Fa;Ee||ne(),z||(Ee(),z=!0),Q.add(m,f),f.v=0}}function Hp(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=qa(d(f.Fa,f),C1(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,I1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qa(d(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),gc(this),I1(this))};function qp(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function I1(f){f.g=new mi(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var m=Rr(f.qa);Oe(m,"RID","rpc"),Oe(m,"SID",f.K),Oe(m,"AID",f.T),Oe(m,"CI",f.F?"0":"1"),!f.F&&f.ja&&Oe(m,"TO",f.ja),Oe(m,"TYPE","xmlhttp"),nl(f,m),f.m&&f.o&&Wp(m,f.m,f.o),f.L&&(f.g.I=f.L);var w=f.g;f=f.ia,w.L=1,w.v=hc(Rr(m)),w.m=null,w.P=!0,e1(w,f)}t.Za=function(){this.C!=null&&(this.C=null,gc(this),Hp(this),qt(19))};function vc(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function P1(f,m){var w=null;if(f.g==m){vc(f),qp(f),f.g=null;var I=2}else if(Bp(f.h,m))w=m.D,s1(f.h,m),I=1;else return;if(f.G!=0){if(m.o)if(I==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var L=f.B;I=sc(),Ht(I,new Qw(I,w)),yc(f)}else x1(f);else if(L=m.s,L==3||L==0&&0<m.X||!(I==1&&sM(f,m)||I==2&&Hp(f)))switch(w&&0<w.length&&(m=f.h,m.i=m.i.concat(w)),L){case 1:wo(f,5);break;case 4:wo(f,10);break;case 3:wo(f,6);break;default:wo(f,2)}}}function C1(f,m){let w=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(w*=2),w*m}function wo(f,m){if(f.j.info("Error code "+m),m==2){var w=d(f.fb,f),I=f.Xa;const L=!I;I=new _o(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cc(I,"https"),hc(I),L?ZD(I.toString(),w):eM(I.toString(),w)}else qt(2);f.G=0,f.l&&f.l.sa(m),k1(f),S1(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function k1(f){if(f.G=0,f.ka=[],f.l){const m=a1(f.h);(m.length!=0||f.i.length!=0)&&(E(f.ka,m),E(f.ka,f.i),f.h.i.length=0,v(f.i),f.i.length=0),f.l.ra()}}function O1(f,m,w){var I=w instanceof _o?Rr(w):new _o(w);if(I.g!="")m&&(I.g=m+"."+I.g),fc(I,I.s);else{var L=a.location;I=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new _o(null);I&&cc(j,I),m&&(j.g=m),L&&fc(j,L),w&&(j.l=w),I=j}return w=f.D,m=f.ya,w&&m&&Oe(I,w,m),Oe(I,"VER",f.la),nl(f,I),I}function R1(f,m,w){if(m&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=f.Ca&&!f.pa?new We(new dc({eb:w})):new We(f.pa),m.Ha(f.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N1(){}t=N1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _c(){}_c.prototype.g=function(f,m){return new pn(f,m)};function pn(f,m){Ot.call(this),this.g=new b1(m),this.l=f,this.h=m&&m.messageUrlParams||null,f=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(f?f["X-WebChannel-Content-Type"]=m.messageContentType:f={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(f?f["X-WebChannel-Client-Profile"]=m.va:f={"X-WebChannel-Client-Profile":m.va}),this.g.S=f,(f=m&&m.Sb)&&!_(f)&&(this.g.m=f),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,f=this.h,f!==null&&m in f&&(f=this.h,m in f&&delete f[m])),this.j=new ys(this)}g(pn,Ot),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Kp(this.g)},pn.prototype.o=function(f){var m=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.u&&(w={},w.__data__=Np(f),f=w);m.i.push(new zD(m.Ya++,f)),m.G==3&&yc(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Kp(this.g),delete this.g,pn.aa.N.call(this)};function D1(f){Mp.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var m=f.__sm__;if(m){e:{for(const w in m){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,m=m!==null&&f in m?m[f]:void 0),this.data=m}else this.data=f}g(D1,Mp);function M1(){Lp.call(this),this.status=1}g(M1,Lp);function ys(f){this.g=f}g(ys,N1),ys.prototype.ua=function(){Ht(this.g,"a")},ys.prototype.ta=function(f){Ht(this.g,new D1(f))},ys.prototype.sa=function(f){Ht(this.g,new M1)},ys.prototype.ra=function(){Ht(this.g,"b")},_c.prototype.createWebChannel=_c.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,cC=function(){return new _c},uC=function(){return sc()},lC=yo,ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ac.NO_ERROR=0,ac.TIMEOUT=8,ac.HTTP_ERROR=6,Ef=ac,Xw.COMPLETE="complete",aC=Xw,Hw.EventType=Ka,Ka.OPEN="a",Ka.CLOSE="b",Ka.ERROR="c",Ka.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,Tl=Hw,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,sC=We}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const bb="@firebase/firestore",Sb="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new d0("@firebase/firestore");function Es(){return ns.logLevel}function q(t,...e){if(ns.logLevel<=ue.DEBUG){const n=e.map(T0);ns.debug(`Firestore (${ka}): ${t}`,...n)}}function ti(t,...e){if(ns.logLevel<=ue.ERROR){const n=e.map(T0);ns.error(`Firestore (${ka}): ${t}`,...n)}}function ca(t,...e){if(ns.logLevel<=ue.WARN){const n=e.map(T0);ns.warn(`Firestore (${ka}): ${t}`,...n)}}function T0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,fC(t,r,n)}function fC(t,e,n){let r=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ti(r),new Error(r)}function Ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||fC(e,i,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class j6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V6{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $o,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $o)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new hC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class $6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Tb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function ly(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return Cm(i)===Cm(o)?ce(i,o):Cm(i)?1:-1}return ce(t.length,e.length)}const z6=55296,W6=57343;function Cm(t){const e=t.charCodeAt(0);return e>=z6&&e<=W6}function fa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__name__";class pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=pr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ce(e.length,n.length)}static compareSegments(e,n){const r=pr.isNumericId(e),i=pr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?pr.extractNumericId(e).compare(pr.extractNumericId(n)):ly(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class Le extends pr{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const K6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends pr{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return K6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ab}static keyField(){return new Bt([Ab])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Le.fromString(e))}static fromName(e){return new ee(Le.fromString(e).popFirst(5))}static empty(){return new ee(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t,e,n){if(!n)throw new H(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q6(t,e,n,r){if(e===!0&&r===!0)throw new H(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function xb(t){if(ee.isDocumentKey(t))throw new H(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Ys(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new H(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function G6(t,e){if(e<=0)throw new H(U.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Bu(t,e){if(!pC(t))throw new H(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new H(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=-62135596800,Pb=1e6;class je{static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Pb);return new je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ib)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pb}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bu(e,je._jsonSchema))return new je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ib;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}je._jsonSchemaVersion="firestore/timestamp/1.0",je._jsonSchema={type:tt("string",je._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new je(0,0))}static max(){return new re(new je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function Y6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new Ji(i,ee.empty(),e)}function Q6(t){return new Ji(t.readTime,t.key,pu)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(re.min(),ee.empty(),pu)}static max(){return new Ji(re.max(),ee.empty(),pu)}}function X6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==J6)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function e$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=-1;function Ed(t){return t==null}function oh(t){return t===0&&1/t==-1/0}function n$(t){return typeof t=="number"&&Number.isInteger(t)&&!oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="";function r$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Cb(e)),e=i$(t.get(n),e);return Cb(e)}function i$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case mC:n+="";break;default:n+=o}}return n}function Cb(t){return t+mC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=o??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ob(this.data.getIterator())}getIteratorFrom(e){return new Ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class Ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Di([])}unionWith(e){let n=new lt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yC("Invalid base64 string: "+o):o}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const o$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=o$.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function eo(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="server_timestamp",_C="__type__",wC="__previous_value__",EC="__local_write_time__";function A0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_C])==null?void 0:r.stringValue)===vC}function bd(t){const e=t.mapValue.fields[wC];return A0(e)?bd(e):e}function mu(t){const e=Zi(t.mapValue.fields[EC].timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n,r,i,o,s,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const sh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__type__",SC="__max__",Uc={mapValue:{fields:{__type__:{stringValue:SC}}}},TC="__vector__",ah="value";function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A0(t)?4:l$(t)?9007199254740991:a$(t)?10:11:ie(28295,{value:t})}function xr(t,e){if(t===e)return!0;const n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mu(t).isEqual(mu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Zi(i.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return eo(i.bytesValue).isEqual(eo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?oh(s)===oh(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(kb(s)!==kb(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!xr(s[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function yu(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=to(t),r=to(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ge(o.integerValue||o.doubleValue),l=Ge(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Rb(t.timestampValue,e.timestampValue);case 4:return Rb(mu(t),mu(e));case 5:return ly(t.stringValue,e.stringValue);case 6:return function(o,s){const a=eo(o),l=eo(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ce(a[u],l[u]);if(c!==0)return c}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ce(Ge(o.latitude),Ge(s.latitude));return a!==0?a:ce(Ge(o.longitude),Ge(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Nb(t.arrayValue,e.arrayValue);case 10:return function(o,s){var d,p,g,v;const a=o.fields||{},l=s.fields||{},u=(d=a[ah])==null?void 0:d.arrayValue,c=(p=l[ah])==null?void 0:p.arrayValue,h=ce(((g=u==null?void 0:u.values)==null?void 0:g.length)||0,((v=c==null?void 0:c.values)==null?void 0:v.length)||0);return h!==0?h:Nb(u,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Uc.mapValue&&s===Uc.mapValue)return 0;if(o===Uc.mapValue)return 1;if(s===Uc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=ly(l[h],c[h]);if(d!==0)return d;const p=ha(a[l[h]],u[c[h]]);if(p!==0)return p}return ce(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function Rb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Zi(t),r=Zi(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Nb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ha(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function da(t){return uy(t)}function uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=uy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${uy(n.fields[s])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function bf(t){switch(to(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bd(t);return e?16+bf(e):16;case 5:return 2*t.stringValue.length;case 6:return eo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+bf(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ra(r.fields,(o,s)=>{i+=o.length+bf(s)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function Db(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cy(t){return!!t&&"integerValue"in t}function x0(t){return!!t&&"arrayValue"in t}function Mb(t){return!!t&&"nullValue"in t}function Lb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function a$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bC])==null?void 0:r.stringValue)===TC}function Ul(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ul(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(t.arrayValue.values[n]);return e}return{...t}}function l$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ul(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ra(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new gr(Ul(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ft(e,0,re.min(),re.min(),re.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ft(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new Ft(e,2,n,re.min(),re.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,re.min(),re.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function jb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),n.key):r=ha(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n="asc"){this.field=e,this.dir=n}}function u$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{}class et extends AC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new f$(e,n,r):n==="array-contains"?new p$(e,r):n==="in"?new m$(e,r):n==="not-in"?new g$(e,r):n==="array-contains-any"?new y$(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h$(e,r):new d$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends AC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return xC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xC(t){return t.op==="and"}function IC(t){return c$(t)&&xC(t)}function c$(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function fy(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+da(t.value);if(IC(t))return t.filters.map(e=>fy(e)).join(",");{const e=t.filters.map(n=>fy(n)).join(",");return`${t.op}(${e})`}}function PC(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&xr(r.value,i.value)}(t,e):t instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PC(s,i.filters[a]),!0):!1}(t,e):void ie(19439)}function CC(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(CC).join(" ,")+"}"}(t):"Filter"}class f$ extends et{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class h$ extends et{constructor(e,n){super(e,"in",n),this.keys=kC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class d$ extends et{constructor(e,n){super(e,"not-in",n),this.keys=kC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class p$ extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return x0(n)&&yu(n.arrayValue,this.value)}}class m$ extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class g$ extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yu(this.value.arrayValue,n)}}class y$ extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!x0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function $b(t,e=null,n=[],r=[],i=null,o=null,s=null){return new v$(t,e,n,r,i,o,s)}function I0(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.Te=n}return e.Te}function P0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!u$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vb(t.startAt,e.startAt)&&Vb(t.endAt,e.endAt)}function hy(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _$(t,e,n,r,i,o,s,a){return new Na(t,e,n,r,i,o,s,a)}function C0(t){return new Na(t)}function Fb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OC(t){return t.collectionGroup!==null}function Bl(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(Bt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new vu(o,r))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new vu(Bt.keyField(),r))}return e.Ie}function br(t){const e=he(t);return e.Ee||(e.Ee=w$(e,Bl(t))),e.Ee}function w$(t,e){if(t.limitType==="F")return $b(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new vu(i.field,o)});const n=t.endAt?new lh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lh(t.startAt.position,t.startAt.inclusive):null;return $b(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dy(t,e){const n=t.filters.concat([e]);return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uh(t,e,n){return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sd(t,e){return P0(br(t),br(e))&&t.limitType===e.limitType}function RC(t){return`${I0(br(t))}|lt:${t.limitType}`}function bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CC(i)).join(", ")}]`),Ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>da(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Bl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=jb(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Bl(r),i)||r.endAt&&!function(s,a,l){const u=jb(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Bl(r),i))}(t,e)}function E$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NC(t){return(e,n)=>{let r=!1;for(const i of Bl(t)){const o=b$(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function b$(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ha(l,u):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=new Xe(ee.comparator);function no(){return S$}const DC=new Xe(ee.comparator);function Al(...t){let e=DC;for(const n of t)e=e.insert(n.key,n);return e}function T$(t){let e=DC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ko(){return zl()}function MC(){return zl()}function zl(){return new fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const A$=new lt(ee.comparator);function pe(...t){let e=A$;for(const n of t)e=e.add(n);return e}const x$=new lt(ce);function I$(){return x$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function LC(t){return{integerValue:""+t}}function P$(t,e){return n$(e)?LC(e):k0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function C$(t,e,n){return t instanceof py?function(i,o){const s={fields:{[_C]:{stringValue:vC},[EC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&A0(o)&&(o=bd(o)),o&&(s.fields[wC]=o),{mapValue:s}}(n,e):t instanceof ch?jC(t,e):t instanceof fh?VC(t,e):function(i,o){const s=O$(i,o),a=Ub(s)+Ub(i.Ae);return cy(s)&&cy(i.Ae)?LC(a):k0(i.serializer,a)}(t,e)}function k$(t,e,n){return t instanceof ch?jC(t,e):t instanceof fh?VC(t,e):n}function O$(t,e){return t instanceof my?function(r){return cy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class py extends Ad{}class ch extends Ad{constructor(e){super(),this.elements=e}}function jC(t,e){const n=$C(e);for(const r of t.elements)n.some(i=>xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class fh extends Ad{constructor(e){super(),this.elements=e}}function VC(t,e){let n=$C(e);for(const r of t.elements)n=n.filter(i=>!xr(i,r));return{arrayValue:{values:n}}}class my extends Ad{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ub(t){return Ge(t.integerValue||t.doubleValue)}function $C(t){return x0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function R$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ch&&i instanceof ch||r instanceof fh&&i instanceof fh?fa(r.elements,i.elements,xr):r instanceof my&&i instanceof my?xr(r.Ae,i.Ae):r instanceof py&&i instanceof py}(t.transform,e.transform)}class Fo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fo}static exists(e){return new Fo(void 0,e)}static updateTime(e){return new Fo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class O0{}function FC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D$(t.key,Fo.none()):new R0(t.key,t.data,Fo.none());{const n=t.data,r=gr.empty();let i=new lt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xd(t.key,r,new Di(i.toArray()),Fo.none())}}function N$(t,e,n){t instanceof R0?function(i,o,s){const a=i.value.clone(),l=zb(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xd?function(i,o,s){if(!Sf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=zb(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(UC(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n,r){return t instanceof R0?function(o,s,a,l){if(!Sf(o.precondition,s))return a;const u=o.value.clone(),c=Wb(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xd?function(o,s,a,l){if(!Sf(o.precondition,s))return a;const u=Wb(o.fieldTransforms,l,s),c=s.data;return c.setAll(UC(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Sf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Bb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fa(r,i,(o,s)=>R$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class R0 extends O0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xd extends O0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zb(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,k$(s,a,n[i]))}return r}function Wb(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,C$(o,s,e))}return r}class D$ extends O0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&N$(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MC();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=FC(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,r)=>Bb(n,r))&&fa(this.baseMutations,e.baseMutations,(n,r)=>Bb(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,fe;function BC(t){if(t===void 0)return ti("GRPC error has no .code"),U.UNKNOWN;switch(t){case Je.OK:return U.OK;case Je.CANCELLED:return U.CANCELLED;case Je.UNKNOWN:return U.UNKNOWN;case Je.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Je.INTERNAL:return U.INTERNAL;case Je.UNAVAILABLE:return U.UNAVAILABLE;case Je.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Je.NOT_FOUND:return U.NOT_FOUND;case Je.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Je.ABORTED:return U.ABORTED;case Je.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Je.DATA_LOSS:return U.DATA_LOSS;default:return ie(39323,{code:t})}}(fe=Je||(Je={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=new qi([4294967295,4294967295],0);function Kb(t){const e=V$().encode(t),n=new oC;return n.update(e),new Uint8Array(n.digest())}function Hb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qi([n,r],0),new qi([i,o],0)]}class N0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(qi.fromNumber(r)));return i.compare($$)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kb(e),[r,i]=Hb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new N0(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=Kb(e),[r,i]=Hb(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Id(re.min(),i,new Xe(ce),no(),pe())}}class zu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class zC{constructor(e,n){this.targetId=e,this.Ce=n}}class WC{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qb{constructor(){this.ve=0,this.Fe=Gb(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:o})}}),new zu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Gb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F${constructor(e){this.Ge=e,this.ze=new Map,this.je=no(),this.Je=Bc(),this.He=Bc(),this.Ye=new Xe(ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(hy(o))if(r===0){const s=new ee(o.path);this.et(n,s,Ft.newNoDocument(s,re.min()))}else Ue(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),l=a?this.ct(a,e,s):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=eo(r).toUint8Array()}catch(l){if(l instanceof yC)return ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new N0(s,i,o)}catch(l){return ca(l instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&hy(a.target)){const l=new ee(a.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ft.newNoDocument(l,e))}o.Be&&(n.set(s,o.ke()),o.qe())}});let r=pe();this.He.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Id(e,n,this.Ye,this.je,r);return this.je=no(),this.Je=Bc(),this.He=Bc(),this.Ye=new Xe(ce),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new Xe(ee.comparator)}function Gb(){return new Xe(ee.comparator)}const U$={asc:"ASCENDING",desc:"DESCENDING"},B$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},z$={and:"AND",or:"OR"};class W${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function yy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qs(t){return Ue(!!t,49232),re.fromTimestamp(function(n){const r=Zi(n);return new je(r.seconds,r.nanos)}(t))}function HC(t,e){return vy(t,e).canonicalString()}function vy(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qC(t){const e=Le.fromString(t);return Ue(JC(e),10190,{key:e.toString()}),e}function Om(t,e){const n=qC(e);if(n.get(1)!==t.databaseId.projectId)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(YC(n))}function GC(t,e){return HC(t.databaseId,e)}function K$(t){const e=qC(t);return e.length===4?Le.emptyPath():YC(e)}function Yb(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YC(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function H$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ie(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ue(c===void 0||typeof c=="string",58123),Pt.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?U.UNKNOWN:BC(u.code);return new H(c,u.message||"")}(s);n=new WC(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Om(t,r.document.name),o=Qs(r.document.updateTime),s=r.document.createTime?Qs(r.document.createTime):re.min(),a=new gr({mapValue:{fields:r.document.fields}}),l=Ft.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Tf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Om(t,r.document),o=r.readTime?Qs(r.readTime):re.min(),s=Ft.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Tf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Om(t,r.document),o=r.removedTargetIds||[];n=new Tf([],o,i,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new j$(i,o),a=r.targetId;n=new zC(a,s)}}return n}function q$(t,e){return{documents:[GC(t,e.path)]}}function G$(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GC(t,i);const o=function(u){if(u.length!==0)return XC(cr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ss(d.field),direction:X$(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=gy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Y$(t){let e=K$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=QC(h);return d instanceof cr&&IC(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(g){return new vu(Ts(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Ed(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new lh(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,p=h.values||[];return new lh(p,d)}(n.endAt)),_$(e,i,s,o,a,"F",l,u)}function Q$(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ts(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ts(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ts(n.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ts(n.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(Ts(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>QC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function X$(t){return U$[t]}function J$(t){return B$[t]}function Z$(t){return z$[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function Ts(t){return Bt.fromServerFormat(t.fieldPath)}function XC(t){return t instanceof et?function(n){if(n.op==="=="){if(Lb(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(Mb(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lb(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(Mb(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:J$(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(i=>XC(i));return r.length===1?r[0]:{compositeFilter:{op:Z$(n.op),filters:r}}}(t):ie(54877,{filter:t})}function JC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,o=re.min(),s=re.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.yt=e}}function tF(t){const e=Y$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.Cn=new rF}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ji.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class rF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ZC=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(ZC,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pa(0)}static cr(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="LruGarbageCollector",iF=1048576;function Jb([t,e],[n,r]){const i=ce(t,n);return i===0?ce(e,r):i}class oF{constructor(e){this.Ir=e,this.buffer=new lt(Jb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Jb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(Xb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oa(n)?q(Xb,"Ignoring IndexedDB error during garbage collection: ",n):await _d(n)}await this.Vr(3e5)})}}class aF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(wd.ce);const r=new oF(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Qb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qb):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Es()<=ue.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function lF(t,e){return new aF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.changes=new fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wl(r.mutation,i,Di.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=ko();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Al();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ko();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=no();const s=zl(),a=function(){return zl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xd)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Wl(c.mutation,u,c.mutation.getFieldMask(),je.now())):s.set(u.key,Di.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>a.set(u,new cF(c,s.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=zl();let i=new Xe((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Di.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=MC();c.forEach(d=>{if(!o.has(d)){const p=FC(n.get(d),r.get(d));p!==null&&h.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):$.resolve(ko());let a=pu,l=o;return s.next(u=>$.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,pe())).next(c=>({batchId:a,changes:T$(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=Al();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Al();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,l=>{const u=function(h,d){return new Na(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ft.newInvalidDocument(c)))});let a=Al();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Wl(c.mutation,u,Di.empty(),je.now()),Td(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qs(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:tF(i.bundledQuery),readTime:Qs(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.overlays=new Xe(ee.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ko();return $.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=ko(),o=n.length+1,s=new ee(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Xe((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ko(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ko(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new L$(n,r));let o=this.qr.get(n);o===void 0&&(o=pe(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.Qr=new lt(dt.$r),this.Ur=new lt(dt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new dt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ee(new Le([])),r=new dt(n,e),i=new dt(n,e+1),o=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),o.push(s.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new Le([])),r=new dt(n,e),i=new dt(n,e+1);let o=pe();return this.Ur.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new dt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||ce(e.Yr,n.Yr)}static Kr(e,n){return ce(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(dt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new M$(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?t$:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],s=>{const a=this.Xr(s.Yr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(ce);return n.forEach(i=>{const o=new dt(i,0),s=new dt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const s=new dt(new ee(o),0);let a=new lt(ce);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Yr)),!0)},s),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,i=>{const o=new dt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new dt(n,0),i=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.ri=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=no();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ft.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=no();const s=n.path,a=new ee(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||X6(Q6(c),r)<=0||(i.has(c.key)||Td(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yF(this)}getSize(e){return $.resolve(this.size)}}class yF extends uF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.persistence=e,this.si=new fs(n=>I0(n),P0),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.oi=0,this._i=new D0,this.targetCount=0,this.ai=pa.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.ui={},this.overlays={},this.ci=new wd(0),this.li=!1,this.li=!0,this.hi=new pF,this.referenceDelegate=e(this),this.Pi=new vF(this),this.indexManager=new nF,this.remoteDocumentCache=function(i){return new gF(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new eF(n),this.Ii=new hF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new mF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new _F(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class _F extends Z6{constructor(e){super(),this.currentSequenceNumber=e}}class M0{constructor(e){this.persistence=e,this.Ri=new D0,this.Vi=null}static mi(e){return new M0(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const i=ee.fromPath(r);return this.gi(e,i).next(o=>{o||n.removeEntry(i,re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.pi=new fs(r=>r$(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=lF(this,n)}static mi(e,n){return new hh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,i)=>this.br(e,r,i).next(o=>o?$.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bf(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=pe(),i=pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new L0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return t4()?8:e$(Kt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ws(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wF;return this.Ss(e,n,s).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,s,a.size)})}).next(()=>o.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Es()<=ue.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Es()<=ue.DEBUG&&q("QueryEngine","Query:",bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Es()<=ue.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):$.resolve())}ys(e,n){if(Fb(n))return $.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uh(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=pe(...o);return this.ps.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,a);return this.Cs(n,u,s,l.readTime)?this.ys(e,uh(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return Fb(n)||i.isEqual(re.min())?$.resolve(null):this.ps.getDocuments(e,r).next(o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?$.resolve(null):(Es()<=ue.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(n)),this.vs(e,s,n,Y6(i,pu)).next(a=>a))})}Ds(e,n){let r=new lt(NC(e));return n.forEach((i,o)=>{Td(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Es()<=ue.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",bs(n)),this.ps.getDocumentsMatchingQuery(e,n,Ji.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="LocalStore",bF=3e8;class SF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Xe(ce),this.xs=new fs(o=>I0(o),P0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TF(t,e,n,r){return new SF(t,e,n,r)}async function tk(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=pe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:s,addedBatchIds:a}))})})}function nk(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function AF(t,e){const n=he(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Pi.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(o,c.addedDocuments,h)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Pt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(v,E,y){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=bF?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&a.push(n.Pi.updateTargetData(o,p))});let l=no(),u=pe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(xF(o,s,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!r.isEqual(re.min())){const c=n.Pi.getLastRemoteSnapshotVersion(o).next(h=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ms=i,o))}function xF(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=no();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(re.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):q(j0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ks:s,qs:i}})}function IF(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Mi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function _y(t,e,n){const r=he(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Oa(s))throw s;q(j0,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function Zb(t,e,n){const r=he(t);let i=re.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=he(l),d=h.xs.get(c);return d!==void 0?$.resolve(h.Ms.get(d)):h.Pi.getTargetData(u,c)}(r,s,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:re.min(),n?o:pe())).next(a=>(PF(r,E$(e),a),{documents:a,Qs:o})))}function PF(t,e,n){let r=t.Os.get(e)||re.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class eS{constructor(){this.activeTargetIds=I$()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CF{constructor(){this.Mo=new eS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="ConnectivityMonitor";class nS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(tS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(tS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function wy(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",OF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=wy(),a=this.zo(e,n.toUriEncodedString());q(Rm,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,o);const{host:u}=new URL(a),c=Ia(u);return this.Jo(e,a,l,r,c).then(h=>(q(Rm,`Received RPC '${e}' ${s}: `,h),h),h=>{throw ca(Rm,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ka}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}zo(e,n){const r=OF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class DF extends RF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=wy();return new Promise((a,l)=>{const u=new sC;u.setWithCredentials(!0),u.listenOnce(aC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ef.NO_ERROR:const h=u.getResponseJson();q(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case Ef.TIMEOUT:q(Lt,`RPC '${e}' ${s} timed out`),l(new H(U.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const d=u.getStatus();if(q(Lt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const v=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(g.status);l(new H(v,g.message))}else l(new H(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H(U.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:s,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{q(Lt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);q(Lt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=wy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cC(),a=uC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");q(Lt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);this.I_(h);let d=!1,p=!1;const g=new NF({Yo:E=>{p?q(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(q(Lt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),q(Lt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Zo:()=>h.close()}),v=(E,y,_)=>{E.listen(y,b=>{try{_(b)}catch(P){setTimeout(()=>{throw P},0)}})};return v(h,Tl.EventType.OPEN,()=>{p||(q(Lt,`RPC '${e}' stream ${i} transport opened.`),g.o_())}),v(h,Tl.EventType.CLOSE,()=>{p||(p=!0,q(Lt,`RPC '${e}' stream ${i} transport closed`),g.a_(),this.E_(h))}),v(h,Tl.EventType.ERROR,E=>{p||(p=!0,ca(Lt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),g.a_(new H(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,Tl.EventType.MESSAGE,E=>{var y;if(!p){const _=E.data[0];Ue(!!_,16349);const b=_,P=(b==null?void 0:b.error)||((y=b[0])==null?void 0:y.error);if(P){q(Lt,`RPC '${e}' stream ${i} received error:`,P);const R=P.status;let D=function(x){const k=Je[x];if(k!==void 0)return BC(k)}(R),A=P.message;D===void 0&&(D=U.INTERNAL,A="Unknown error status: "+R+" with message "+P.message),p=!0,g.a_(new H(D,A)),h.close()}else q(Lt,`RPC '${e}' stream ${i} received:`,_),g.u_(_)}}),v(a,lC.STAT_EVENT,E=>{E.stat===ay.PROXY?q(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ay.NOPROXY&&q(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){return new W$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="PersistentStream";class MF{constructor(e,n,r,i,o,s,a,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rk(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new H(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(rS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LF extends MF{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H$(this.serializer,e),r=function(o){if(!("targetChange"in o))return re.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Qs(s.readTime):re.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Yb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=hy(l)?{documents:q$(o,l)}:{query:G$(o,l).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=KC(o,s.resumeToken);const u=gy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=yy(o,s.snapshotVersion.toTimestamp());const u=gy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Q$(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Yb(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{}class VF extends jF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Go(e,vy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(U.UNKNOWN,o.toString())})}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,vy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $F{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ti(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class FF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Ku(this)&&(q(ma,"Restarting streams for network reachability change."),await async function(l){const u=he(l);u.Ea.add(4),await Wu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Cd(u)}(this))})}),this.Ra=new $F(r,i)}}async function Cd(t){if(Ku(t))for(const e of t.da)await e(!0)}async function Wu(t){for(const e of t.da)await e(!1)}function ik(t,e){const n=he(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),U0(n)?F0(n):Da(n).O_()&&$0(n,e))}function V0(t,e){const n=he(t),r=Da(n);n.Ia.delete(e),r.O_()&&ok(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ku(n)&&n.Ra.set("Unknown"))}function $0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Da(t).Y_(e)}function ok(t,e){t.Va.Ue(e),Da(t).Z_(e)}function F0(t){t.Va=new F$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Da(t).start(),t.Ra.ua()}function U0(t){return Ku(t)&&!Da(t).x_()&&t.Ia.size>0}function Ku(t){return he(t).Ea.size===0}function sk(t){t.Va=void 0}async function UF(t){t.Ra.set("Online")}async function BF(t){t.Ia.forEach((e,n)=>{$0(t,e)})}async function zF(t,e){sk(t),U0(t)?(t.Ra.ha(e),F0(t)):t.Ra.set("Unknown")}async function WF(t,e,n){if(t.Ra.set("Online"),e instanceof WC&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(r){q(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await iS(t,r)}else if(e instanceof Tf?t.Va.Ze(e):e instanceof zC?t.Va.st(e):t.Va.tt(e),!n.isEqual(re.min()))try{const r=await nk(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Va.Tt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.Ia.get(u);c&&o.Ia.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.Ia.get(l);if(!c)return;o.Ia.set(l,c.withResumeToken(Pt.EMPTY_BYTE_STRING,c.snapshotVersion)),ok(o,l);const h=new Mi(c.target,l,u,c.sequenceNumber);$0(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(ma,"Failed to raise snapshot:",r),await iS(t,r)}}async function iS(t,e,n){if(!Oa(e))throw e;t.Ea.add(1),await Wu(t),t.Ra.set("Offline"),n||(n=()=>nk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ma,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cd(t)})}async function oS(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),q(ma,"RemoteStore received new credentials");const r=Ku(n);n.Ea.add(3),await Wu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function KF(t,e){const n=he(t);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await Wu(n),n.Ra.set("Unknown"))}function Da(t){return t.ma||(t.ma=function(n,r,i){const o=he(n);return o.sa(),new LF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Xo:UF.bind(null,t),t_:BF.bind(null,t),r_:zF.bind(null,t),H_:WF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),U0(t)?F0(t):t.Ra.set("Unknown")):(await t.ma.stop(),sk(t))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new B0(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ak(t,e){if(ti("AsyncQueue",`${e}: ${t}`),Oa(t))return new H(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{static emptySet(e){return new Xs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Al(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.ga=new Xe(ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new ga(e,n,Xs.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class qF{constructor(){this.queries=aS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=he(n),o=i.queries;i.queries=aS(),o.forEach((s,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new H(U.ABORTED,"Firestore shutting down"))}}function aS(){return new fs(t=>RC(t),Sd)}async function lk(t,e){const n=he(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new HF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=ak(s,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&z0(n)}async function uk(t,e){const n=he(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GF(t,e){const n=he(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Sa)a.Fa(i)&&(r=!0);s.wa=i}}r&&z0(n)}function YF(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function z0(t){t.Ca.forEach(e=>{e.next()})}var Ey,lS;(lS=Ey||(Ey={})).Ma="default",lS.Cache="cache";class ck{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ey.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.key=e}}class hk{constructor(e){this.key=e}}class QF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=NC(e),this.tu=new Xs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sS,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),p=Td(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;d&&p?d.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),E=!0):this.su(d,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(p?(s=s.add(p),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,h)=>function(p,g){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:E})}};return v(p)-v(g)}(c.type,h.type)||this.eu(c.doc,h.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,s.length!==0||u?{snapshot:new ga(this.query,e.tu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new hk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new fk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const W0="SyncEngine";class XF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class JF{constructor(e){this.key=e,this.hu=!1}}class ZF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new fs(a=>RC(a),Sd),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(ee.comparator),this.Au=new Map,this.Ru=new D0,this.Vu={},this.mu=new Map,this.fu=pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eU(t,e,n=!0){const r=yk(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await dk(r,e,n,!0),i}async function tU(t,e){const n=yk(t);await dk(n,e,!0,!1)}async function dk(t,e,n,r){const i=await IF(t.localStore,br(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await nU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ik(t.remoteStore,i),a}async function nU(t,e,n,r,i){t.pu=(h,d,p)=>async function(v,E,y,_){let b=E.view.ru(y);b.Cs&&(b=await Zb(v.localStore,E.query,!1).then(({documents:A})=>E.view.ru(A,b)));const P=_&&_.targetChanges.get(E.targetId),R=_&&_.targetMismatches.get(E.targetId)!=null,D=E.view.applyChanges(b,v.isPrimaryClient,P,R);return cS(v,E.targetId,D.au),D.snapshot}(t,h,d,p);const o=await Zb(t.localStore,e,!0),s=new QF(e,o.Qs),a=s.ru(o.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);cS(t,n,u.au);const c=new XF(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function rU(t,e,n){const r=he(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Sd(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _y(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&V0(r.remoteStore,i.targetId),by(r,i.targetId)}).catch(_d)):(by(r,i.targetId),await _y(r.localStore,i.targetId,!0))}async function iU(t,e){const n=he(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),V0(n.remoteStore,r.targetId))}async function pk(t,e){const n=he(t);try{const r=await AF(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ue(s.hu,14607):i.removedDocuments.size>0&&(Ue(s.hu,42227),s.hu=!1))}),await gk(n,r,e)}catch(r){await _d(r)}}function uS(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=he(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Sa)d.va(a)&&(u=!0)}),u&&z0(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oU(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Xe(ee.comparator);s=s.insert(o,Ft.newNoDocument(o,re.min()));const a=pe().add(o),l=new Id(re.min(),new Map,new Xe(ce),s,a);await pk(r,l),r.du=r.du.remove(o),r.Au.delete(e),K0(r)}else await _y(r.localStore,e,!1).then(()=>by(r,e,n)).catch(_d)}function by(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||mk(t,r)})}function mk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(V0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),K0(t))}function cS(t,e,n){for(const r of n)r instanceof fk?(t.Ru.addReference(r.key,e),sU(t,r)):r instanceof hk?(q(W0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||mk(t,r.key)):ie(19791,{wu:r})}function sU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(q(W0,"New document in limbo: "+n),t.Eu.add(r),K0(t))}function K0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Le.fromString(e)),r=t.fu.next();t.Au.set(r,new JF(n)),t.du=t.du.insert(n,r),ik(t.remoteStore,new Mi(br(C0(n.path)),r,"TargetPurposeLimboResolution",wd.ce))}}async function gk(t,e,n){const r=he(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{s.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=L0.As(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>$.forEach(u,d=>$.forEach(d.Es,p=>c.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>$.forEach(d.ds,p=>c.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!Oa(h))throw h;q(j0,"Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const p=c.Ms.get(d),g=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(g);c.Ms=c.Ms.insert(d,v)}}}(r.localStore,o))}async function aU(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){q(W0,"User change. New user:",e.toKey());const r=await tk(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(l=>{l.reject(new H(U.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gk(n,r.Ls)}}function lU(t,e){const n=he(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let i=pe();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function yk(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oU.bind(null,e),e.Pu.H_=GF.bind(null,e.eventManager),e.Pu.yu=YF.bind(null,e.eventManager),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TF(this.persistence,new EF,e.initialUser,this.serializer)}Cu(e){return new ek(M0.mi,this.serializer)}Du(e){return new CF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class uU extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new ek(r=>hh.mi(r,n),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aU.bind(null,this.syncEngine),await KF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qF}()}createDatastore(e){const n=Pd(e.databaseInfo.databaseId),r=function(o){return new DF(o)}(e.databaseInfo);return function(o,s,a,l){return new VF(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new FF(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>uS(this.syncEngine,n,0),function(){return nS.v()?new nS:new kF}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new ZF(i,o,s,a,l,u);return c&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=he(i);q(ma,"RemoteStore shutting down."),o.Ea.add(5),await Wu(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class cU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=dC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{q(ro,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(q(ro,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ak(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dm(t,e){t.asyncQueue.verifyOperationInProgress(),q(ro,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fU(t);q(ro,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>oS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>oS(e.remoteStore,i)),t._onlineComponents=e}async function fU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(ro,"Using user provided OfflineComponentProvider");try{await Dm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Dm(t,new dh)}}else q(ro,"Using default OfflineComponentProvider"),await Dm(t,new uU(void 0));return t._offlineComponents}async function hU(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(ro,"Using user provided OnlineComponentProvider"),await fS(t,t._uninitializedComponentsProvider._online)):(q(ro,"Using default OnlineComponentProvider"),await fS(t,new Sy))),t._onlineComponents}async function Ty(t){const e=await hU(t),n=e.eventManager;return n.onListen=eU.bind(null,e.syncEngine),n.onUnlisten=rU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iU.bind(null,e.syncEngine),n}function dU(t,e,n={}){const r=new $o;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new vk({next:d=>{c.Nu(),s.enqueueAndForget(()=>uk(o,h)),d.fromCache&&l.source==="server"?u.reject(new H(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new ck(a,c,{includeMetadataChanges:!0,qa:!0});return lk(o,h)}(await Ty(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk="firestore.googleapis.com",dS=!0;class pS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wk,this.ssl=dS}else this.host=e.host,this.ssl=e.ssl??dS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ZC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iF)throw new H(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_k(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class H0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new L6;switch(r.type){case"firstParty":return new F6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hS.get(n);r&&(q("ComponentProvider","Removing Datastore"),hS.delete(n),r.terminate())}(this),Promise.resolve()}}function pU(t,e,n,r={}){var u;t=Ys(t,H0);const i=Ia(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(yP(`https://${a}`),vP("Firestore",!0)),o.host!==wk&&o.host!==a&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...o,host:a,ssl:i,emulatorOptions:r};if(!Jo(l,s)&&(t._setSettings(l),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Vt.MOCK_USER;else{c=Hj(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Vt(d)}t._authCredentials=new j6(new hC(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ui(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Bu(n,zt._jsonSchema))return new zt(e,r||null,new ee(Le.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:tt("string",zt._jsonSchemaVersion),referencePath:tt("string")};class Js extends ui{constructor(e,n,r){super(e,n,C0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ee(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function ph(t,e,...n){if(t=cn(t),H6("collection","path",e),t instanceof H0){const r=Le.fromString(e,...n);return xb(r),new Js(t,null,r)}{if(!(t instanceof zt||t instanceof Js))throw new H(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return xb(r),new Js(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="AsyncQueue";class gS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rk(this,"async_queue_retry"),this._c=()=>{const r=Nm();r&&q(mS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $o;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oa(e))throw e;q(mS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ti("INTERNAL UNHANDLED ERROR: ",yS(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=B0.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ie(47125,{Pc:yS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class mh extends H0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gS,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gS(e),this._firestoreClient=void 0,await e}}}function Ek(t,e){const n=typeof t=="object"?t:bP(),r=typeof t=="string"?t:sh,i=m0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Wj("firestore");o&&pU(i,...o)}return i}function bk(t){if(t._terminated)throw new H(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mU(t),t._firestoreClient}function mU(t){var r,i,o;const e=t._freezeSettings(),n=function(a,l,u,c){return new s$(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,_k(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Pt.fromBase64String(e))}catch(n){throw new H(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:tt("string",Ln._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sr._jsonSchemaVersion}}static fromJSON(e){if(Bu(e,Sr._jsonSchema))return new Sr(e.latitude,e.longitude)}}Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:tt("string",Sr._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Tr(e.vectorValues);throw new H(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:tt("string",Tr._jsonSchemaVersion),vectorValues:tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=/^__.*__$/;function Ak(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class q0{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new q0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ay(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ak(this.Ac)&&gU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class yU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Pd(e)}Cc(e,n,r,i=!1){return new q0({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vU(t){const e=t._freezeSettings(),n=Pd(t._databaseId);return new yU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _U(t,e,n,r=!1){return G0(n,t.Cc(r?4:3,e))}function G0(t,e){if(xk(t=cn(t)))return EU("Unsupported field value:",e,t),wU(t,e);if(t instanceof Tk)return function(r,i){if(!Ak(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=G0(a,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=je.fromDate(r);return{timestampValue:yy(i.serializer,o)}}if(r instanceof je){const o=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yy(i.serializer,o)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:KC(i.serializer,r._byteString)};if(r instanceof zt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tr)return function(s,a){return{mapValue:{fields:{[bC]:{stringValue:TC},[ah]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return k0(a.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${vd(r)}`)}(t,e)}function wU(t,e){const n={};return gC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,(r,i)=>{const o=G0(i,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Sr||t instanceof Ln||t instanceof zt||t instanceof Tk||t instanceof Tr)}function EU(t,e,n){if(!xk(n)||!pC(n)){const r=vd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}const bU=new RegExp("[~\\*/\\[\\]]");function SU(t,e,n){if(e.search(bU)>=0)throw Ay(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sk(...e.split("."))._internalPath}catch{throw Ay(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ay(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(U.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Y0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TU extends Ik{data(){return super.data()}}function Y0(t,e){return typeof e=="string"?SU(t,e):e instanceof Sk?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}class X0 extends Q0{}function Ck(t,e,...n){let r=[];e instanceof Q0&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Z0).length,a=o.filter(l=>l instanceof J0).length;if(s>1||s>0&&a>0)throw new H(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class J0 extends X0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new J0(e,n,r)}_apply(e){const n=this._parse(e);return Rk(e._query,n),new ui(e.firestore,e.converter,dy(e._query,n))}_parse(e){const n=vU(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new H(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){wS(h,c);const g=[];for(const v of h)g.push(_S(l,o,v));d={arrayValue:{values:g}}}else d=_S(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||wS(h,c),d=_U(a,s,h,c==="in"||c==="not-in");return et.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Z0 extends Q0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Z0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)Rk(s,l),s=dy(s,l)}(e._query,n),new ui(e.firestore,e.converter,dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e_ extends X0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new e_(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vu(o,s)}(e._query,this._field,this._direction);return new ui(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Na(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function kk(t,e="asc"){const n=e,r=Y0("orderBy",t);return e_._create(r,n)}class t_ extends X0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t_(e,n,r)}_apply(e){return new ui(e.firestore,e.converter,uh(e._query,this._limit,this._limitType))}}function Ok(t){return G6("limit",t),t_._create("limit",t,"F")}function _S(t,e,n){if(typeof(n=cn(n))=="string"){if(n==="")throw new H(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OC(e)&&n.indexOf("/")!==-1)throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!ee.isDocumentKey(r))throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Db(t,new ee(r))}if(n instanceof zt)return Db(t,n._key);throw new H(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function wS(t,e){if(!Array.isArray(t)||t.length===0)throw new H(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rk(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AU{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ra(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[ah].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>Ge(s.doubleValue));return new Tr(n)}convertGeoPoint(e){return new Sr(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ue(JC(r),9688,{name:e});const i=new gu(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||ti(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uo extends Ik{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Y0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uo._jsonSchema={type:tt("string",Uo._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class Af extends Uo{data(e={}){return super.data(e)}}class Bo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Af(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Af(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Af(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Il(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:xU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dC.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:tt("string",Bo._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};class n_ extends AU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function Nk(t){t=Ys(t,ui);const e=Ys(t.firestore,mh),n=bk(e),r=new n_(e);return Pk(t._query),dU(n,t._query).then(i=>new Bo(e,r,t,i))}function Dk(t,...e){var l,u,c;t=cn(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||vS(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(vS(e[r])){const h=e[r];e[r]=(l=h.next)==null?void 0:l.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(c=h.complete)==null?void 0:c.bind(h)}let o,s,a;if(t instanceof zt)s=Ys(t.firestore,mh),a=C0(t._key.path),o={next:h=>{e[r]&&e[r](IU(s,t,h))},error:e[r+1],complete:e[r+2]};else{const h=Ys(t,ui);s=Ys(h.firestore,mh),a=h._query;const d=new n_(s);o={next:p=>{e[r]&&e[r](new Bo(s,d,h,p))},error:e[r+1],complete:e[r+2]},Pk(t._query)}return function(d,p,g,v){const E=new vk(v),y=new ck(p,E,g);return d.asyncQueue.enqueueAndForget(async()=>lk(await Ty(d),y)),()=>{E.Nu(),d.asyncQueue.enqueueAndForget(async()=>uk(await Ty(d),y))}}(bk(s),a,i,o)}function IU(t,e,n){const r=n.docs.get(e._key),i=new n_(t);return new Uo(t,i,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ka=i})(Pa),ua(new Zo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new mh(new V6(r.getProvider("auth-internal")),new U6(s,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(u.options.projectId,c)}(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Hi(bb,Sb,e),Hi(bb,Sb,"esm2020")})();const PU={apiKey:"AIzaSyBCLjzx3C-4b20zaL2QhYHNoChgD517kdQ",authDomain:"waterlevelmonitor-5c240.firebaseapp.com",projectId:"waterlevelmonitor-5c240",storageBucket:"waterlevelmonitor-5c240.appspot.com",messagingSenderId:"123456789012",appId:"1:123456789012:web:abcdef123456"},Mk=EP(PU),Wc=R6(Mk),xy=Ek(Mk),kd=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!0);return T.useEffect(()=>w3(Wc,u=>{e(u),r(!1)}),[]),{user:t,loading:n,login:async(l,u)=>y3(Wc,l,u),register:async(l,u)=>g3(Wc,l,u),logout:async()=>E3(Wc),getUserId:l=>{const u=l.replace("@","_at_").replace(/\./g,"_");return console.log("Converting email to userId:",l,"->",u),u}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Kn=(t,e)=>{const n=T.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>T.createElement("svg",{ref:c,...CU,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${kU(t)}`,a].join(" "),...u},[...e.map(([h,d])=>T.createElement(h,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Kn("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=Kn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=Kn("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=Kn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Kn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Kn("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Kn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=Kn("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=Kn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Kn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=Kn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Kn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),VU=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,o]=T.useState(!1),[s,a]=T.useState(""),[l,u]=T.useState(!1),{login:c,register:h}=kd(),d=async p=>{p.preventDefault(),a(""),u(!0);try{i?await h(t,n):await c(t,n)}catch(g){a(g.message)}finally{u(!1)}};return M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-teal-700 flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[M.jsxs("div",{className:"text-center mb-8",children:[M.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(MU,{className:"h-8 w-8 text-blue-600"})}),M.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Water Monitor"}),M.jsx("p",{className:"text-gray-600",children:i?"Create your account":"Sign in to your dashboard"})]}),M.jsxs("form",{onSubmit:d,className:"space-y-6",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),M.jsxs("div",{className:"relative",children:[M.jsx(jU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),M.jsx("input",{type:"email",value:t,onChange:p=>e(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email",required:!0})]})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),M.jsxs("div",{className:"relative",children:[M.jsx(DU,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),M.jsx("input",{type:"password",value:n,onChange:p=>r(p.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your password",required:!0})]})]}),s&&M.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[M.jsx(OU,{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0"}),M.jsx("p",{className:"text-red-700 text-sm",children:s})]}),M.jsx("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:l?"Please wait...":i?"Create Account":"Sign In"})]}),M.jsx("div",{className:"mt-6 text-center",children:M.jsx("button",{onClick:()=>o(!i),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:i?"Already have an account? Sign in":"Don't have an account? Register"})})]})})},$U=t=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0);return T.useEffect(()=>{if(!t){console.log("No userId provided");return}console.log("Looking for devices for userId:",t),console.log("Full path:",`users/${t}/devices`);const o=ph(xy,`users/${t}/devices`);return Dk(o,async a=>{console.log("Firestore snapshot received, docs count:",a.docs.length),a.docs.length===0&&(console.log("No devices found in Firestore for this user"),console.log("Check if data exists at path:",`users/${t}/devices`));const l=a.docs.map(async c=>{console.log("Processing device:",c.id,"with data:",c.data());const h=c.id,d=ph(xy,`users/${t}/devices/${h}/readings`),p=Ck(d,kk("timestamp","desc"),Ok(1)),g=await Nk(p);console.log("Readings for device",h,":",g.docs.length);let v;if(!g.empty){const E=g.docs[0];console.log("Latest reading data:",E.data()),v={id:E.id,...E.data()}}return{id:h,name:c.data().name||`Device ${h}`,latestReading:v,readings:[]}}),u=await Promise.all(l);console.log("Final devices data:",u),n(u),i(!1)},a=>{console.error("Firestore error:",a),i(!1)})},[t]),{devices:e,loading:r}},FU=(t,e)=>{const[n,r]=T.useState([]),[i,o]=T.useState(!0);return T.useEffect(()=>{if(!t||!e)return;const s=ph(xy,`users/${t}/devices/${e}/readings`),a=Ck(s,kk("timestamp","desc"),Ok(100));return Dk(a,u=>{const c=u.docs.map(h=>({id:h.id,...h.data()}));r(c),o(!1)})},[t,e]),{readings:n,loading:i}},UU=({device:t,onClick:e})=>{const{latestReading:n}=t,r=l=>l>60?"text-green-600":l>30?"text-yellow-600":"text-red-600",i=l=>l>60?"bg-green-100":l>30?"bg-yellow-100":"bg-red-100",o=l=>l>70?"text-blue-600":l>30?"text-teal-600":"text-red-600",s=l=>l>70?"bg-blue-100":l>30?"bg-teal-100":"bg-red-100",a=l=>{if(!l)return"No data";const u=l.toDate?l.toDate():new Date(l);return new Intl.RelativeTimeFormat("en").format(Math.floor((u.getTime()-Date.now())/(1e3*60)),"minute")};return n?M.jsxs("div",{onClick:e,className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border border-gray-100 hover:border-blue-200 group",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h3",{className:"text-xl font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:t.name}),M.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[M.jsxs("div",{className:`${s(n.water_level_percent)} rounded-lg p-4`,children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx(Zs,{className:`h-5 w-5 ${o(n.water_level_percent)}`}),M.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[n.water_level_percent.toFixed(2),"%"]})]}),M.jsxs("p",{className:"text-sm text-gray-600",children:[n.water_level_litre.toFixed(2),"L"]})]}),M.jsxs("div",{className:`${i(n.battery_percent)} rounded-lg p-4`,children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx(Lk,{className:`h-5 w-5 ${r(n.battery_percent)}`}),M.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[n.battery_percent.toFixed(2),"%"]})]}),M.jsx("p",{className:"text-sm text-gray-600",children:"Battery"})]})]}),M.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(ES,{className:"h-4 w-4 mr-1"}),M.jsxs("span",{children:["Updated ",a(n.timestamp)]})]}),M.jsx(Iy,{className:"h-4 w-4 text-green-500"})]})]}):M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 cursor-pointer border border-gray-100",children:[M.jsxs("div",{className:"flex items-center justify-between mb-4",children:[M.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.name}),M.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"})]}),M.jsxs("div",{className:"text-gray-500 text-center py-8",children:[M.jsx(ES,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),M.jsx("p",{children:"No recent data"})]})]})},BU=({onDeviceSelect:t})=>{const{user:e,logout:n,getUserId:r}=kd(),i=e?r(e.email):"";sx.useEffect(()=>{(async()=>{if(!(e!=null&&e.email))return;const u=Ek(),c=e.email,h=c.replace(/@/g,"_at_").replace(/\./g,"_");console.log("=== FIRESTORE DEBUG ==="),console.log("User email:",c),console.log("Generated userID:",h);const d=ph(u,"users",h,"devices");console.log("Querying path:",`users/${h}/devices`);try{const p=await Nk(d);console.log("Snapshot size:",p.size),p.forEach(g=>{console.log(g.id,"=>",g.data())}),p.empty&&console.log("No documents found in the devices collection")}catch(p){console.error("Firestore query error:",p)}console.log("=== END DEBUG ===")})()},[e]),console.log("Dashboard - Current user:",e==null?void 0:e.email),console.log("Dashboard - Generated userId:",i);const{devices:o,loading:s}=$U(i),a=async()=>{try{await n()}catch(l){console.error("Logout failed:",l)}};return s?M.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx(jk,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading your devices..."})]})}):M.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M.jsx("div",{className:"bg-white shadow-sm border-b",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex justify-between items-center py-6",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx("div",{className:"bg-blue-100 w-10 h-10 rounded-lg flex items-center justify-center mr-3",children:M.jsx(Zs,{className:"h-6 w-6 text-blue-600"})}),M.jsxs("div",{children:[M.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Water Monitor"}),M.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome back, ",e==null?void 0:e.email]})]})]}),M.jsxs("button",{onClick:a,className:"flex items-center px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[M.jsx(LU,{className:"h-5 w-5 mr-2"}),"Sign Out"]})]})})}),M.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[M.jsxs("div",{className:"mb-8",children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Your Devices"}),M.jsx("p",{className:"text-gray-600",children:"Monitor water levels and battery status across all your sensors"})]}),o.length===0?M.jsxs("div",{className:"text-center py-12",children:[M.jsx(Zs,{className:"h-24 w-24 text-gray-300 mx-auto mb-4"}),M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No devices found"}),M.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Your water sensors will appear here once they start sending data to your Firebase project."})]}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map(l=>M.jsx(UU,{device:l,onClick:()=>t(l.id)},l.id))})]})]})};function Vk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Vk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Vk(t))&&(r&&(r+=" "),r+=e);return r}var Od={},$k={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})($k);var r_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(r_);var i_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(i_);var Rd={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let o=0,s="",a="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),o++);o<i;){const u=n[o];a?u==="\\"&&o+1<i?(o++,s+=n[o]):u===a?a="":s+=u:l?u==='"'||u==="'"?a=u:u==="]"?(l=!1,r.push(s),s=""):s+=u:u==="["?(l=!0,s&&(r.push(s),s="")):u==="."?s&&(r.push(s),s=""):s+=u,o++}return s&&r.push(s),r}t.toPath=e})(Rd);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$k,n=r_,r=i_,i=Rd;function o(a,l,u){if(a==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?n.isDeepKey(l)?o(a,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const c=a[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(a,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const c=a[l];return c===void 0?u:c}}}function s(a,l,u){if(l.length===0)return u;let c=a;for(let h=0;h<l.length;h++){if(c==null||e.isUnsafeProperty(l[h]))return u;c=c[l[h]]}return c===void 0?u:c}t.get=o})(Od);var zU=Od.get;const rs=si(zU);var Fk={exports:{}},Pe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=Symbol.for("react.transitional.element"),s_=Symbol.for("react.portal"),Nd=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),Md=Symbol.for("react.profiler"),Ld=Symbol.for("react.consumer"),jd=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),$d=Symbol.for("react.suspense"),Fd=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),Bd=Symbol.for("react.lazy"),WU=Symbol.for("react.view_transition"),KU=Symbol.for("react.client.reference");function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case o_:switch(t=t.type,t){case Nd:case Md:case Dd:case $d:case Fd:case WU:return t;default:switch(t=t&&t.$$typeof,t){case jd:case Vd:case Bd:case Ud:return t;case Ld:return t;default:return e}}case s_:return e}}}Pe.ContextConsumer=Ld;Pe.ContextProvider=jd;Pe.Element=o_;Pe.ForwardRef=Vd;Pe.Fragment=Nd;Pe.Lazy=Bd;Pe.Memo=Ud;Pe.Portal=s_;Pe.Profiler=Md;Pe.StrictMode=Dd;Pe.Suspense=$d;Pe.SuspenseList=Fd;Pe.isContextConsumer=function(t){return Hn(t)===Ld};Pe.isContextProvider=function(t){return Hn(t)===jd};Pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===o_};Pe.isForwardRef=function(t){return Hn(t)===Vd};Pe.isFragment=function(t){return Hn(t)===Nd};Pe.isLazy=function(t){return Hn(t)===Bd};Pe.isMemo=function(t){return Hn(t)===Ud};Pe.isPortal=function(t){return Hn(t)===s_};Pe.isProfiler=function(t){return Hn(t)===Md};Pe.isStrictMode=function(t){return Hn(t)===Dd};Pe.isSuspense=function(t){return Hn(t)===$d};Pe.isSuspenseList=function(t){return Hn(t)===Fd};Pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nd||t===Md||t===Dd||t===$d||t===Fd||typeof t=="object"&&t!==null&&(t.$$typeof===Bd||t.$$typeof===Ud||t.$$typeof===jd||t.$$typeof===Ld||t.$$typeof===Vd||t.$$typeof===KU||t.getModuleId!==void 0)};Pe.typeOf=Hn;Fk.exports=Pe;var HU=Fk.exports,Vn=t=>t===0?0:t>0?1:-1,An=t=>typeof t=="number"&&t!=+t,Oo=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,J=t=>(typeof t=="number"||t instanceof Number)&&!An(t),Ir=t=>J(t)||typeof t=="string",qU=0,_u=t=>{var e=++qU;return"".concat(t||"").concat(e)},io=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(e)&&typeof e!="string")return r;var o;if(Oo(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return An(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},Uk=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function tr(t,e,n){return J(t)&&J(e)?t+n*(e-t):e}function Bk(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):rs(r,e))===n)}var Qe=t=>t===null||typeof t>"u",a_=t=>Qe(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),GU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function l_(t){if(typeof t!="string")return!1;var e=GU;return e.includes(t)}var YU=["viewBox","children"],bS=["points","pathLength"],Mm={svg:YU,polygon:bS,polyline:bS},u_=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{l_(i)&&(r[i]=o=>n[i](n,o))}),r},QU=(t,e,n)=>r=>(t(e,n,r),null),XU=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];l_(i)&&typeof o=="function"&&(r||(r={}),r[i]=QU(o,e,n))}),r},JU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function zk(t){if(typeof t!="string")return!1;var e=JU;return e.includes(t)}function co(t){var e=Object.entries(t).filter(n=>{var[r]=n;return zk(r)});return Object.fromEntries(e)}var SS=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",TS=null,Lm=null,Wk=t=>{if(t===TS&&Array.isArray(Lm))return Lm;var e=[];return T.Children.forEach(t,n=>{Qe(n)||(HU.isFragment(n)?e=e.concat(Wk(n.props.children)):e.push(n))}),Lm=e,TS=t,e};function Kk(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>SS(i)):r=[SS(e)],Wk(t).forEach(i=>{var o=rs(i,"type.displayName")||rs(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var zd=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,ZU=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var o=(i=r&&(Mm==null?void 0:Mm[r]))!==null&&i!==void 0?i:[],s=e.startsWith("data-"),a=typeof t!="function"&&(!!r&&o.includes(e)||zk(e)),l=!!n&&l_(e);return s||a||l},nt=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(o=>{var s;ZU((s=r)===null||s===void 0?void 0:s[o],o,e,n)&&(i[o]=r[o])}),i},e5=["children","width","height","viewBox","className","style","title","desc"];function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(null,arguments)}function t5(t,e){if(t==null)return{};var n,r,i=n5(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function n5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hk=T.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:a,title:l,desc:u}=t,c=t5(t,e5),h=o||{width:r,height:i,x:0,y:0},d=xe("recharts-surface",s);return T.createElement("svg",Py({},nt(c,!0,"svg"),{className:d,width:r,height:i,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),T.createElement("title",null,l),T.createElement("desc",null,u),n)}),r5=["children","className"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(null,arguments)}function i5(t,e){if(t==null)return{};var n,r,i=o5(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function o5(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fr=T.forwardRef((t,e)=>{var{children:n,className:r}=t,i=i5(t,r5),o=xe("recharts-layer",r);return T.createElement("g",Cy({className:o},nt(i,!0),{ref:e}),n)}),s5=T.createContext(null);function He(t){return function(){return t}}const ky=Math.PI,Oy=2*ky,To=1e-6,a5=Oy-To;function qk(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function l5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qk;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class u5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qk:l5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,h=a-n,d=c*c+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>To)if(!(Math.abs(h*l-u*c)>To)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-a,v=l*l+u*u,E=p*p+g*g,y=Math.sqrt(v),_=Math.sqrt(d),b=o*Math.tan((ky-Math.acos((v+d-E)/(2*y*_)))/2),P=b/_,R=b/y;Math.abs(P-1)>To&&this._append`L${e+P*c},${n+P*h}`,this._append`A${o},${o},0,0,${+(h*p>c*g)},${this._x1=e+R*l},${this._y1=n+R*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,h=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>To||Math.abs(this._y1-c)>To)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%Oy+Oy),d>a5?this._append`A${r},${r},0,1,${h},${e-a},${n-l}A${r},${r},0,1,${h},${this._x1=u},${this._y1=c}`:d>To&&this._append`A${r},${r},0,${+(d>=ky)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Gk(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new u5(e)}function c_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yk(t){this._context=t}Yk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wd(t){return new Yk(t)}function Qk(t){return t[0]}function Xk(t){return t[1]}function Jk(t,e){var n=He(!0),r=null,i=Wd,o=null,s=Gk(a);t=typeof t=="function"?t:t===void 0?Qk:He(t),e=typeof e=="function"?e:e===void 0?Xk:He(e);function a(l){var u,c=(l=c_(l)).length,h,d=!1,p;for(r==null&&(o=i(p=s())),u=0;u<=c;++u)!(u<c&&n(h=l[u],u,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,u,l),+e(h,u,l));if(p)return o=null,p+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:He(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:He(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:He(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Kc(t,e,n){var r=null,i=He(!0),o=null,s=Wd,a=null,l=Gk(u);t=typeof t=="function"?t:t===void 0?Qk:He(+t),e=typeof e=="function"?e:He(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Xk:He(+n);function u(h){var d,p,g,v=(h=c_(h)).length,E,y=!1,_,b=new Array(v),P=new Array(v);for(o==null&&(a=s(_=l())),d=0;d<=v;++d){if(!(d<v&&i(E=h[d],d,h))===y)if(y=!y)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=d-1;g>=p;--g)a.point(b[g],P[g]);a.lineEnd(),a.areaEnd()}y&&(b[d]=+t(E,d,h),P[d]=+e(E,d,h),a.point(r?+r(E,d,h):b[d],n?+n(E,d,h):P[d]))}if(_)return a=null,_+""||null}function c(){return Jk().defined(i).curve(s).context(o)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:He(+h),r=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:He(+h),u):t},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:He(+h),u):r},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:He(+h),n=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:He(+h),u):e},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:He(+h),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:He(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,o!=null&&(a=s(o)),u):s},u.context=function(h){return arguments.length?(h==null?o=a=null:a=s(o=h),u):o},u}class Zk{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function c5(t){return new Zk(t,!0)}function f5(t){return new Zk(t,!1)}function gh(){}function yh(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function eO(t){this._context=t}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h5(t){return new eO(t)}function tO(t){this._context=t}tO.prototype={areaStart:gh,areaEnd:gh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:yh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function d5(t){return new tO(t)}function nO(t){this._context=t}nO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:yh(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function p5(t){return new nO(t)}function rO(t){this._context=t}rO.prototype={areaStart:gh,areaEnd:gh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function m5(t){return new rO(t)}function AS(t){return t<0?-1:1}function xS(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(AS(o)+AS(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function IS(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function jm(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function vh(t){this._context=t}vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jm(this,this._t0,IS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,jm(this,IS(this,n=xS(this,t,e)),n);break;default:jm(this,this._t0,n=xS(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function iO(t){this._context=new oO(t)}(iO.prototype=Object.create(vh.prototype)).point=function(t,e){vh.prototype.point.call(this,e,t)};function oO(t){this._context=t}oO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function g5(t){return new vh(t)}function y5(t){return new iO(t)}function sO(t){this._context=t}sO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=PS(t),i=PS(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PS(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function v5(t){return new sO(t)}function Kd(t,e){this._context=t,this._t=e}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _5(t){return new Kd(t,.5)}function w5(t){return new Kd(t,0)}function E5(t){return new Kd(t,1)}function ya(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Ry(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function b5(t,e){return t[e]}function S5(t){const e=[];return e.key=t,e}function T5(){var t=He([]),e=Ry,n=ya,r=b5;function i(o){var s=Array.from(t.apply(this,arguments),S5),a,l=s.length,u=-1,c;for(const h of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(h,s[a].key,u,o)]).data=h;for(a=0,c=c_(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:He(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:He(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Ry:typeof o=="function"?o:He(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ya,i):n},i}function A5(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ya(t,e)}}function x5(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}ya(t,e)}}function I5(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],h=c[r][1]||0,d=c[r-1][1]||0,p=(h-d)/2,g=0;g<a;++g){var v=t[e[g]],E=v[r][1]||0,y=v[r-1][1]||0;p+=E-y}l+=h,u+=p*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,ya(t,e)}}var aO={},lO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],a=r(s);i.has(a)||i.set(a,s)}return Array.from(i.values())}t.uniqBy=e})(lO);var f_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(f_);var uO={},Hd={},cO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(cO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cO;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Hd);var fO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(fO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hd,n=fO;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(uO);var hO={},dO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Od;function n(r){return function(i){return e.get(i,r)}}t.property=n})(dO);var pO={},Vm={},$m={},h_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(h_);var d_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(d_);var qd={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(qd);var CS;function P5(){return CS||(CS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p_(),n=h_,r=d_,i=qd;function o(h,d,p){return typeof p!="function"?e.isMatch(h,d):s(h,d,function g(v,E,y,_,b,P){const R=p(v,E,y,_,b,P);return R!==void 0?!!R:s(v,E,g,P)},new Map)}function s(h,d,p,g){if(d===h)return!0;switch(typeof d){case"object":return a(h,d,p,g);case"function":return Object.keys(d).length>0?s(h,{...d},p,g):i.eq(h,d);default:return n.isObject(h)?typeof d=="string"?d==="":!0:i.eq(h,d)}}function a(h,d,p,g){if(d==null)return!0;if(Array.isArray(d))return u(h,d,p,g);if(d instanceof Map)return l(h,d,p,g);if(d instanceof Set)return c(h,d,p,g);const v=Object.keys(d);if(h==null)return v.length===0;if(v.length===0)return!0;if(g&&g.has(d))return g.get(d)===h;g&&g.set(d,h);try{for(let E=0;E<v.length;E++){const y=v[E];if(!r.isPrimitive(h)&&!(y in h)||d[y]===void 0&&h[y]!==void 0||d[y]===null&&h[y]!==null||!p(h[y],d[y],y,h,d,g))return!1}return!0}finally{g&&g.delete(d)}}function l(h,d,p,g){if(d.size===0)return!0;if(!(h instanceof Map))return!1;for(const[v,E]of d.entries()){const y=h.get(v);if(p(y,E,v,h,d,g)===!1)return!1}return!0}function u(h,d,p,g){if(d.length===0)return!0;if(!Array.isArray(h))return!1;const v=new Set;for(let E=0;E<d.length;E++){const y=d[E];let _=!1;for(let b=0;b<h.length;b++){if(v.has(b))continue;const P=h[b];let R=!1;if(p(P,y,E,h,d,g)&&(R=!0),R){v.add(b),_=!0;break}}if(!_)return!1}return!0}function c(h,d,p,g){return d.size===0?!0:h instanceof Set?u([...h],[...d],p,g):!1}t.isMatchWith=o,t.isSetMatch=c}($m)),$m}var kS;function p_(){return kS||(kS=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P5();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(Vm)),Vm}var mO={},m_={},g_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(g_);var Gd={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Gd);var Yd={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",a="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",h="[object Function]",d="[object ArrayBuffer]",p="[object Object]",g="[object Error]",v="[object DataView]",E="[object Uint8Array]",y="[object Uint8ClampedArray]",_="[object Uint16Array]",b="[object Uint32Array]",P="[object BigUint64Array]",R="[object Int8Array]",D="[object Int16Array]",A="[object Int32Array]",S="[object BigInt64Array]",x="[object Float32Array]",k="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=d,t.arrayTag=c,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=P,t.booleanTag=i,t.dataViewTag=v,t.dateTag=a,t.errorTag=g,t.float32ArrayTag=x,t.float64ArrayTag=k,t.functionTag=h,t.int16ArrayTag=D,t.int32ArrayTag=A,t.int8ArrayTag=R,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=_,t.uint32ArrayTag=b,t.uint8ArrayTag=E,t.uint8ClampedArrayTag=y})(Yd);var gO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(gO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g_,n=Gd,r=Yd,i=d_,o=gO;function s(c,h){return a(c,void 0,c,new Map,h)}function a(c,h,d,p=new Map,g=void 0){const v=g==null?void 0:g(c,h,d,p);if(v!==void 0)return v;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const E=new Array(c.length);p.set(c,E);for(let y=0;y<c.length;y++)E[y]=a(c[y],y,d,p,g);return Object.hasOwn(c,"index")&&(E.index=c.index),Object.hasOwn(c,"input")&&(E.input=c.input),E}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const E=new RegExp(c.source,c.flags);return E.lastIndex=c.lastIndex,E}if(c instanceof Map){const E=new Map;p.set(c,E);for(const[y,_]of c)E.set(y,a(_,y,d,p,g));return E}if(c instanceof Set){const E=new Set;p.set(c,E);for(const y of c)E.add(a(y,void 0,d,p,g));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(o.isTypedArray(c)){const E=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,E);for(let y=0;y<c.length;y++)E[y]=a(c[y],y,d,p,g);return E}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const E=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,E),l(E,c,d,p,g),E}if(typeof File<"u"&&c instanceof File){const E=new File([c],c.name,{type:c.type});return p.set(c,E),l(E,c,d,p,g),E}if(c instanceof Blob){const E=new Blob([c],{type:c.type});return p.set(c,E),l(E,c,d,p,g),E}if(c instanceof Error){const E=new c.constructor;return p.set(c,E),E.message=c.message,E.name=c.name,E.stack=c.stack,E.cause=c.cause,l(E,c,d,p,g),E}if(typeof c=="object"&&u(c)){const E=Object.create(Object.getPrototypeOf(c));return p.set(c,E),l(E,c,d,p,g),E}return c}function l(c,h,d=c,p,g){const v=[...Object.keys(h),...e.getSymbols(h)];for(let E=0;E<v.length;E++){const y=v[E],_=Object.getOwnPropertyDescriptor(c,y);(_==null||_.writable)&&(c[y]=a(h[y],y,d,p,g))}}function u(c){switch(n.getTag(c)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=a,t.copyProperties=l})(m_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m_;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(mO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p_(),n=mO;function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(pO);var yO={},vO={},_O={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m_,n=Yd;function r(i,o){return e.cloneDeepWith(i,(s,a,l,u)=>{const c=o==null?void 0:o(s,a,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case n.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=r})(_O);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_O;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(vO);var wO={},y_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(y_);var EO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gd;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(EO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r_,n=y_,r=EO,i=Rd;function o(s,a){let l;if(Array.isArray(a)?l=a:typeof a=="string"&&e.isDeepKey(a)&&(s==null?void 0:s[a])==null?l=i.toPath(a):l=[a],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const h=l[c];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=o})(wO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=p_(),n=i_,r=vO,i=Od,o=wO;function s(a,l){switch(typeof a){case"object":{Object.is(a==null?void 0:a.valueOf(),-0)&&(a="-0");break}case"number":{a=n.toKey(a);break}}return l=r.cloneDeep(l),function(u){const c=i.get(u,a);return c===void 0?o.has(u,a):l===void 0?c===void 0:e.isMatch(c,l)}}t.matchesProperty=s})(yO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f_,n=dO,r=pO,i=yO;function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(hO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lO,n=f_,r=uO,i=hO;function o(s,a=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(a)):[]}t.uniqBy=o})(aO);var C5=aO.uniqBy;const OS=si(C5);function k5(t,e,n){return e===!0?OS(t,n):typeof e=="function"?OS(t,e):t}var bO={exports:{}},SO={},TO={exports:{}},AO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=T;function O5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R5=typeof Object.is=="function"?Object.is:O5,N5=va.useState,D5=va.useEffect,M5=va.useLayoutEffect,L5=va.useDebugValue;function j5(t,e){var n=e(),r=N5({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return M5(function(){i.value=n,i.getSnapshot=e,Fm(i)&&o({inst:i})},[t,n,e]),D5(function(){return Fm(i)&&o({inst:i}),t(function(){Fm(i)&&o({inst:i})})},[t]),L5(n),n}function Fm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!R5(t,n)}catch{return!0}}function V5(t,e){return e()}var $5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V5:j5;AO.useSyncExternalStore=va.useSyncExternalStore!==void 0?va.useSyncExternalStore:$5;TO.exports=AO;var F5=TO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=T,U5=F5;function B5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var z5=typeof Object.is=="function"?Object.is:B5,W5=U5.useSyncExternalStore,K5=Qd.useRef,H5=Qd.useEffect,q5=Qd.useMemo,G5=Qd.useDebugValue;SO.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=K5(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=q5(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,z5(c,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(c=p,g):(c=p,h=v)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=W5(t,o[0],o[1]);return H5(function(){s.hasValue=!0,s.value=a},[a]),G5(a),a};bO.exports=SO;var Y5=bO.exports,v_=T.createContext(null),Q5=t=>t,en=()=>{var t=T.useContext(v_);return t?t.store.dispatch:Q5},xf=()=>{},X5=()=>xf,J5=(t,e)=>t===e;function Z(t){var e=T.useContext(v_);return Y5.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:X5,e?e.store.getState:xf,e?e.store.getState:xf,e?t:xf,J5)}function Z5(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function e9(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function t9(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var RS=t=>Array.isArray(t)?t:[t];function n9(t){const e=Array.isArray(t[0])?t[0]:t;return t9(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function r9(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var i9=class{constructor(t){this.value=t}deref(){return this.value}},o9=typeof WeakRef<"u"?WeakRef:i9,s9=0,NS=1;function Hc(){return{s:s9,v:void 0,o:null,p:null}}function xO(t,e={}){let n=Hc();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var h;let a=n;const{length:l}=arguments;for(let d=0,p=l;d<p;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const E=v.get(g);E===void 0?(a=Hc(),v.set(g,a)):a=E}else{let v=a.p;v===null&&(a.p=v=new Map);const E=v.get(g);E===void 0?(a=Hc(),v.set(g,a)):a=E}}const u=a;let c;if(a.s===NS)c=a.v;else if(c=t.apply(null,arguments),o++,r){const d=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new o9(c):c}return u.s=NS,u.v=c,c}return s.clearCache=()=>{n=Hc(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function a9(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Z5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:h,memoizeOptions:d=[],argsMemoize:p=xO,argsMemoizeOptions:g=[],devModeChecks:v={}}=c,E=RS(d),y=RS(g),_=n9(i),b=h(function(){return o++,u.apply(null,arguments)},...E),P=p(function(){s++;const D=r9(_,arguments);return a=b.apply(null,D),a},...y);return Object.assign(P,{resultFunc:u,memoizedResultFunc:b,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var V=a9(xO),l9=Object.assign((t,e=V)=>{e9(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>l9}),IO={},PO={},CO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),a=e(i);if(s===a&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?a-s:s-a}return 0};t.compareValues=n})(CO);var kO={},__={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(__);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=__,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(kO);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CO,n=kO,r=Rd;function i(o,s,a,l){if(o==null)return[];a=l?void 0:a,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(a)||(a=a==null?[]:[a]),a=a.map(p=>String(p));const u=(p,g)=>{let v=p;for(let E=0;E<g.length&&v!=null;++E)v=v[g[E]];return v},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,h=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return o.map(p=>({original:p,criteria:h.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let v=0;v<h.length;v++){const E=e.compareValues(p.criteria[v],g.criteria[v],a[v]);if(E!==0)return E}return 0}).map(p=>p.original)}t.orderBy=i})(PO);var OO={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(a,l)=>{for(let u=0;u<a.length;u++){const c=a[u];Array.isArray(c)&&l<o?s(c,l+1):i.push(c)}};return s(n,0),i}t.flatten=e})(OO);var w_={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y_,n=Hd,r=h_,i=qd;function o(s,a,l){return r.isObject(l)&&(typeof a=="number"&&n.isArrayLike(l)&&e.isIndex(a)&&a<l.length||typeof a=="string"&&a in l)?i.eq(l[a],s):!1}t.isIterateeCall=o})(w_);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PO,n=OO,r=w_;function i(o,...s){const a=s.length;return a>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:a>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(IO);var u9=IO.sortBy;const Xd=si(u9);var RO=t=>t.legend.settings,c9=t=>t.legend.size,f9=t=>t.legend.payload;V([f9,RO],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Xd(r,n):r});var qc=1;function h9(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>qc||Math.abs(s.left-e.left)>qc||Math.abs(s.top-e.top)>qc||Math.abs(s.width-e.width)>qc)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function wt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var d9=typeof Symbol=="function"&&Symbol.observable||"@@observable",DS=d9,Um=()=>Math.random().toString(36).substring(7).split("").join("."),p9={INIT:`@@redux/INIT${Um()}`,REPLACE:`@@redux/REPLACE${Um()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Um()}`},_h=p9;function E_(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function NO(t,e,n){if(typeof t!="function")throw new Error(wt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wt(1));return n(NO)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((E,y)=>{s.set(y,E)}))}function c(){if(l)throw new Error(wt(3));return i}function h(E){if(typeof E!="function")throw new Error(wt(4));if(l)throw new Error(wt(5));let y=!0;u();const _=a++;return s.set(_,E),function(){if(y){if(l)throw new Error(wt(6));y=!1,u(),s.delete(_),o=null}}}function d(E){if(!E_(E))throw new Error(wt(7));if(typeof E.type>"u")throw new Error(wt(8));if(typeof E.type!="string")throw new Error(wt(17));if(l)throw new Error(wt(9));try{l=!0,i=r(i,E)}finally{l=!1}return(o=s).forEach(_=>{_()}),E}function p(E){if(typeof E!="function")throw new Error(wt(10));r=E,d({type:_h.REPLACE})}function g(){const E=h;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(wt(11));function _(){const P=y;P.next&&P.next(c())}return _(),{unsubscribe:E(_)}},[DS](){return this}}}return d({type:_h.INIT}),{dispatch:d,subscribe:h,getState:c,replaceReducer:p,[DS]:g}}function m9(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:_h.INIT})>"u")throw new Error(wt(12));if(typeof n(void 0,{type:_h.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wt(13))})}function DO(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{m9(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const h=r[c],d=n[h],p=s[h],g=d(p,a);if(typeof g>"u")throw a&&a.type,new Error(wt(14));u[h]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function wh(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function g9(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(wt(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=wh(...a)(i.dispatch),{...i,dispatch:o}}}function MO(t){return E_(t)&&"type"in t&&typeof t.type=="string"}var LO=Symbol.for("immer-nothing"),MS=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function rr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var _a=Object.getPrototypeOf;function is(t){return!!t&&!!t[xn]}function ni(t){var e;return t?jO(t)||Array.isArray(t)||!!t[MS]||!!((e=t.constructor)!=null&&e[MS])||Zd(t)||ep(t):!1}var y9=Object.prototype.constructor.toString();function jO(t){if(!t||typeof t!="object")return!1;const e=_a(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===y9}function Eh(t,e){Jd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Jd(t){const e=t[xn];return e?e.type_:Array.isArray(t)?1:Zd(t)?2:ep(t)?3:0}function Ny(t,e){return Jd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function VO(t,e,n){const r=Jd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function v9(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Zd(t){return t instanceof Map}function ep(t){return t instanceof Set}function Ao(t){return t.copy_||t.base_}function Dy(t,e){if(Zd(t))return new Map(t);if(ep(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=jO(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[xn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(_a(t),r)}else{const r=_a(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function b_(t,e=!1){return tp(t)||is(t)||!ni(t)||(Jd(t)>1&&(t.set=t.add=t.clear=t.delete=_9),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>b_(r,!0))),t}function _9(){rr(2)}function tp(t){return Object.isFrozen(t)}var w9={};function os(t){const e=w9[t];return e||rr(0,t),e}var wu;function $O(){return wu}function E9(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LS(t,e){e&&(os("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function My(t){Ly(t),t.drafts_.forEach(b9),t.drafts_=null}function Ly(t){t===wu&&(wu=t.parent_)}function jS(t){return wu=E9(wu,t)}function b9(t){const e=t[xn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xn].modified_&&(My(e),rr(4)),ni(t)&&(t=bh(e,t),e.parent_||Sh(e,t)),e.patches_&&os("Patches").generateReplacementPatches_(n[xn].base_,t,e.patches_,e.inversePatches_)):t=bh(e,n,[]),My(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==LO?t:void 0}function bh(t,e,n){if(tp(e))return e;const r=e[xn];if(!r)return Eh(e,(i,o)=>$S(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Sh(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),Eh(o,(a,l)=>$S(t,r,i,a,l,n,s)),Sh(t,i,!1),n&&t.patches_&&os("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function $S(t,e,n,r,i,o,s){if(is(i)){const a=o&&e&&e.type_!==3&&!Ny(e.assigned_,r)?o.concat(r):void 0,l=bh(t,i,a);if(VO(n,r,l),is(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(ni(i)&&!tp(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bh(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Sh(t,i)}}function Sh(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&b_(e,n)}function S9(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:$O(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=S_;n&&(i=[r],o=Eu);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var S_={get(t,e){if(e===xn)return t;const n=Ao(t);if(!Ny(n,e))return T9(t,n,e);const r=n[e];return t.finalized_||!ni(r)?r:r===Bm(t.base_,e)?(zm(t),t.copy_[e]=Vy(r,t)):r},has(t,e){return e in Ao(t)},ownKeys(t){return Reflect.ownKeys(Ao(t))},set(t,e,n){const r=FO(Ao(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Bm(Ao(t),e),o=i==null?void 0:i[xn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(v9(n,i)&&(n!==void 0||Ny(t.base_,e)))return!0;zm(t),jy(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Bm(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,zm(t),jy(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ao(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){rr(11)},getPrototypeOf(t){return _a(t.base_)},setPrototypeOf(){rr(12)}},Eu={};Eh(S_,(t,e)=>{Eu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Eu.deleteProperty=function(t,e){return Eu.set.call(this,t,e,void 0)};Eu.set=function(t,e,n){return S_.set.call(this,t[0],e,n,t[0])};function Bm(t,e){const n=t[xn];return(n?Ao(n):t)[e]}function T9(t,e,n){var i;const r=FO(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function FO(t,e){if(!(e in t))return;let n=_a(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=_a(n)}}function jy(t){t.modified_||(t.modified_=!0,t.parent_&&jy(t.parent_))}function zm(t){t.copy_||(t.copy_=Dy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var A9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&rr(6),r!==void 0&&typeof r!="function"&&rr(7);let i;if(ni(e)){const o=jS(this),s=Vy(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?My(o):Ly(o)}return LS(o,r),VS(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===LO&&(i=void 0),this.autoFreeze_&&b_(i,!0),r){const o=[],s=[];os("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else rr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ni(t)||rr(8),is(t)&&(t=Hr(t));const e=jS(this),n=Vy(t,void 0);return n[xn].isManual_=!0,Ly(e),n}finishDraft(t,e){const n=t&&t[xn];(!n||!n.isManual_)&&rr(9);const{scope_:r}=n;return LS(r,e),VS(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=os("Patches").applyPatches_;return is(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Vy(t,e){const n=Zd(t)?os("MapSet").proxyMap_(t,e):ep(t)?os("MapSet").proxySet_(t,e):S9(t,e);return(e?e.scope_:$O()).drafts_.push(n),n}function Hr(t){return is(t)||rr(10,t),UO(t)}function UO(t){if(!ni(t)||tp(t))return t;const e=t[xn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Dy(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Dy(t,!0);return Eh(n,(r,i)=>{VO(n,r,UO(i))}),e&&(e.finalized_=!1),n}var In=new A9,BO=In.produce;In.produceWithPatches.bind(In);In.setAutoFreeze.bind(In);In.setUseStrictShallowCopy.bind(In);In.applyPatches.bind(In);In.createDraft.bind(In);In.finishDraft.bind(In);function zO(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var x9=zO(),I9=zO,P9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?wh:wh.apply(null,arguments)};function zn(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Sn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>MO(r)&&r.type===t,n}var WO=class Pl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pl.prototype)}static get[Symbol.species](){return Pl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pl(...e[0].concat(this)):new Pl(...e.concat(this))}};function FS(t){return ni(t)?BO(t,()=>{}):t}function Gc(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function C9(t){return typeof t=="boolean"}var k9=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new WO;return n&&(C9(n)?s.push(x9):s.push(I9(n.extraArgument))),s},O9="RTK_autoBatch",US=t=>e=>{setTimeout(e,t)},R9=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:US(10):t.type==="callback"?t.queueNotification:US(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const h=()=>i&&c(),d=r.subscribe(h);return a.add(c),()=>{d(),a.delete(c)}},dispatch(c){var h;try{return i=!((h=c==null?void 0:c.meta)!=null&&h[O9]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},N9=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new WO(t);return r&&i.push(R9(typeof r=="object"?r:void 0)),i};function D9(t){const e=k9(),{reducer:n=void 0,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(E_(n))l=DO(n);else throw new Error(Sn(1));let u;typeof r=="function"?u=r(e):u=e();let c=wh;i&&(c=P9({trace:!1,...typeof i=="object"&&i}));const h=g9(...u),d=N9(h);let p=typeof a=="function"?a(d):d();const g=c(...p);return NO(l,s,g)}function KO(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Sn(28));if(a in e)throw new Error(Sn(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function M9(t){return typeof t=="function"}function L9(t,e){let[n,r,i]=KO(e),o;if(M9(t))o=()=>FS(t());else{const a=FS(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,h)=>{if(h)if(is(c)){const p=h(c,l);return p===void 0?c:p}else{if(ni(c))return BO(c,d=>h(d,l));{const d=h(c,l);if(d===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return c},a)}return s.getInitialState=o,s}var j9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",V9=(t=21)=>{let e="",n=t;for(;n--;)e+=j9[Math.random()*64|0];return e},$9=Symbol.for("rtk-slice-createasyncthunk");function F9(t,e){return`${t}/${e}`}function U9({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[$9];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Sn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(z9()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(P,R){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(Sn(12));if(D in u.sliceCaseReducersByType)throw new Error(Sn(13));return u.sliceCaseReducersByType[D]=R,c},addMatcher(P,R){return u.sliceMatchers.push({matcher:P,reducer:R}),c},exposeAction(P,R){return u.actionCreators[P]=R,c},exposeCaseReducer(P,R){return u.sliceCaseReducersByName[P]=R,c}};l.forEach(P=>{const R=a[P],D={reducerName:P,type:F9(o,P),createNotation:typeof i.reducers=="function"};K9(R)?q9(D,R,c,e):W9(D,R,c)});function h(){const[P={},R=[],D=void 0]=typeof i.extraReducers=="function"?KO(i.extraReducers):[i.extraReducers],A={...P,...u.sliceCaseReducersByType};return L9(i.initialState,S=>{for(let x in A)S.addCase(x,A[x]);for(let x of u.sliceMatchers)S.addMatcher(x.matcher,x.reducer);for(let x of R)S.addMatcher(x.matcher,x.reducer);D&&S.addDefaultCase(D)})}const d=P=>P,p=new Map,g=new WeakMap;let v;function E(P,R){return v||(v=h()),v(P,R)}function y(){return v||(v=h()),v.getInitialState()}function _(P,R=!1){function D(S){let x=S[P];return typeof x>"u"&&R&&(x=Gc(g,D,y)),x}function A(S=d){const x=Gc(p,R,()=>new WeakMap);return Gc(x,S,()=>{const k={};for(const[C,N]of Object.entries(i.selectors??{}))k[C]=B9(N,S,()=>Gc(g,S,y),R);return k})}return{reducerPath:P,getSelectors:A,get selectors(){return A(D)},selectSlice:D}}const b={name:o,reducer:E,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,..._(s),injectInto(P,{reducerPath:R,...D}={}){const A=R??s;return P.inject({reducerPath:A,reducer:E},D),{...b,..._(A,!0)}}};return b}}function B9(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var kn=U9();function z9(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function W9({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!H9(r))throw new Error(Sn(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?zn(t,s):zn(t))}function K9(t){return t._reducerDefinitionType==="asyncThunk"}function H9(t){return t._reducerDefinitionType==="reducerWithPrepare"}function q9({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Sn(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,h=i(t,o,c);r.exposeAction(e,h),s&&r.addCase(h.fulfilled,s),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),u&&r.addMatcher(h.settled,u),r.exposeCaseReducer(e,{fulfilled:s||Yc,pending:a||Yc,rejected:l||Yc,settled:u||Yc})}function Yc(){}var G9="task",HO="listener",qO="completed",T_="cancelled",Y9=`task-${T_}`,Q9=`task-${qO}`,$y=`${HO}-${T_}`,X9=`${HO}-${qO}`,np=class{constructor(t){Yp(this,"name","TaskAbortError");Yp(this,"message");this.code=t,this.message=`${G9} ${T_} (reason: ${t})`}},A_=(t,e)=>{if(typeof t!="function")throw new TypeError(Sn(32))},Th=()=>{},GO=(t,e=Th)=>(t.catch(e),t),YO=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),zo=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Wo=t=>{if(t.aborted){const{reason:e}=t;throw new np(e)}};function QO(t,e){let n=Th;return new Promise((r,i)=>{const o=()=>i(new np(t.reason));if(t.aborted){o();return}n=YO(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Th})}var J9=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof np?"cancelled":"rejected",error:n}}finally{e==null||e()}},Ah=t=>e=>GO(QO(t,e).then(n=>(Wo(t),n))),XO=t=>{const e=Ah(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ea}=Object,BS={},rp="listenerMiddleware",Z9=(t,e)=>{const n=r=>YO(t,()=>zo(r,t.reason));return(r,i)=>{A_(r);const o=new AbortController;n(o);const s=J9(async()=>{Wo(t),Wo(o.signal);const a=await r({pause:Ah(o.signal),delay:XO(o.signal),signal:o.signal});return Wo(o.signal),a},()=>zo(o,Q9));return i!=null&&i.autoJoin&&e.push(s.catch(Th)),{result:Ah(t)(s),cancel(){zo(o,Y9)}}}},eB=(t,e)=>{const n=async(r,i)=>{Wo(e);let o=()=>{};const a=[new Promise((l,u)=>{let c=t({predicate:r,effect:(h,d)=>{d.unsubscribe(),l([h,d.getState(),d.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await QO(e,Promise.race(a));return Wo(e),l}finally{o()}};return(r,i)=>GO(n(r,i))},JO=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=zn(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Sn(21));return A_(o),{predicate:i,type:e,effect:o}},ZO=ea(t=>{const{type:e,predicate:n,effect:r}=JO(t);return{id:V9(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Sn(22))}}},{withTypes:()=>ZO}),zS=(t,e)=>{const{type:n,effect:r,predicate:i}=JO(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Fy=t=>{t.pending.forEach(e=>{zo(e,$y)})},tB=t=>()=>{t.forEach(Fy),t.clear()},WS=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},eR=ea(zn(`${rp}/add`),{withTypes:()=>eR}),nB=zn(`${rp}/removeAll`),tR=ea(zn(`${rp}/remove`),{withTypes:()=>tR}),rB=(...t)=>{console.error(`${rp}/error`,...t)},Hu=(t={})=>{const e=new Map,{extra:n,onError:r=rB}=t;A_(r);const i=c=>(c.unsubscribe=()=>e.delete(c.id),e.set(c.id,c),h=>{c.unsubscribe(),h!=null&&h.cancelActive&&Fy(c)}),o=c=>{const h=zS(e,c)??ZO(c);return i(h)};ea(o,{withTypes:()=>o});const s=c=>{const h=zS(e,c);return h&&(h.unsubscribe(),c.cancelActive&&Fy(h)),!!h};ea(s,{withTypes:()=>s});const a=async(c,h,d,p)=>{const g=new AbortController,v=eB(o,g.signal),E=[];try{c.pending.add(g),await Promise.resolve(c.effect(h,ea({},d,{getOriginalState:p,condition:(y,_)=>v(y,_).then(Boolean),take:v,delay:XO(g.signal),pause:Ah(g.signal),extra:n,signal:g.signal,fork:Z9(g.signal,E),unsubscribe:c.unsubscribe,subscribe:()=>{e.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((y,_,b)=>{y!==g&&(zo(y,$y),b.delete(y))})},cancel:()=>{zo(g,$y),c.pending.delete(g)},throwIfCancelled:()=>{Wo(g.signal)}})))}catch(y){y instanceof np||WS(r,y,{raisedBy:"effect"})}finally{await Promise.all(E),zo(g,X9),c.pending.delete(g)}},l=tB(e);return{middleware:c=>h=>d=>{if(!MO(d))return h(d);if(eR.match(d))return o(d.payload);if(nB.match(d)){l();return}if(tR.match(d))return s(d.payload);let p=c.getState();const g=()=>{if(p===BS)throw new Error(Sn(23));return p};let v;try{if(v=h(d),e.size>0){const E=c.getState(),y=Array.from(e.values());for(const _ of y){let b=!1;try{b=_.predicate(d,E,p)}catch(P){b=!1,WS(r,P,{raisedBy:"predicate"})}b&&a(_,d,c,g)}}}finally{p=BS}return v},startListening:o,stopListening:s,clearListeners:l}};function Sn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var iB={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nR=kn({name:"chartLayout",initialState:iB,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:oB,setLayout:sB,setChartSize:aB,setScale:lB}=nR.actions,uB=nR.reducer;function KS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KS(Object(n),!0).forEach(function(r){cB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cB(t,e,n){return(e=fB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fB(t){var e=hB(t,"string");return typeof e=="symbol"?e:e+""}function hB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xh=Math.PI/180,dB=t=>t*180/Math.PI,Tt=(t,e,n,r)=>({x:t+Math.cos(-xh*r)*n,y:e+Math.sin(-xh*r)*n}),pB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mB=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},gB=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=mB({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var a=(n-i)/s,l=Math.acos(a);return r>o&&(l=2*Math.PI-l),{radius:s,angle:dB(l),angleInRadian:l}},yB=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},vB=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},_B=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:o}=gB({x:n,y:r},e),{innerRadius:s,outerRadius:a}=e;if(i<s||i>a||i===0)return null;var{startAngle:l,endAngle:u}=yB(e),c=o,h;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;h=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;h=c>=u&&c<=l}return h?HS(HS({},e),{},{radius:i,angle:vB(c,e)}):null};function rR(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(n),!0).forEach(function(r){wB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wB(t,e,n){return(e=EB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EB(t){var e=bB(t,"string");return typeof e=="symbol"?e:e+""}function bB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xt(t,e,n){return Qe(t)||Qe(e)?n:Ir(e)?rs(t,e,n):typeof e=="function"?e(t):n}var SB=(t,e,n,r,i)=>{var o,s=-1,a=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var u=l>0?n[l-1].coordinate:n[a-1].coordinate,c=n[l].coordinate,h=l>=a-1?n[0].coordinate:n[l+1].coordinate,d=void 0;if(Vn(c-u)!==Vn(h-c)){var p=[];if(Vn(h-c)===Vn(i[1]-i[0])){d=h;var g=c+i[1]-i[0];p[0]=Math.min(g,(g+u)/2),p[1]=Math.max(g,(g+u)/2)}else{d=u;var v=h+i[1]-i[0];p[0]=Math.min(c,(v+c)/2),p[1]=Math.max(c,(v+c)/2)}var E=[Math.min(c,(d+c)/2),Math.max(c,(d+c)/2)];if(t>E[0]&&t<=E[1]||t>=p[0]&&t<=p[1]){({index:s}=n[l]);break}}else{var y=Math.min(u,h),_=Math.max(u,h);if(t>(y+c)/2&&t<=(_+c)/2){({index:s}=n[l]);break}}}else if(e){for(var b=0;b<a;b++)if(b===0&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b>0&&b<a-1&&t>(e[b].coordinate+e[b-1].coordinate)/2&&t<=(e[b].coordinate+e[b+1].coordinate)/2||b===a-1&&t>(e[b].coordinate+e[b-1].coordinate)/2){({index:s}=e[b]);break}}return s},TB=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:a}=e;if((a==="vertical"||a==="horizontal"&&s==="middle")&&o!=="center"&&J(t[o]))return Dn(Dn({},t),{},{[o]:t[o]+(r||0)});if((a==="horizontal"||a==="vertical"&&o==="center")&&s!=="middle"&&J(t[s]))return Dn(Dn({},t),{},{[s]:t[s]+(i||0)})}return t},Cr=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",iR=(t,e,n,r)=>{if(r)return t.map(a=>a.coordinate);var i,o,s=t.map(a=>(a.coordinate===e&&(i=!0),a.coordinate===n&&(o=!0),a.coordinate));return i||s.push(e),o||s.push(n),s},oR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:s,realScaleType:a,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:h,niceTicks:d,axisType:p}=t;if(!s)return null;var g=a==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(v=p==="angleAxis"&&o&&o.length>=2?Vn(o[0]-o[1])*2*v:v,h||d){var E=(h||d||[]).map((y,_)=>{var b=r?r.indexOf(y):y;return{coordinate:s(b)+v,value:y,offset:v,index:_}});return E.filter(y=>!An(y.coordinate))}return l&&u?u.map((y,_)=>({coordinate:s(y)+v,value:y,index:_,offset:v})):s.ticks&&!n&&c!=null?s.ticks(c).map((y,_)=>({coordinate:s(y)+v,value:y,offset:v,index:_})):s.domain().map((y,_)=>({coordinate:s(y)+v,value:r?r[y]:y,index:_,offset:v}))},GS=1e-4,AB=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-GS,o=Math.max(r[0],r[1])+GS,s=t(e[0]),a=t(e[n-1]);(s<i||s>o||a<i||a>o)&&t.domain([e[0],e[n-1]])}},xB=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var a=An(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+a,o=t[s][n][1])}},IB=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=An(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},PB={sign:xB,expand:A5,none:ya,silhouette:x5,wiggle:I5,positive:IB},CB=(t,e,n)=>{var r=PB[n],i=T5().keys(e).value((o,s)=>+xt(o,s,0)).order(Ry).offset(r);return i(t)};function kB(t){return t==null?void 0:String(t)}function Ih(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:o,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var a=Bk(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=xt(i,Qe(s)?e.dataKey:s);return Qe(l)?null:e.scale(l)}var OB=t=>{var e=t.flat(2).filter(J);return[Math.min(...e),Math.max(...e)]},RB=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],NB=(t,e,n)=>{if(t!=null)return RB(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,a=s.reduce((l,u)=>{var c=rR(u,e,n),h=OB(c);return[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]},[1/0,-1/0]))},YS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bu=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Xd(e,c=>c.coordinate),o=1/0,s=1,a=i.length;s<a;s++){var l=i[s],u=i[s-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function XS(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Dn(Dn({},e),{},{dataKey:n,payload:r,value:i,name:o})}function ip(t,e){if(t)return String(t);if(typeof e=="string")return e}function DB(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var o=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return o?{x:t,y:e}:null}return r?_B({x:t,y:e},r):null}var MB=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,{radius:s}=r;return Dn(Dn(Dn({},r),Tt(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var a=i.coordinate,{angle:l}=r;return Dn(Dn(Dn({},r),Tt(r.cx,r.cy,a,l)),{},{angle:l,radius:a})}return{x:0,y:0}},LB=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ci=t=>t.layout.width,fi=t=>t.layout.height,jB=t=>t.layout.scale,sR=t=>t.layout.margin,x_=V(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),I_=V(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),VB="data-recharts-item-index",$B="data-recharts-item-data-key",op=60;function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(n),!0).forEach(function(r){FB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FB(t,e,n){return(e=UB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UB(t){var e=BB(t,"string");return typeof e=="symbol"?e:e+""}function BB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zB=t=>t.brush.height,Ct=V([ci,fi,sR,zB,x_,I_,RO,c9],(t,e,n,r,i,o,s,a)=>{var l=o.reduce((g,v)=>{var{orientation:E}=v;if(!v.mirror&&!v.hide){var y=typeof v.width=="number"?v.width:op;return wi(wi({},g),{},{[E]:g[E]+y})}return g},{left:n.left||0,right:n.right||0}),u=i.reduce((g,v)=>{var{orientation:E}=v;return!v.mirror&&!v.hide?wi(wi({},g),{},{[E]:rs(g,"".concat(E))+v.height}):g},{top:n.top||0,bottom:n.bottom||0}),c=wi(wi({},u),l),h=c.bottom;c.bottom+=r,c=TB(c,s,a);var d=t-c.left-c.right,p=e-c.top-c.bottom;return wi(wi({brushBottom:h},c),{},{width:Math.max(d,0),height:Math.max(p,0)})}),WB=V(Ct,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),aR=V(ci,fi,(t,e)=>({x:0,y:0,width:t,height:e})),KB=T.createContext(null),fn=()=>T.useContext(KB)!=null,sp=t=>t.brush,ap=V([sp,Ct,sR],(t,e,n)=>({height:t.height,x:J(t.x)?t.x:e.left,y:J(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:J(t.width)?t.width:e.width})),P_=()=>{var t,e=fn(),n=Z(WB),r=Z(ap),i=(t=Z(sp))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},HB={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},lR=()=>{var t;return(t=Z(Ct))!==null&&t!==void 0?t:HB},uR=()=>Z(ci),cR=()=>Z(fi),Te=t=>t.layout.layoutType,lp=()=>Z(Te),qB={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fR=kn({name:"legend",initialState:qB,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Hr(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:SJ,setLegendSettings:TJ,addLegendPayload:GB,removeLegendPayload:YB}=fR.actions,QB=fR.reducer;function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(null,arguments)}function ZS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZS(Object(n),!0).forEach(function(r){XB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XB(t,e,n){return(e=JB(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JB(t){var e=ZB(t,"string");return typeof e=="symbol"?e:e+""}function ZB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ez(t){return Array.isArray(t)&&Ir(t[0])&&Ir(t[1])?t.join(" ~ "):t}var tz=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:a,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:h,accessibilityLayer:d=!1}=t,p=()=>{if(o&&o.length){var R={padding:0,margin:0},D=(a?Xd(o,a):o).map((A,S)=>{if(A.type==="none")return null;var x=A.formatter||s||ez,{value:k,name:C}=A,N=k,O=C;if(x){var oe=x(k,C,A,S,o);if(Array.isArray(oe))[N,O]=oe;else if(oe!=null)N=oe;else return null}var ve=Wm({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:ve},Ir(O)?T.createElement("span",{className:"recharts-tooltip-item-name"},O):null,Ir(O)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},N),T.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:R},D)}return null},g=Wm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=Wm({margin:0},i),E=!Qe(c),y=E?c:"",_=xe("recharts-default-tooltip",l),b=xe("recharts-tooltip-label",u);E&&h&&o!==void 0&&o!==null&&(y=h(c,o));var P=d?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Uy({className:_,style:g},P),T.createElement("p",{className:b,style:v},T.isValidElement(y)?y:"".concat(y)),p())},fl="recharts-tooltip-wrapper",nz={visibility:"hidden"};function rz(t){var{coordinate:e,translateX:n,translateY:r}=t;return xe(fl,{["".concat(fl,"-right")]:J(n)&&e&&J(e.x)&&n>=e.x,["".concat(fl,"-left")]:J(n)&&e&&J(e.x)&&n<e.x,["".concat(fl,"-bottom")]:J(r)&&e&&J(e.y)&&r>=e.y,["".concat(fl,"-top")]:J(r)&&e&&J(e.y)&&r<e.y})}function eT(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:a,viewBox:l,viewBoxDimension:u}=t;if(o&&J(o[r]))return o[r];var c=n[r]-a-(i>0?i:0),h=n[r]+i;if(e[r])return s[r]?c:h;var d=l[r];if(d==null)return 0;if(s[r]){var p=c,g=d;return p<g?Math.max(h,d):Math.max(c,d)}if(u==null)return 0;var v=h+a,E=d+u;return v>E?Math.max(c,d):Math.max(h,d)}function iz(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function oz(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:a,viewBox:l}=t,u,c,h;return s.height>0&&s.width>0&&n?(c=eT({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),h=eT({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=iz({translateX:c,translateY:h,useTranslate3d:a})):u=nz,{cssProperties:u,cssClasses:rz({translateX:c,translateY:h,coordinate:n})}}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function By(t,e,n){return(e=sz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sz(t){var e=az(t,"string");return typeof e=="symbol"?e:e+""}function az(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class lz extends T.PureComponent{constructor(){super(...arguments),By(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),By(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:a,isAnimationActive:l,offset:u,position:c,reverseDirection:h,useTranslate3d:d,viewBox:p,wrapperStyle:g,lastBoundingBox:v,innerRef:E,hasPortalFromProps:y}=this.props,{cssClasses:_,cssProperties:b}=oz({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:h,tooltipBox:{height:v.height,width:v.width},useTranslate3d:d,viewBox:p}),P=y?{}:Qc(Qc({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),R=Qc(Qc({},P),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},g);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:R,ref:E},o)}}var uz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ma={isSsr:uz()},hR=()=>Z(t=>t.rootProps.accessibilityLayer);function Xt(t){return Number.isFinite(t)}function Ph(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(null,arguments)}function nT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(n),!0).forEach(function(r){cz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cz(t,e,n){return(e=fz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fz(t){var e=hz(t,"string");return typeof e=="symbol"?e:e+""}function hz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iT={curveBasisClosed:d5,curveBasisOpen:p5,curveBasis:h5,curveBumpX:c5,curveBumpY:f5,curveLinearClosed:m5,curveLinear:Wd,curveMonotoneX:g5,curveMonotoneY:y5,curveNatural:v5,curveStep:_5,curveStepAfter:E5,curveStepBefore:w5},Xc=t=>Xt(t.x)&&Xt(t.y),hl=t=>t.x,dl=t=>t.y,dz=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(a_(t));return(n==="curveMonotone"||n==="curveBump")&&e?iT["".concat(n).concat(e==="vertical"?"Y":"X")]:iT[n]||Wd},pz=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=dz(e,i),a=o?n.filter(Xc):n,l;if(Array.isArray(r)){var u=o?r.filter(h=>Xc(h)):r,c=a.map((h,d)=>rT(rT({},h),{},{base:u[d]}));return i==="vertical"?l=Kc().y(dl).x1(hl).x0(h=>h.base.x):l=Kc().x(hl).y1(dl).y0(h=>h.base.y),l.defined(Xc).curve(s),l(c)}return i==="vertical"&&J(r)?l=Kc().y(dl).x1(hl).x0(r):J(r)?l=Kc().x(hl).y1(dl).y0(r):l=Jk().x(hl).y(dl),l.defined(Xc).curve(s),l(a)},Kl=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?pz(t):r;return T.createElement("path",zy({},co(t),u_(t),{className:xe("recharts-curve",e),d:o===null?void 0:o,ref:i}))},mz=["x","y","top","left","width","height","className"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wy.apply(null,arguments)}function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){yz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yz(t,e,n){return(e=vz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vz(t){var e=_z(t,"string");return typeof e=="symbol"?e:e+""}function _z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wz(t,e){if(t==null)return{};var n,r,i=Ez(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ez(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bz=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),Sz=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:a}=t,l=wz(t,mz),u=gz({x:e,y:n,top:r,left:i,width:o,height:s},l);return!J(e)||!J(n)||!J(o)||!J(s)||!J(r)||!J(i)?null:T.createElement("path",Wy({},nt(u,!0),{className:xe("recharts-cross",a),d:bz(e,n,o,s,r,i)}))};function Tz(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function sT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Az(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(r){xz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xz(t,e,n){return(e=Iz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iz(t){var e=Pz(t,"string");return typeof e=="symbol"?e:e+""}function Pz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kr(t,e){var n=Az({},t),r=e,i=Object.keys(e),o=i.reduce((s,a)=>(s[a]===void 0&&r[a]!==void 0&&(s[a]=r[a]),s),n);return o}var dR={},pR={},mR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(mR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mR,n=g_,r=Gd,i=Yd,o=qd;function s(u,c,h){return a(u,c,void 0,void 0,void 0,void 0,h)}function a(u,c,h,d,p,g,v){const E=v(u,c,h,d,p,g);if(E!==void 0)return E;if(typeof u==typeof c)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===c;case"number":return u===c||Object.is(u,c);case"function":return u===c;case"object":return l(u,c,g,v)}return l(u,c,g,v)}function l(u,c,h,d){if(Object.is(u,c))return!0;let p=r.getTag(u),g=r.getTag(c);if(p===i.argumentsTag&&(p=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),p!==g)return!1;switch(p){case i.stringTag:return u.toString()===c.toString();case i.numberTag:{const y=u.valueOf(),_=c.valueOf();return o.eq(y,_)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),c.valueOf());case i.regexpTag:return u.source===c.source&&u.flags===c.flags;case i.functionTag:return u===c}h=h??new Map;const v=h.get(u),E=h.get(c);if(v!=null&&E!=null)return v===c;h.set(u,c),h.set(c,u);try{switch(p){case i.mapTag:{if(u.size!==c.size)return!1;for(const[y,_]of u.entries())if(!c.has(y)||!a(_,c.get(y),y,u,c,h,d))return!1;return!0}case i.setTag:{if(u.size!==c.size)return!1;const y=Array.from(u.values()),_=Array.from(c.values());for(let b=0;b<y.length;b++){const P=y[b],R=_.findIndex(D=>a(P,D,void 0,u,c,h,d));if(R===-1)return!1;_.splice(R,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(c)||u.length!==c.length)return!1;for(let y=0;y<u.length;y++)if(!a(u[y],c[y],y,u,c,h,d))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==c.byteLength?!1:l(new Uint8Array(u),new Uint8Array(c),h,d);case i.dataViewTag:return u.byteLength!==c.byteLength||u.byteOffset!==c.byteOffset?!1:l(new Uint8Array(u),new Uint8Array(c),h,d);case i.errorTag:return u.name===c.name&&u.message===c.message;case i.objectTag:{if(!(l(u.constructor,c.constructor,h,d)||e.isPlainObject(u)&&e.isPlainObject(c)))return!1;const _=[...Object.keys(u),...n.getSymbols(u)],b=[...Object.keys(c),...n.getSymbols(c)];if(_.length!==b.length)return!1;for(let P=0;P<_.length;P++){const R=_[P],D=u[R];if(!Object.hasOwn(c,R))return!1;const A=c[R];if(!a(D,A,R,u,c,h,d))return!1}return!0}default:return!1}}finally{h.delete(u),h.delete(c)}}t.isEqualWith=s})(pR);var gR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(gR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pR,n=gR;function r(i,o){return e.isEqualWith(i,o,n.noop)}t.isEqual=r})(dR);var Cz=dR.isEqual;const kz=si(Cz);var Ch=1e-4,yR=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],vR=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),aT=(t,e)=>n=>{var r=yR(t,e);return vR(r,n)},Oz=(t,e)=>n=>{var r=yR(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return vR(i,n)},lT=function(){for(var e,n,r,i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];if(s.length===1)switch(s[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([e,r,n,i]=s);var u=aT(e,n),c=aT(r,i),h=Oz(e,n),d=g=>g>1?1:g<0?0:g,p=g=>{for(var v=g>1?1:g,E=v,y=0;y<8;++y){var _=u(E)-v,b=h(E);if(Math.abs(_-v)<Ch||b<Ch)return c(E);E=d(E-_/b)}return c(E)};return p.isStepper=!1,p},Rz=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,a,l)=>{var u=-(s-a)*n,c=l*r,h=l+(u-c)*i/1e3,d=l*i/1e3+s;return Math.abs(d-a)<Ch&&Math.abs(h)<Ch?[a,0]:[d,h]};return o.isStepper=!0,o.dt=i,o},_R=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lT(t);case"spring":return Rz();default:if(t.split("(")[0]==="cubic-bezier")return lT(t)}return typeof t=="function"?t:null};function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){Nz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nz(t,e,n){return(e=Dz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Mz(t,"string");return typeof e=="symbol"?e:e+""}function Mz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lz=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),jz=(t,e,n)=>t.map(r=>"".concat(Lz(r)," ").concat(e,"ms ").concat(n)).join(","),Vz=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Su=(t,e)=>Object.keys(e).reduce((n,r)=>cT(cT({},n),{},{[r]:t(r,e[r])}),{});function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(r){$z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $z(t,e,n){return(e=Fz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fz(t){var e=Uz(t,"string");return typeof e=="symbol"?e:e+""}function Uz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kh=(t,e,n)=>t+(e-t)*n,Ky=t=>{var{from:e,to:n}=t;return e!==n},wR=(t,e,n)=>{var r=Su((i,o)=>{if(Ky(o)){var[s,a]=t(o.from,o.to,o.velocity);return St(St({},o),{},{from:s,velocity:a})}return o},e);return n<1?Su((i,o)=>Ky(o)?St(St({},o),{},{velocity:kh(o.velocity,r[i].velocity,n),from:kh(o.from,r[i].from,n)}):o,e):wR(t,r,n-1)};function Bz(t,e,n,r,i,o){var s,a=r.reduce((d,p)=>St(St({},d),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>Su((d,p)=>p.from,a),u=()=>!Object.values(a).filter(Ky).length,c=null,h=d=>{s||(s=d);var p=d-s,g=p/n.dt;a=wR(n,a,g),i(St(St(St({},t),e),l())),s=d,u()||(c=o.setTimeout(h))};return()=>(c=o.setTimeout(h),()=>{c()})}function zz(t,e,n,r,i,o,s){var a=null,l=i.reduce((h,d)=>St(St({},h),{},{[d]:[t[d],e[d]]}),{}),u,c=h=>{u||(u=h);var d=(h-u)/r,p=Su((v,E)=>kh(...E,n(d)),l);if(o(St(St(St({},t),e),p)),d<1)a=s.setTimeout(c);else{var g=Su((v,E)=>kh(...E,n(1)),l);o(St(St(St({},t),e),g))}};return()=>(a=s.setTimeout(c),()=>{a()})}const ER=(t,e,n,r,i,o)=>{var s=Vz(t,e);return n.isStepper===!0?Bz(t,e,n,s,i,o):zz(t,e,n,r,s,i,o)};function Wz(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,[l,...u]=a;if(typeof l=="number"){i=t.setTimeout(o.bind(null,u),l);return}o(l),i=t.setTimeout(o.bind(null,u));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Kz{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function Hz(){return Wz(new Kz)}var qz=T.createContext(Hz);function bR(t,e){var n=T.useContext(qz);return T.useMemo(()=>e??n(t),[t,e,n])}var Gz=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(null,arguments)}function Yz(t,e){if(t==null)return{};var n,r,i=Qz(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hT(Object(n),!0).forEach(function(r){Ro(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ro(t,e,n){return(e=Xz(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Jz(t,"string");return typeof e=="symbol"?e:e+""}function Jz(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class C_ extends T.PureComponent{constructor(e,n){super(e,n),Ro(this,"mounted",!1),Ro(this,"manager",void 0),Ro(this,"stopJSAnimation",null),Ro(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:o,to:s,children:a,duration:l,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof a=="function"&&(this.state={style:s});return}if(o){if(typeof a=="function"){this.state={style:o};return}this.state={style:i?{[i]:o}:o}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:o,to:s,from:a}=this.props,{style:l}=this.state;if(r){if(!n){var u={style:i?{[i]:s}:s};this.state&&l&&(i&&l[i]!==s||!i&&l!==s)&&this.setState(u);return}if(!(kz(e.to,s)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var h=c||o?a:e.to;if(this.state&&l){var d={style:i?{[i]:h}:h};(i&&l[i]!==h||!i&&l!==h)&&this.setState(d)}this.runAnimation(Ei(Ei({},this.props),{},{from:h,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l}=e,u=ER(n,r,_R(o),i,this.changeStyle,this.manager.getTimeoutController()),c=()=>{this.stopJSAnimation=u()};this.manager.start([l,s,c,i,a])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:o,easing:s,onAnimationStart:a,onAnimationEnd:l,children:u}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof s=="function"||typeof u=="function"||s==="spring"){this.runJSAnimation(e);return}var c=i?{[i]:o}:o,h=jz(Object.keys(c),r,s);this.manager.start([a,n,Ei(Ei({},c),{},{transition:h}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:o,easing:s,isActive:a,from:l,to:u,canBegin:c,onAnimationEnd:h,shouldReAnimate:d,onAnimationReStart:p,animationManager:g}=e,v=Yz(e,Gz),E=T.Children.count(n),y=this.state.style;if(typeof n=="function")return n(y);if(!a||E===0||i<=0)return n;var _=b=>{var{style:P={},className:R}=b.props,D=T.cloneElement(b,Ei(Ei({},v),{},{style:Ei(Ei({},P),y),className:R}));return D};return E===1?_(T.Children.only(n)):T.createElement("div",null,T.Children.map(n,b=>_(b)))}}Ro(C_,"displayName","Animate");Ro(C_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function dT(t){var e,n=bR((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return T.createElement(C_,Hy({},t,{animationManager:n}))}function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oh.apply(null,arguments)}var pT=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,a=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,u;if(o>0&&i instanceof Array){for(var c=[0,0,0,0],h=0,d=4;h<d;h++)c[h]=i[h]>o?o:i[h];u="M".concat(t,",").concat(e+s*c[0]),c[0]>0&&(u+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(l,",").concat(t+a*c[0],",").concat(e)),u+="L ".concat(t+n-a*c[1],",").concat(e),c[1]>0&&(u+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+s*c[1])),u+="L ".concat(t+n,",").concat(e+r-s*c[2]),c[2]>0&&(u+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(l,`,
        `).concat(t+n-a*c[2],",").concat(e+r)),u+="L ".concat(t+a*c[3],",").concat(e+r),c[3]>0&&(u+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-s*c[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var p=Math.min(o,i);u="M ".concat(t,",").concat(e+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+a*p,",").concat(e,`
            L `).concat(t+n-a*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+s*p,`
            L `).concat(t+n,",").concat(e+r-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-a*p,",").concat(e+r,`
            L `).concat(t+a*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-s*p," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},Zz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},e8=t=>{var e=kr(t,Zz),n=T.useRef(null),[r,i]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:o,y:s,width:a,height:l,radius:u,className:c}=e,{animationEasing:h,animationDuration:d,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:v}=e;if(o!==+o||s!==+s||a!==+a||l!==+l||a===0||l===0)return null;var E=xe("recharts-rectangle",c);return v?T.createElement(dT,{canBegin:r>0,from:{width:a,height:l,x:o,y:s},to:{width:a,height:l,x:o,y:s},duration:d,animationEasing:h,isActive:v},y=>{var{width:_,height:b,x:P,y:R}=y;return T.createElement(dT,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:d,isActive:g,easing:h},T.createElement("path",Oh({},nt(e,!0),{className:E,d:pT(P,R,_,b,u),ref:n})))}):T.createElement("path",Oh({},nt(e,!0),{className:E,d:pT(o,s,a,l,u)}))};function SR(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=Tt(e,n,r,i),a=Tt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(null,arguments)}var t8=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jc=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:a,cornerIsExternal:l}=t,u=a*(s?1:-1)+r,c=Math.asin(a/u)/xh,h=l?i:i+o*c,d=Tt(e,n,u,h),p=Tt(e,n,r,h),g=l?i-o*c:i,v=Tt(e,n,u*Math.cos(c*xh),g);return{center:d,circleTangency:p,lineTangency:v,theta:c}},TR=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,a=t8(o,s),l=o+a,u=Tt(e,n,i,o),c=Tt(e,n,i,l),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(a)>180),",").concat(+(o>l),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(r>0){var d=Tt(e,n,r,o),p=Tt(e,n,r,l);h+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(a)>180),",").concat(+(o<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(e,",").concat(n," Z");return h},n8=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:a,startAngle:l,endAngle:u}=t,c=Vn(u-l),{circleTangency:h,lineTangency:d,theta:p}=Jc({cx:e,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:a}),{circleTangency:g,lineTangency:v,theta:E}=Jc({cx:e,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:a}),y=a?Math.abs(l-u):Math.abs(l-u)-p-E;if(y<0)return s?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):TR({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var _="M ".concat(d.x,",").concat(d.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:b,lineTangency:P,theta:R}=Jc({cx:e,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),{circleTangency:D,lineTangency:A,theta:S}=Jc({cx:e,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:a}),x=a?Math.abs(l-u):Math.abs(l-u)-R-S;if(x<0&&o===0)return"".concat(_,"L").concat(e,",").concat(n,"Z");_+="L".concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(c>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(e,",").concat(n,"Z");return _},r8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i8=t=>{var e=kr(t,r8),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c,className:h}=e;if(o<i||u===c)return null;var d=xe("recharts-sector",h),p=o-i,g=io(s,p,0,!0),v;return g>0&&Math.abs(u-c)<360?v=n8({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:a,cornerIsExternal:l,startAngle:u,endAngle:c}):v=TR({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),T.createElement("path",qy({},nt(e,!0),{className:d,d:v}))};function o8(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:a,cy:l,innerRadius:u,outerRadius:c,angle:h}=e,d=Tt(a,l,u,h),p=Tt(a,l,c,h);r=d.x,i=d.y,o=p.x,s=p.y}else return SR(e);return[{x:r,y:i},{x:o,y:s}]}var AR={},xR={},IR={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=__;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(IR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IR;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(xR);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=w_,n=xR;function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const a=Math.max(Math.ceil((o-i)/(s||1)),0),l=new Array(a);for(let u=0;u<a;u++)l[u]=i,i+=s;return l}t.range=r})(AR);var s8=AR.range;const PR=si(s8);function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function a8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k_(t){let e,n,r;t.length!==2?(e=Gi,n=(a,l)=>Gi(t(a),l),r=(a,l)=>t(a)-l):(e=t===Gi||t===a8?t:l8,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(a[h],l)<0?u=h+1:c=h}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const h=u+c>>>1;n(a[h],l)<=0?u=h+1:c=h}while(u<c)}return u}function s(a,l,u=0,c=a.length){const h=i(a,l,u,c-1);return h>u&&r(a[h-1],l)>-r(a[h],l)?h-1:h}return{left:i,center:s,right:o}}function l8(){return 0}function CR(t){return t===null?NaN:+t}function*u8(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const c8=k_(Gi),qu=c8.right;k_(CR).center;class mT extends Map{constructor(e,n=d8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gT(this,e))}has(e){return super.has(gT(this,e))}set(e,n){return super.set(f8(this,e),n)}delete(e){return super.delete(h8(this,e))}}function gT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function f8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function h8({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function d8(t){return t!==null&&typeof t=="object"?t.valueOf():t}function p8(t=Gi){if(t===Gi)return kR;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function kR(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const m8=Math.sqrt(50),g8=Math.sqrt(10),y8=Math.sqrt(2);function Rh(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=m8?10:o>=g8?5:o>=y8?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Rh(t,e,n*2):[a,l,u]}function Gy(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Rh(e,t,n):Rh(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Yy(t,e,n){return e=+e,t=+t,n=+n,Rh(t,e,n)[2]}function Qy(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Yy(e,t,n):Yy(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function yT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function vT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function OR(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?kR:p8(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*h/l+d)),g=Math.min(r,Math.floor(e+(l-u)*h/l+d));OR(t,e,p,g,i)}const o=t[e];let s=n,a=r;for(pl(t,n,e),i(t[r],o)>0&&pl(t,n,r);s<a;){for(pl(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?pl(t,n,a):(++a,pl(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function pl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v8(t,e,n){if(t=Float64Array.from(u8(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return vT(t);if(e>=1)return yT(t);var r,i=(r-1)*e,o=Math.floor(i),s=yT(OR(t,o).subarray(0,o+1)),a=vT(t.subarray(o+1));return s+(a-s)*(i-o)}}function _8(t,e,n=CR){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function w8(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function qn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Xy=Symbol("implicit");function O_(){var t=new mT,e=[],n=[],r=Xy;function i(o){let s=t.get(o);if(s===void 0){if(r!==Xy)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new mT;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return O_(e,n).unknown(r)},qn.apply(i,arguments),i}function R_(){var t=O_().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function h(){var d=e().length,p=i<r,g=p?i:r,v=p?r:i;o=(v-g)/Math.max(1,d-l+u*2),a&&(o=Math.floor(o)),g+=(v-g-o*(d-l))*c,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var E=w8(d).map(function(y){return g+o*y});return n(p?E.reverse():E)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,h()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,h()):a},t.padding=function(d){return arguments.length?(l=Math.min(1,u=+d),h()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),h()):l},t.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},t.copy=function(){return R_(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},qn.apply(h(),arguments)}function RR(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return RR(e())},t}function E8(){return RR(R_.apply(null,arguments).paddingInner(1))}function N_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function NR(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gu(){}var Tu=.7,Nh=1/Tu,ta="\\s*([+-]?\\d+)\\s*",Au="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b8=/^#([0-9a-f]{3,8})$/,S8=new RegExp(`^rgb\\(${ta},${ta},${ta}\\)$`),T8=new RegExp(`^rgb\\(${Ar},${Ar},${Ar}\\)$`),A8=new RegExp(`^rgba\\(${ta},${ta},${ta},${Au}\\)$`),x8=new RegExp(`^rgba\\(${Ar},${Ar},${Ar},${Au}\\)$`),I8=new RegExp(`^hsl\\(${Au},${Ar},${Ar}\\)$`),P8=new RegExp(`^hsla\\(${Au},${Ar},${Ar},${Au}\\)$`),_T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N_(Gu,xu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wT,formatHex:wT,formatHex8:C8,formatHsl:k8,formatRgb:ET,toString:ET});function wT(){return this.rgb().formatHex()}function C8(){return this.rgb().formatHex8()}function k8(){return DR(this).formatHsl()}function ET(){return this.rgb().formatRgb()}function xu(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=b8.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?bT(e):n===3?new sn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=S8.exec(t))?new sn(e[1],e[2],e[3],1):(e=T8.exec(t))?new sn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=A8.exec(t))?Zc(e[1],e[2],e[3],e[4]):(e=x8.exec(t))?Zc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=I8.exec(t))?AT(e[1],e[2]/100,e[3]/100,1):(e=P8.exec(t))?AT(e[1],e[2]/100,e[3]/100,e[4]):_T.hasOwnProperty(t)?bT(_T[t]):t==="transparent"?new sn(NaN,NaN,NaN,0):null}function bT(t){return new sn(t>>16&255,t>>8&255,t&255,1)}function Zc(t,e,n,r){return r<=0&&(t=e=n=NaN),new sn(t,e,n,r)}function O8(t){return t instanceof Gu||(t=xu(t)),t?(t=t.rgb(),new sn(t.r,t.g,t.b,t.opacity)):new sn}function Jy(t,e,n,r){return arguments.length===1?O8(t):new sn(t,e,n,r??1)}function sn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}N_(sn,Jy,NR(Gu,{brighter(t){return t=t==null?Nh:Math.pow(Nh,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Tu:Math.pow(Tu,t),new sn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sn(Ko(this.r),Ko(this.g),Ko(this.b),Dh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ST,formatHex:ST,formatHex8:R8,formatRgb:TT,toString:TT}));function ST(){return`#${No(this.r)}${No(this.g)}${No(this.b)}`}function R8(){return`#${No(this.r)}${No(this.g)}${No(this.b)}${No((isNaN(this.opacity)?1:this.opacity)*255)}`}function TT(){const t=Dh(this.opacity);return`${t===1?"rgb(":"rgba("}${Ko(this.r)}, ${Ko(this.g)}, ${Ko(this.b)}${t===1?")":`, ${t})`}`}function Dh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ko(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function No(t){return t=Ko(t),(t<16?"0":"")+t.toString(16)}function AT(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ir(t,e,n,r)}function DR(t){if(t instanceof ir)return new ir(t.h,t.s,t.l,t.opacity);if(t instanceof Gu||(t=xu(t)),!t)return new ir;if(t instanceof ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ir(s,a,l,t.opacity)}function N8(t,e,n,r){return arguments.length===1?DR(t):new ir(t,e,n,r??1)}function ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}N_(ir,N8,NR(Gu,{brighter(t){return t=t==null?Nh:Math.pow(Nh,t),new ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Tu:Math.pow(Tu,t),new ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sn(Km(t>=240?t-240:t+120,i,r),Km(t,i,r),Km(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ir(xT(this.h),ef(this.s),ef(this.l),Dh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dh(this.opacity);return`${t===1?"hsl(":"hsla("}${xT(this.h)}, ${ef(this.s)*100}%, ${ef(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xT(t){return t=(t||0)%360,t<0?t+360:t}function ef(t){return Math.max(0,Math.min(1,t||0))}function Km(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const D_=t=>()=>t;function D8(t,e){return function(n){return t+n*e}}function M8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function L8(t){return(t=+t)==1?MR:function(e,n){return n-e?M8(e,n,t):D_(isNaN(e)?n:e)}}function MR(t,e){var n=e-t;return n?D8(t,n):D_(isNaN(t)?e:t)}const IT=function t(e){var n=L8(e);function r(i,o){var s=n((i=Jy(i)).r,(o=Jy(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=MR(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function j8(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function V8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $8(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=La(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function F8(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Mh(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function U8(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=La(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Zy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hm=new RegExp(Zy.source,"g");function B8(t){return function(){return t}}function z8(t){return function(e){return t(e)+""}}function W8(t,e){var n=Zy.lastIndex=Hm.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Zy.exec(t))&&(i=Hm.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Mh(r,i)})),n=Hm.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?z8(l[0].x):B8(e):(e=l.length,function(u){for(var c=0,h;c<e;++c)a[(h=l[c]).i]=h.x(u);return a.join("")})}function La(t,e){var n=typeof e,r;return e==null||n==="boolean"?D_(e):(n==="number"?Mh:n==="string"?(r=xu(e))?(e=r,IT):W8:e instanceof xu?IT:e instanceof Date?F8:V8(e)?j8:Array.isArray(e)?$8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?U8:Mh)(t,e)}function M_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function K8(t,e){e===void 0&&(e=t,t=La);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function H8(t){return function(){return t}}function Lh(t){return+t}var PT=[0,1];function Yt(t){return t}function ev(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:H8(isNaN(e)?NaN:.5)}function q8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function G8(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=ev(i,r),o=n(s,o)):(r=ev(r,i),o=n(o,s)),function(a){return o(r(a))}}function Y8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=ev(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=qu(t,a,1,r)-1;return o[l](i[l](a))}}function Yu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function up(){var t=PT,e=PT,n=La,r,i,o,s=Yt,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==Yt&&(s=q8(t[0],t[d-1])),a=d>2?Y8:G8,l=u=null,h}function h(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((u||(u=a(e,t.map(r),Mh)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,Lh),c()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=M_,c()},h.clamp=function(d){return arguments.length?(s=d?!0:Yt,c()):s!==Yt},h.interpolate=function(d){return arguments.length?(n=d,c()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,p){return r=d,i=p,c()}}function L_(){return up()(Yt,Yt)}function Q8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wa(t){return t=jh(Math.abs(t)),t?t[1]:NaN}function X8(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function J8(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Z8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iu(t){if(!(e=Z8.exec(t)))throw new Error("invalid format: "+t);var e;return new j_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Iu.prototype=j_.prototype;function j_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}j_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e7(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var LR;function t7(t,e){var n=jh(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(LR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+jh(t,Math.max(0,e+o-1))[0]}function CT(t,e){var n=jh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Q8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CT(t*100,e),r:CT,s:t7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OT(t){return t}var RT=Array.prototype.map,NT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function n7(t){var e=t.grouping===void 0||t.thousands===void 0?OT:X8(RT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?OT:J8(RT.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Iu(h);var d=h.fill,p=h.align,g=h.sign,v=h.symbol,E=h.zero,y=h.width,_=h.comma,b=h.precision,P=h.trim,R=h.type;R==="n"?(_=!0,R="g"):kT[R]||(b===void 0&&(b=12),P=!0,R="g"),(E||d==="0"&&p==="=")&&(E=!0,d="0",p="=");var D=v==="$"?n:v==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",A=v==="$"?r:/[%p]/.test(R)?s:"",S=kT[R],x=/[defgprs%]/.test(R);b=b===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(C){var N=D,O=A,oe,ve,de;if(R==="c")O=S(C)+O,C="";else{C=+C;var Ee=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),b),P&&(C=e7(C)),Ee&&+C==0&&g!=="+"&&(Ee=!1),N=(Ee?g==="("?g:a:g==="-"||g==="("?"":g)+N,O=(R==="s"?NT[8+LR/3]:"")+O+(Ee&&g==="("?")":""),x){for(oe=-1,ve=C.length;++oe<ve;)if(de=C.charCodeAt(oe),48>de||de>57){O=(de===46?i+C.slice(oe+1):C.slice(oe))+O,C=C.slice(0,oe);break}}}_&&!E&&(C=e(C,1/0));var z=N.length+C.length+O.length,Q=z<y?new Array(y-z+1).join(d):"";switch(_&&E&&(C=e(Q+C,Q.length?y-O.length:1/0),Q=""),p){case"<":C=N+C+O+Q;break;case"=":C=N+Q+C+O;break;case"^":C=Q.slice(0,z=Q.length>>1)+N+C+O+Q.slice(z);break;default:C=Q+N+C+O;break}return o(C)}return k.toString=function(){return h+""},k}function c(h,d){var p=u((h=Iu(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(wa(d)/3)))*3,v=Math.pow(10,-g),E=NT[8+g/3];return function(y){return p(v*y)+E}}return{format:u,formatPrefix:c}}var tf,V_,jR;r7({thousands:",",grouping:[3],currency:["$",""]});function r7(t){return tf=n7(t),V_=tf.format,jR=tf.formatPrefix,tf}function i7(t){return Math.max(0,-wa(Math.abs(t)))}function o7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wa(e)/3)))*3-wa(Math.abs(t)))}function s7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wa(e)-wa(t))+1}function VR(t,e,n,r){var i=Qy(t,e,n),o;switch(r=Iu(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=o7(i,s))&&(r.precision=o),jR(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=s7(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=i7(i))&&(r.precision=o-(r.type==="%")*2);break}}return V_(r)}function fo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Gy(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return VR(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Yy(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function $R(){var t=L_();return t.copy=function(){return Yu(t,$R())},qn.apply(t,arguments),fo(t)}function FR(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Lh),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return FR(t).unknown(e)},t=arguments.length?Array.from(t,Lh):[0,1],fo(n)}function UR(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function DT(t){return Math.log(t)}function MT(t){return Math.exp(t)}function a7(t){return-Math.log(-t)}function l7(t){return-Math.exp(-t)}function u7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function c7(t){return t===10?u7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function f7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function LT(t){return(e,n)=>-t(-e,n)}function $_(t){const e=t(DT,MT),n=e.domain;let r=10,i,o;function s(){return i=f7(r),o=c7(r),n()[0]<0?(i=LT(i),o=LT(o),t(a7,l7)):t(DT,MT),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const h=c<u;h&&([u,c]=[c,u]);let d=i(u),p=i(c),g,v;const E=a==null?10:+a;let y=[];if(!(r%1)&&p-d<E){if(d=Math.floor(d),p=Math.ceil(p),u>0){for(;d<=p;++d)for(g=1;g<r;++g)if(v=d<0?g/o(-d):g*o(d),!(v<u)){if(v>c)break;y.push(v)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(v=d>0?g/o(-d):g*o(d),!(v<u)){if(v>c)break;y.push(v)}y.length*2<E&&(y=Gy(u,c,E))}else y=Gy(d,p,Math.min(p-d,E)).map(o);return h?y.reverse():y},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Iu(l)).precision==null&&(l.trim=!0),l=V_(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let h=c/o(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=u?l(c):""}},e.nice=()=>n(UR(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function BR(){const t=$_(up()).domain([1,10]);return t.copy=()=>Yu(t,BR()).base(t.base()),qn.apply(t,arguments),t}function jT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function VT(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function F_(t){var e=1,n=t(jT(e),VT(e));return n.constant=function(r){return arguments.length?t(jT(e=+r),VT(e)):e},fo(n)}function zR(){var t=F_(up());return t.copy=function(){return Yu(t,zR()).constant(t.constant())},qn.apply(t,arguments)}function $T(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function h7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function d7(t){return t<0?-t*t:t*t}function U_(t){var e=t(Yt,Yt),n=1;function r(){return n===1?t(Yt,Yt):n===.5?t(h7,d7):t($T(n),$T(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fo(e)}function B_(){var t=U_(up());return t.copy=function(){return Yu(t,B_()).exponent(t.exponent())},qn.apply(t,arguments),t}function p7(){return B_.apply(null,arguments).exponent(.5)}function FT(t){return Math.sign(t)*t*t}function m7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WR(){var t=L_(),e=[0,1],n=!1,r;function i(o){var s=m7(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(FT(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Lh)).map(FT)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return WR(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},qn.apply(i,arguments),fo(i)}function KR(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=_8(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[qu(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Gi),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return KR().domain(t).range(e).unknown(r)},qn.apply(o,arguments)}function HR(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[qu(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return HR().domain([t,e]).range(i).unknown(o)},qn.apply(fo(s),arguments)}function qR(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[qu(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return qR().domain(t).range(e).unknown(n)},qn.apply(i,arguments)}const qm=new Date,Gm=new Date;function ut(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>ut(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(qm.setTime(+o),Gm.setTime(+s),t(qm),t(Gm),Math.floor(n(qm,Gm))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Vh=ut(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Vh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ut(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Vh);Vh.range;const Br=1e3,$n=Br*60,zr=$n*60,ri=zr*24,z_=ri*7,UT=ri*30,Ym=ri*365,Do=ut(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Br)},(t,e)=>(e-t)/Br,t=>t.getUTCSeconds());Do.range;const W_=ut(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Br)},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getMinutes());W_.range;const K_=ut(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$n)},(t,e)=>(e-t)/$n,t=>t.getUTCMinutes());K_.range;const H_=ut(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Br-t.getMinutes()*$n)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getHours());H_.range;const q_=ut(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zr)},(t,e)=>(e-t)/zr,t=>t.getUTCHours());q_.range;const Qu=ut(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$n)/ri,t=>t.getDate()-1);Qu.range;const cp=ut(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ri,t=>t.getUTCDate()-1);cp.range;const GR=ut(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ri,t=>Math.floor(t/ri));GR.range;function hs(t){return ut(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*$n)/z_)}const fp=hs(0),$h=hs(1),g7=hs(2),y7=hs(3),Ea=hs(4),v7=hs(5),_7=hs(6);fp.range;$h.range;g7.range;y7.range;Ea.range;v7.range;_7.range;function ds(t){return ut(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/z_)}const hp=ds(0),Fh=ds(1),w7=ds(2),E7=ds(3),ba=ds(4),b7=ds(5),S7=ds(6);hp.range;Fh.range;w7.range;E7.range;ba.range;b7.range;S7.range;const G_=ut(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());G_.range;const Y_=ut(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Y_.range;const ii=ut(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ii.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ut(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ii.range;const oi=ut(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ut(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oi.range;function YR(t,e,n,r,i,o){const s=[[Do,1,Br],[Do,5,5*Br],[Do,15,15*Br],[Do,30,30*Br],[o,1,$n],[o,5,5*$n],[o,15,15*$n],[o,30,30*$n],[i,1,zr],[i,3,3*zr],[i,6,6*zr],[i,12,12*zr],[r,1,ri],[r,2,2*ri],[n,1,z_],[e,1,UT],[e,3,3*UT],[t,1,Ym]];function a(u,c,h){const d=c<u;d&&([u,c]=[c,u]);const p=h&&typeof h.range=="function"?h:l(u,c,h),g=p?p.range(u,+c+1):[];return d?g.reverse():g}function l(u,c,h){const d=Math.abs(c-u)/h,p=k_(([,,E])=>E).right(s,d);if(p===s.length)return t.every(Qy(u/Ym,c/Ym,h));if(p===0)return Vh.every(Math.max(Qy(u,c,h),1));const[g,v]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return g.every(v)}return[a,l]}const[T7,A7]=YR(oi,Y_,hp,GR,q_,K_),[x7,I7]=YR(ii,G_,fp,Qu,H_,W_);function Qm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ml(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function P7(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=gl(i),c=yl(i),h=gl(o),d=yl(o),p=gl(s),g=yl(s),v=gl(a),E=yl(a),y=gl(l),_=yl(l),b={a:Ee,A:z,b:Q,B:ne,c:null,d:qT,e:qT,f:X7,g:aW,G:uW,H:G7,I:Y7,j:Q7,L:QR,m:J7,M:Z7,p:_e,q:K,Q:QT,s:XT,S:eW,u:tW,U:nW,V:rW,w:iW,W:oW,x:null,X:null,y:sW,Y:lW,Z:cW,"%":YT},P={a:ke,A:dn,b:ze,B:Gn,c:null,d:GT,e:GT,f:pW,g:TW,G:xW,H:fW,I:hW,j:dW,L:JR,m:mW,M:gW,p:Yn,q:Cp,Q:QT,s:XT,S:yW,u:vW,U:_W,V:wW,w:EW,W:bW,x:null,X:null,y:SW,Y:AW,Z:IW,"%":YT},R={a:k,A:C,b:N,B:O,c:oe,d:KT,e:KT,f:W7,g:WT,G:zT,H:HT,I:HT,j:F7,L:z7,m:$7,M:U7,p:x,q:V7,Q:H7,s:q7,S:B7,u:N7,U:D7,V:M7,w:R7,W:L7,x:ve,X:de,y:WT,Y:zT,Z:j7,"%":K7};b.x=D(n,b),b.X=D(r,b),b.c=D(e,b),P.x=D(n,P),P.X=D(r,P),P.c=D(e,P);function D(X,se){return function(ae){var F=[],ht=-1,we=0,vt=X.length,kt,Or,ic;for(ae instanceof Date||(ae=new Date(+ae));++ht<vt;)X.charCodeAt(ht)===37&&(F.push(X.slice(we,ht)),(Or=BT[kt=X.charAt(++ht)])!=null?kt=X.charAt(++ht):Or=kt==="e"?" ":"0",(ic=se[kt])&&(kt=ic(ae,Or)),F.push(kt),we=ht+1);return F.push(X.slice(we,ht)),F.join("")}}function A(X,se){return function(ae){var F=ml(1900,void 0,1),ht=S(F,X,ae+="",0),we,vt;if(ht!=ae.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(se&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(we=Xm(ml(F.y,0,1)),vt=we.getUTCDay(),we=vt>4||vt===0?Fh.ceil(we):Fh(we),we=cp.offset(we,(F.V-1)*7),F.y=we.getUTCFullYear(),F.m=we.getUTCMonth(),F.d=we.getUTCDate()+(F.w+6)%7):(we=Qm(ml(F.y,0,1)),vt=we.getDay(),we=vt>4||vt===0?$h.ceil(we):$h(we),we=Qu.offset(we,(F.V-1)*7),F.y=we.getFullYear(),F.m=we.getMonth(),F.d=we.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),vt="Z"in F?Xm(ml(F.y,0,1)).getUTCDay():Qm(ml(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(vt+5)%7:F.w+F.U*7-(vt+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Xm(F)):Qm(F)}}function S(X,se,ae,F){for(var ht=0,we=se.length,vt=ae.length,kt,Or;ht<we;){if(F>=vt)return-1;if(kt=se.charCodeAt(ht++),kt===37){if(kt=se.charAt(ht++),Or=R[kt in BT?se.charAt(ht++):kt],!Or||(F=Or(X,ae,F))<0)return-1}else if(kt!=ae.charCodeAt(F++))return-1}return F}function x(X,se,ae){var F=u.exec(se.slice(ae));return F?(X.p=c.get(F[0].toLowerCase()),ae+F[0].length):-1}function k(X,se,ae){var F=p.exec(se.slice(ae));return F?(X.w=g.get(F[0].toLowerCase()),ae+F[0].length):-1}function C(X,se,ae){var F=h.exec(se.slice(ae));return F?(X.w=d.get(F[0].toLowerCase()),ae+F[0].length):-1}function N(X,se,ae){var F=y.exec(se.slice(ae));return F?(X.m=_.get(F[0].toLowerCase()),ae+F[0].length):-1}function O(X,se,ae){var F=v.exec(se.slice(ae));return F?(X.m=E.get(F[0].toLowerCase()),ae+F[0].length):-1}function oe(X,se,ae){return S(X,e,se,ae)}function ve(X,se,ae){return S(X,n,se,ae)}function de(X,se,ae){return S(X,r,se,ae)}function Ee(X){return s[X.getDay()]}function z(X){return o[X.getDay()]}function Q(X){return l[X.getMonth()]}function ne(X){return a[X.getMonth()]}function _e(X){return i[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function ke(X){return s[X.getUTCDay()]}function dn(X){return o[X.getUTCDay()]}function ze(X){return l[X.getUTCMonth()]}function Gn(X){return a[X.getUTCMonth()]}function Yn(X){return i[+(X.getUTCHours()>=12)]}function Cp(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var se=D(X+="",b);return se.toString=function(){return X},se},parse:function(X){var se=A(X+="",!1);return se.toString=function(){return X},se},utcFormat:function(X){var se=D(X+="",P);return se.toString=function(){return X},se},utcParse:function(X){var se=A(X+="",!0);return se.toString=function(){return X},se}}}var BT={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,C7=/^%/,k7=/[\\^$*+?|[\]().{}]/g;function ye(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function O7(t){return t.replace(k7,"\\$&")}function gl(t){return new RegExp("^(?:"+t.map(O7).join("|")+")","i")}function yl(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function R7(t,e,n){var r=yt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function N7(t,e,n){var r=yt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function D7(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function M7(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function L7(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zT(t,e,n){var r=yt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function WT(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function j7(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function V7(t,e,n){var r=yt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function $7(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function KT(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function F7(t,e,n){var r=yt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HT(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function U7(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function B7(t,e,n){var r=yt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function z7(t,e,n){var r=yt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function W7(t,e,n){var r=yt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function K7(t,e,n){var r=C7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function H7(t,e,n){var r=yt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function q7(t,e,n){var r=yt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function qT(t,e){return ye(t.getDate(),e,2)}function G7(t,e){return ye(t.getHours(),e,2)}function Y7(t,e){return ye(t.getHours()%12||12,e,2)}function Q7(t,e){return ye(1+Qu.count(ii(t),t),e,3)}function QR(t,e){return ye(t.getMilliseconds(),e,3)}function X7(t,e){return QR(t,e)+"000"}function J7(t,e){return ye(t.getMonth()+1,e,2)}function Z7(t,e){return ye(t.getMinutes(),e,2)}function eW(t,e){return ye(t.getSeconds(),e,2)}function tW(t){var e=t.getDay();return e===0?7:e}function nW(t,e){return ye(fp.count(ii(t)-1,t),e,2)}function XR(t){var e=t.getDay();return e>=4||e===0?Ea(t):Ea.ceil(t)}function rW(t,e){return t=XR(t),ye(Ea.count(ii(t),t)+(ii(t).getDay()===4),e,2)}function iW(t){return t.getDay()}function oW(t,e){return ye($h.count(ii(t)-1,t),e,2)}function sW(t,e){return ye(t.getFullYear()%100,e,2)}function aW(t,e){return t=XR(t),ye(t.getFullYear()%100,e,2)}function lW(t,e){return ye(t.getFullYear()%1e4,e,4)}function uW(t,e){var n=t.getDay();return t=n>=4||n===0?Ea(t):Ea.ceil(t),ye(t.getFullYear()%1e4,e,4)}function cW(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ye(e/60|0,"0",2)+ye(e%60,"0",2)}function GT(t,e){return ye(t.getUTCDate(),e,2)}function fW(t,e){return ye(t.getUTCHours(),e,2)}function hW(t,e){return ye(t.getUTCHours()%12||12,e,2)}function dW(t,e){return ye(1+cp.count(oi(t),t),e,3)}function JR(t,e){return ye(t.getUTCMilliseconds(),e,3)}function pW(t,e){return JR(t,e)+"000"}function mW(t,e){return ye(t.getUTCMonth()+1,e,2)}function gW(t,e){return ye(t.getUTCMinutes(),e,2)}function yW(t,e){return ye(t.getUTCSeconds(),e,2)}function vW(t){var e=t.getUTCDay();return e===0?7:e}function _W(t,e){return ye(hp.count(oi(t)-1,t),e,2)}function ZR(t){var e=t.getUTCDay();return e>=4||e===0?ba(t):ba.ceil(t)}function wW(t,e){return t=ZR(t),ye(ba.count(oi(t),t)+(oi(t).getUTCDay()===4),e,2)}function EW(t){return t.getUTCDay()}function bW(t,e){return ye(Fh.count(oi(t)-1,t),e,2)}function SW(t,e){return ye(t.getUTCFullYear()%100,e,2)}function TW(t,e){return t=ZR(t),ye(t.getUTCFullYear()%100,e,2)}function AW(t,e){return ye(t.getUTCFullYear()%1e4,e,4)}function xW(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ba(t):ba.ceil(t),ye(t.getUTCFullYear()%1e4,e,4)}function IW(){return"+0000"}function YT(){return"%"}function QT(t){return+t}function XT(t){return Math.floor(+t/1e3)}var ws,eN,tN;PW({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PW(t){return ws=P7(t),eN=ws.format,ws.parse,tN=ws.utcFormat,ws.utcParse,ws}function CW(t){return new Date(t)}function kW(t){return t instanceof Date?+t:+new Date(+t)}function Q_(t,e,n,r,i,o,s,a,l,u){var c=L_(),h=c.invert,d=c.domain,p=u(".%L"),g=u(":%S"),v=u("%I:%M"),E=u("%I %p"),y=u("%a %d"),_=u("%b %d"),b=u("%B"),P=u("%Y");function R(D){return(l(D)<D?p:a(D)<D?g:s(D)<D?v:o(D)<D?E:r(D)<D?i(D)<D?y:_:n(D)<D?b:P)(D)}return c.invert=function(D){return new Date(h(D))},c.domain=function(D){return arguments.length?d(Array.from(D,kW)):d().map(CW)},c.ticks=function(D){var A=d();return t(A[0],A[A.length-1],D??10)},c.tickFormat=function(D,A){return A==null?R:u(A)},c.nice=function(D){var A=d();return(!D||typeof D.range!="function")&&(D=e(A[0],A[A.length-1],D??10)),D?d(UR(A,D)):c},c.copy=function(){return Yu(c,Q_(t,e,n,r,i,o,s,a,l,u))},c}function OW(){return qn.apply(Q_(x7,I7,ii,G_,fp,Qu,H_,W_,Do,eN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function RW(){return qn.apply(Q_(T7,A7,oi,Y_,hp,cp,q_,K_,Do,tN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function dp(){var t=0,e=1,n,r,i,o,s=Yt,a=!1,l;function u(h){return h==null||isNaN(h=+h)?l:s(i===0?.5:(h=(o(h)-n)*i,a?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(h){return arguments.length?(a=!!h,u):a},u.interpolator=function(h){return arguments.length?(s=h,u):s};function c(h){return function(d){var p,g;return arguments.length?([p,g]=d,s=h(p,g),u):[s(0),s(1)]}}return u.range=c(La),u.rangeRound=c(M_),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return o=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),u}}function ho(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nN(){var t=fo(dp()(Yt));return t.copy=function(){return ho(t,nN())},hi.apply(t,arguments)}function rN(){var t=$_(dp()).domain([1,10]);return t.copy=function(){return ho(t,rN()).base(t.base())},hi.apply(t,arguments)}function iN(){var t=F_(dp());return t.copy=function(){return ho(t,iN()).constant(t.constant())},hi.apply(t,arguments)}function X_(){var t=U_(dp());return t.copy=function(){return ho(t,X_()).exponent(t.exponent())},hi.apply(t,arguments)}function NW(){return X_.apply(null,arguments).exponent(.5)}function oN(){var t=[],e=Yt;function n(r){if(r!=null&&!isNaN(r=+r))return e((qu(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>v8(t,o/r))},n.copy=function(){return oN(e).domain(t)},hi.apply(n,arguments)}function pp(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Yt,c,h=!1,d;function p(v){return isNaN(v=+v)?d:(v=.5+((v=+c(v))-o)*(r*v<r*o?a:l),u(h?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([t,e,n]=v,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(v){return arguments.length?(h=!!v,p):h},p.interpolator=function(v){return arguments.length?(u=v,p):u};function g(v){return function(E){var y,_,b;return arguments.length?([y,_,b]=E,u=K8(v,[y,_,b]),p):[u(0),u(.5),u(1)]}}return p.range=g(La),p.rangeRound=g(M_),p.unknown=function(v){return arguments.length?(d=v,p):d},function(v){return c=v,i=v(t),o=v(e),s=v(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function sN(){var t=fo(pp()(Yt));return t.copy=function(){return ho(t,sN())},hi.apply(t,arguments)}function aN(){var t=$_(pp()).domain([.1,1,10]);return t.copy=function(){return ho(t,aN()).base(t.base())},hi.apply(t,arguments)}function lN(){var t=F_(pp());return t.copy=function(){return ho(t,lN()).constant(t.constant())},hi.apply(t,arguments)}function J_(){var t=U_(pp());return t.copy=function(){return ho(t,J_()).exponent(t.exponent())},hi.apply(t,arguments)}function DW(){return J_.apply(null,arguments).exponent(.5)}const Cl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:R_,scaleDiverging:sN,scaleDivergingLog:aN,scaleDivergingPow:J_,scaleDivergingSqrt:DW,scaleDivergingSymlog:lN,scaleIdentity:FR,scaleImplicit:Xy,scaleLinear:$R,scaleLog:BR,scaleOrdinal:O_,scalePoint:E8,scalePow:B_,scaleQuantile:KR,scaleQuantize:HR,scaleRadial:WR,scaleSequential:nN,scaleSequentialLog:rN,scaleSequentialPow:X_,scaleSequentialQuantile:oN,scaleSequentialSqrt:NW,scaleSequentialSymlog:iN,scaleSqrt:p7,scaleSymlog:zR,scaleThreshold:qR,scaleTime:OW,scaleUtc:RW,tickFormat:VR},Symbol.toStringTag,{value:"Module"}));var po=t=>t.chartData,MW=V([po],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),mp=(t,e,n,r)=>r?MW(t):po(t);function Sa(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Xt(e)&&Xt(n))return!0}return!1}function JT(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function LW(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(Xt(n))i=n;else if(typeof n=="function")return;if(Xt(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Sa(s))return s}}function jW(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Sa(r))return JT(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,a;if(i==="auto")e!=null&&(s=Math.min(...e));else if(J(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&YS.test(i)){var l=YS.exec(i);if(l==null||e==null)s=void 0;else{var u=+l[1];s=e[0]-u}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(a=Math.max(...e));else if(J(o))a=o;else if(typeof o=="function")try{e!=null&&(a=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&QS.test(o)){var c=QS.exec(o);if(c==null||e==null)a=void 0;else{var h=+c[1];a=e[1]+h}}else a=e==null?void 0:e[1];var d=[s,a];if(Sa(d))return e==null?d:JT(d,e,n)}}}var ja=1e9,VW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ew,Ve=!0,Wn="[DecimalError] ",Ho=Wn+"Invalid argument: ",Z_=Wn+"Exponent out of range: ",Va=Math.floor,xo=Math.pow,$W=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,pt=1e7,Ne=7,uN=9007199254740991,Uh=Va(uN/Ne),Y={};Y.absoluteValue=Y.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Y.comparedTo=Y.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Y.decimalPlaces=Y.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ne;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Y.dividedBy=Y.div=function(t){return qr(this,new this.constructor(t))};Y.dividedToIntegerBy=Y.idiv=function(t){var e=this,n=e.constructor;return Ie(qr(e,new n(t),0,1),n.precision)};Y.equals=Y.eq=function(t){return!this.cmp(t)};Y.exponent=function(){return rt(this)};Y.greaterThan=Y.gt=function(t){return this.cmp(t)>0};Y.greaterThanOrEqualTo=Y.gte=function(t){return this.cmp(t)>=0};Y.isInteger=Y.isint=function(){return this.e>this.d.length-2};Y.isNegative=Y.isneg=function(){return this.s<0};Y.isPositive=Y.ispos=function(){return this.s>0};Y.isZero=function(){return this.s===0};Y.lessThan=Y.lt=function(t){return this.cmp(t)<0};Y.lessThanOrEqualTo=Y.lte=function(t){return this.cmp(t)<1};Y.logarithm=Y.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wn))throw Error(Wn+"NaN");if(n.s<1)throw Error(Wn+(n.s?"NaN":"-Infinity"));return n.eq(wn)?new r(0):(Ve=!1,e=qr(Pu(n,o),Pu(t,o),o),Ve=!0,Ie(e,i))};Y.minus=Y.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hN(e,t):cN(e,(t.s=-t.s,t))};Y.modulo=Y.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Wn+"NaN");return n.s?(Ve=!1,e=qr(n,t,0,1).times(t),Ve=!0,n.minus(e)):Ie(new r(n),i)};Y.naturalExponential=Y.exp=function(){return fN(this)};Y.naturalLogarithm=Y.ln=function(){return Pu(this)};Y.negated=Y.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Y.plus=Y.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cN(e,t):hN(e,(t.s=-t.s,t))};Y.precision=Y.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ho+t);if(e=rt(i)+1,r=i.d.length-1,n=r*Ne+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Y.squareRoot=Y.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Wn+"NaN")}for(t=rt(a),Ve=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=yr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Va((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(qr(a,o,s+2)).times(.5),yr(o.d).slice(0,s)===(e=yr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ie(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return Ve=!0,Ie(r,n)};Y.times=Y.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,h=c.constructor,d=c.d,p=(t=new h(t)).d;if(!c.s||!t.s)return new h(0);for(t.s*=c.s,n=c.e+t.e,l=d.length,u=p.length,l<u&&(o=d,d=p,p=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%pt|0,e=a/pt|0;o[i]=(o[i]+e)%pt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Ve?Ie(t,h.precision):t};Y.toDecimalPlaces=Y.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Pr(t,0,ja),e===void 0?e=r.rounding:Pr(e,0,8),Ie(n,t+rt(n)+1,e))};Y.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ss(r,!0):(Pr(t,0,ja),e===void 0?e=i.rounding:Pr(e,0,8),r=Ie(new i(r),t+1,e),n=ss(r,!0,t+1)),n};Y.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ss(i):(Pr(t,0,ja),e===void 0?e=o.rounding:Pr(e,0,8),r=Ie(new o(i),t+rt(i)+1,e),n=ss(r.abs(),!1,t+rt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Y.toInteger=Y.toint=function(){var t=this,e=t.constructor;return Ie(new e(t),rt(t)+1,e.rounding)};Y.toNumber=function(){return+this};Y.toPower=Y.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(wn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Wn+"Infinity");return a}if(a.eq(wn))return a;if(r=l.precision,t.eq(wn))return Ie(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=uN){for(i=new l(wn),e=Math.ceil(r/Ne+4),Ve=!1;n%2&&(i=i.times(a),eA(i.d,e)),n=Va(n/2),n!==0;)a=a.times(a),eA(a.d,e);return Ve=!0,t.s<0?new l(wn).div(i):Ie(i,r)}}else if(o<0)throw Error(Wn+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,Ve=!1,i=t.times(Pu(a,r+u)),Ve=!0,i=fN(i),i.s=o,i};Y.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=rt(i),r=ss(i,n<=o.toExpNeg||n>=o.toExpPos)):(Pr(t,1,ja),e===void 0?e=o.rounding:Pr(e,0,8),i=Ie(new o(i),t,e),n=rt(i),r=ss(i,t<=n||n<=o.toExpNeg,t)),r};Y.toSignificantDigits=Y.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Pr(t,1,ja),e===void 0?e=r.rounding:Pr(e,0,8)),Ie(new r(n),t,e)};Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rt(t),n=t.constructor;return ss(t,e<=n.toExpNeg||e>=n.toExpPos)};function cN(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,h=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Ve?Ie(e,h):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(h/Ne),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/pt|0,l[o]%=pt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,Ve?Ie(e,h):e}function Pr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ho+t)}function yr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Ne-r.length,n&&(o+=Ti(n)),o+=r;s=t[e],r=s+"",n=Ne-r.length,n&&(o+=Ti(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var qr=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%pt|0,s=o/pt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*pt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,h,d,p,g,v,E,y,_,b,P,R,D,A,S,x=r.constructor,k=r.s==i.s?1:-1,C=r.d,N=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(Wn+"Division by zero");for(l=r.e-i.e,A=N.length,R=C.length,p=new x(k),g=p.d=[],u=0;N[u]==(C[u]||0);)++u;if(N[u]>(C[u]||0)&&--l,o==null?_=o=x.precision:s?_=o+(rt(r)-rt(i))+1:_=o,_<0)return new x(0);if(_=_/Ne+2|0,u=0,A==1)for(c=0,N=N[0],_++;(u<R||c)&&_--;u++)b=c*pt+(C[u]||0),g[u]=b/N|0,c=b%N|0;else{for(c=pt/(N[0]+1)|0,c>1&&(N=t(N,c),C=t(C,c),A=N.length,R=C.length),P=A,v=C.slice(0,A),E=v.length;E<A;)v[E++]=0;S=N.slice(),S.unshift(0),D=N[0],N[1]>=pt/2&&++D;do c=0,a=e(N,v,A,E),a<0?(y=v[0],A!=E&&(y=y*pt+(v[1]||0)),c=y/D|0,c>1?(c>=pt&&(c=pt-1),h=t(N,c),d=h.length,E=v.length,a=e(h,v,d,E),a==1&&(c--,n(h,A<d?S:N,d))):(c==0&&(a=c=1),h=N.slice()),d=h.length,d<E&&h.unshift(0),n(v,h,E),a==-1&&(E=v.length,a=e(N,v,A,E),a<1&&(c++,n(v,A<E?S:N,E))),E=v.length):a===0&&(c++,v=[0]),g[u++]=c,a&&v[0]?v[E++]=C[P]||0:(v=[C[P]],E=1);while((P++<R||v[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=l,Ie(p,s?o+rt(p)+1:o)}}();function fN(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,h=c.precision;if(rt(t)>16)throw Error(Z_+rt(t));if(!t.s)return new c(wn);for(e==null?(Ve=!1,a=h):a=e,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(xo(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(wn),c.precision=a;;){if(i=Ie(i.times(t),a),n=n.times(++l),s=o.plus(qr(i,n,a)),yr(s.d).slice(0,a)===yr(o.d).slice(0,a)){for(;u--;)o=Ie(o.times(o),a);return c.precision=h,e==null?(Ve=!0,Ie(o,h)):o}o=s}}function rt(t){for(var e=t.e*Ne,n=t.d[0];n>=10;n/=10)e++;return e}function Jm(t,e,n){if(e>t.LN10.sd())throw Ve=!0,n&&(t.precision=n),Error(Wn+"LN10 precision limit exceeded");return Ie(new t(t.LN10),e)}function Ti(t){for(var e="";t--;)e+="0";return e}function Pu(t,e){var n,r,i,o,s,a,l,u,c,h=1,d=10,p=t,g=p.d,v=p.constructor,E=v.precision;if(p.s<1)throw Error(Wn+(p.s?"NaN":"-Infinity"));if(p.eq(wn))return new v(0);if(e==null?(Ve=!1,u=E):u=e,p.eq(10))return e==null&&(Ve=!0),Jm(v,u);if(u+=d,v.precision=u,n=yr(g),r=n.charAt(0),o=rt(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=yr(p.d),r=n.charAt(0),h++;o=rt(p),r>1?(p=new v("0."+n),o++):p=new v(r+"."+n.slice(1))}else return l=Jm(v,u+2,E).times(o+""),p=Pu(new v(r+"."+n.slice(1)),u-d).plus(l),v.precision=E,e==null?(Ve=!0,Ie(p,E)):p;for(a=s=p=qr(p.minus(wn),p.plus(wn),u),c=Ie(p.times(p),u),i=3;;){if(s=Ie(s.times(c),u),l=a.plus(qr(s,new v(i),u)),yr(l.d).slice(0,u)===yr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Jm(v,u+2,E).times(o+""))),a=qr(a,new v(h),u),v.precision=E,e==null?(Ve=!0,Ie(a,E)):a;a=l,i+=2}}function ZT(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Va(n/Ne),t.d=[],r=(n+1)%Ne,n<0&&(r+=Ne),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ne;r<i;)t.d.push(+e.slice(r,r+=Ne));e=e.slice(r),r=Ne-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ve&&(t.e>Uh||t.e<-Uh))throw Error(Z_+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ie(t,e,n){var r,i,o,s,a,l,u,c,h=t.d;for(s=1,o=h[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Ne,i=e,u=h[c=0];else{if(c=Math.ceil((r+1)/Ne),o=h.length,c>=o)return t;for(u=o=h[c],s=1;o>=10;o/=10)s++;r%=Ne,i=r-Ne+s}if(n!==void 0&&(o=xo(10,s-i-1),a=u/o%10|0,l=e<0||h[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/xo(10,s-i):0:h[c-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(o=rt(t),h.length=1,e=e-o-1,h[0]=xo(10,(Ne-e%Ne)%Ne),t.e=Va(-e/Ne)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=c,o=1,c--):(h.length=c+1,o=xo(10,Ne-r),h[c]=i>0?(u/xo(10,s-i)%xo(10,i)|0)*o:0),l)for(;;)if(c==0){(h[0]+=o)==pt&&(h[0]=1,++t.e);break}else{if(h[c]+=o,h[c]!=pt)break;h[c--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(Ve&&(t.e>Uh||t.e<-Uh))throw Error(Z_+rt(t));return t}function hN(t,e){var n,r,i,o,s,a,l,u,c,h,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Ve?Ie(e,p):e;if(l=t.d,h=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=h.length):(n=h,r=u,a=l.length),i=Math.max(Math.ceil(p/Ne),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=h.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=h[i]){c=l[i]<h[i];break}s=0}for(c&&(n=l,l=h,h=n,e.s=-e.s),a=l.length,i=h.length-a;i>0;--i)l[a++]=0;for(i=h.length;i>s;){if(l[--i]<h[i]){for(o=i;o&&l[--o]===0;)l[o]=pt-1;--l[o],l[i]+=pt}l[i]-=h[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ve?Ie(e,p):e):new d(0)}function ss(t,e,n){var r,i=rt(t),o=yr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ti(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ti(-i-1)+o,n&&(r=n-s)>0&&(o+=Ti(r))):i>=s?(o+=Ti(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ti(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ti(r))),t.s<0?"-"+o:o}function eA(t,e){if(t.length>e)return t.length=e,!0}function dN(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ho+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return ZT(s,o.toString())}else if(typeof o!="string")throw Error(Ho+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,$W.test(o))ZT(s,o);else throw Error(Ho+o)}if(i.prototype=Y,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=dN,i.config=i.set=FW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function FW(t){if(!t||typeof t!="object")throw Error(Wn+"Object expected");var e,n,r,i=["precision",1,ja,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Va(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ho+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ho+n+": "+r);return this}var ew=dN(VW);wn=new ew(1);const be=ew;var UW=t=>t,pN={"@@functional/placeholder":!0},mN=t=>t===pN,tA=t=>function e(){return arguments.length===0||arguments.length===1&&mN(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},gN=(t,e)=>t===1?e:tA(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==pN).length;return o>=t?e(...r):gN(t-o,tA(function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];var u=r.map(c=>mN(c)?a.shift():c);return e(...u,...a)}))}),gp=t=>gN(t.length,t),tv=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},BW=gp((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),zW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return UW;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((a,l)=>l(a),o(...arguments))}},nv=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),yN=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e&&i.every((s,a)=>{var l;return s===((l=e)===null||l===void 0?void 0:l[a])})||(e=i,n=t(...i)),n}};function vN(t){var e;return t===0?e=1:e=Math.floor(new be(t).abs().log(10).toNumber())+1,e}function _N(t,e,n){for(var r=new be(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}gp((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});gp((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});gp((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var wN=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},EN=(t,e,n)=>{if(t.lte(0))return new be(0);var r=vN(t.toNumber()),i=new be(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new be(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?new be(l.toNumber()):new be(Math.ceil(l.toNumber()))},WW=(t,e,n)=>{var r=new be(1),i=new be(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new be(10).pow(vN(t)-1),i=new be(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new be(Math.floor(t)))}else t===0?i=new be(Math.floor((e-1)/2)):n||(i=new be(Math.floor(t)));var s=Math.floor((e-1)/2),a=zW(BW(l=>i.add(new be(l-s).mul(r)).toNumber()),tv);return a(0,e)},bN=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new be(0),tickMin:new be(0),tickMax:new be(0)};var s=EN(new be(n).sub(e).div(r-1),i,o),a;e<=0&&n>=0?a=new be(0):(a=new be(e).add(n).div(2),a=a.sub(new be(a).mod(s)));var l=Math.ceil(a.sub(e).div(s).toNumber()),u=Math.ceil(new be(n).sub(a).div(s).toNumber()),c=l+u+1;return c>r?bN(e,n,r,i,o+1):(c<r&&(u=n>0?u+(r-c):u,l=n>0?l:l+(r-c)),{step:s,tickMin:a.sub(new be(l).mul(s)),tickMax:a.add(new be(u).mul(s))})};function KW(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[s,a]=wN([e,n]);if(s===-1/0||a===1/0){var l=a===1/0?[s,...tv(0,r-1).map(()=>1/0)]:[...tv(0,r-1).map(()=>-1/0),a];return e>n?nv(l):l}if(s===a)return WW(s,r,i);var{step:u,tickMin:c,tickMax:h}=bN(s,a,o,i,0),d=_N(c,h.add(new be(.1).mul(u)),u);return e>n?nv(d):d}function HW(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=wN([n,r]);if(o===-1/0||s===1/0)return[n,r];if(o===s)return[o];var a=Math.max(e,2),l=EN(new be(s).sub(o).div(a-1),i,0),u=[..._N(new be(o),new be(s),l),s];return i===!1&&(u=u.map(c=>Math.round(c))),n>r?nv(u):u}var qW=yN(KW),GW=yN(HW),YW=t=>t.rootProps.barCategoryGap,yp=t=>t.rootProps.stackOffset,tw=t=>t.options.chartName,nw=t=>t.rootProps.syncId,SN=t=>t.rootProps.syncMethod,rw=t=>t.options.eventEmitter,Lr={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},vn={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},vp=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},QW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Lr.angleAxisId,includeHidden:!1,name:void 0,reversed:Lr.reversed,scale:Lr.scale,tick:Lr.tick,tickCount:void 0,ticks:void 0,type:Lr.type,unit:void 0},XW={allowDataOverflow:vn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,ticks:void 0,type:vn.type,unit:void 0},JW={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Lr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Lr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Lr.scale,tick:Lr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ZW={allowDataOverflow:vn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:vn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vn.scale,tick:vn.tick,tickCount:vn.tickCount,ticks:void 0,type:"category",unit:void 0},iw=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?JW:QW,ow=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?ZW:XW,_p=t=>t.polarOptions,sw=V([ci,fi,Ct],pB),TN=V([_p,sw],(t,e)=>{if(t!=null)return io(t.innerRadius,e,0)}),AN=V([_p,sw],(t,e)=>{if(t!=null)return io(t.outerRadius,e,e*.8)}),eK=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},xN=V([_p],eK);V([iw,xN],vp);var IN=V([sw,TN,AN],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});V([ow,IN],vp);var PN=V([Te,_p,TN,AN,ci,fi],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:a,startAngle:l,endAngle:u}=e;return{cx:io(s,i,i/2),cy:io(a,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),it=(t,e)=>e,wp=(t,e,n)=>n;function aw(t){return t==null?void 0:t.id}var ct=t=>{var e=Te(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$a=t=>t.tooltip.settings.axisId,ft=t=>{var e=ct(t),n=$a(t);return Xu(t,e,n)};function CN(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,o=new Map;return t.forEach(s=>{var a,l=(a=s.data)!==null&&a!==void 0?a:r;if(!(l==null||l.length===0)){var u=aw(s);l.forEach((c,h)=>{var d=i==null?h:String(xt(c,i,null)),p=xt(c,s.dataKey,0),g;o.has(d)?g=o.get(d):g={},Object.assign(g,{[u]:p}),o.set(d,g)})}}),Array.from(o.values())}function lw(t){return t.stackId!=null&&t.dataKey!=null}function nA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(n),!0).forEach(function(r){tK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tK(t,e,n){return(e=nK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nK(t){var e=rK(t,"string");return typeof e=="symbol"?e:e+""}function rK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=[0,"auto"],mn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},di=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??mn},gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:op},mo=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??gn},iK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uw=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??iK},hn=(t,e,n)=>{switch(e){case"xAxis":return di(t,n);case"yAxis":return mo(t,n);case"zAxis":return uw(t,n);case"angleAxis":return iw(t,n);case"radiusAxis":return ow(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},oK=(t,e,n)=>{switch(e){case"xAxis":return di(t,n);case"yAxis":return mo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xu=(t,e,n)=>{switch(e){case"xAxis":return di(t,n);case"yAxis":return mo(t,n);case"angleAxis":return iw(t,n);case"radiusAxis":return ow(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},kN=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ON(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var cw=t=>t.graphicalItems.cartesianItems,sK=V([it,wp],ON),RN=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Ju=V([cw,hn,sK],RN),NN=V([Ju],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(lw)),DN=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),MN=V([Ju],DN),LN=t=>t.map(e=>e.data).filter(Boolean).flat(1),aK=V([Ju],LN),jN=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},fw=V([aK,mp],jN),VN=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:xt(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:xt(i,r)}))):t.map(r=>({value:r})),Ep=V([fw,hn,Ju],VN);function $N(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ps(t){return t.filter(e=>Ir(e)||e instanceof Date).map(Number).filter(e=>An(e)===!1)}function lK(t,e,n){return!n||typeof e!="number"||An(e)?[]:n.length?ps(n.flatMap(r=>{var i=xt(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!Xt(o)||!Xt(s)))return[e-o,e+s]})):[]}var uK=V([NN,mp,ft],CN),FN=(t,e,n)=>{var r={},i=e.reduce((o,s)=>(s.stackId==null||(o[s.stackId]==null&&(o[s.stackId]=[]),o[s.stackId].push(s)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[s,a]=o,l=a.map(aw);return[s,{stackedData:CB(t,l,n),graphicalItems:a}]}))},iv=V([uK,NN,yp],FN),UN=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var o=NB(t,r,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},cK=V([iv,po,it],UN),BN=(t,e,n,r,i)=>n.length>0?t.flatMap(o=>n.flatMap(s=>{var a,l,u=(a=r[s.id])===null||a===void 0?void 0:a.filter(h=>$N(i,h)),c=xt(o,(l=e.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:lK(o,c,u)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(o=>({value:xt(o,e.dataKey),errorDomain:[]})):t.map(o=>({value:o,errorDomain:[]})),bp=t=>t.errorBars,zN=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>$N(n,r));V([MN,bp,it],zN);var fK=V([fw,hn,MN,bp,it],BN);function hK(t){var{value:e}=t;if(Ir(e)||e instanceof Date)return e}var rA=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ps(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},dK=(t,e,n)=>{var r=t.map(hK).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Uk(r))?PR(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},hw=t=>{var e;if(t==null||!("domain"in t))return rv;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ps(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:rv},zh=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),a=Math.max(...o);return[s,a]}},WN=t=>t.referenceElements.dots,Fa=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),pK=V([WN,it,wp],Fa),KN=t=>t.referenceElements.areas,mK=V([KN,it,wp],Fa),HN=t=>t.referenceElements.lines,gK=V([HN,it,wp],Fa),qN=(t,e)=>{var n=ps(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yK=V(pK,it,qN),GN=(t,e)=>{var n=ps(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vK=V([mK,it],GN),YN=(t,e)=>{var n=ps(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},_K=V(gK,it,YN),wK=V(yK,_K,vK,(t,e,n)=>zh(t,n,e)),EK=V([hn],hw),QN=(t,e,n,r,i,o,s)=>{var a=LW(e,t.allowDataOverflow);if(a!=null)return a;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?zh(n,i,rA(r)):zh(i,rA(r));return jW(e,u,t.allowDataOverflow)},bK=V([hn,EK,cK,fK,wK,Te,it],QN),SK=[0,1],XN=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:a,type:l}=t,u=Cr(e,o);return u&&a==null?PR(0,n.length):l==="category"?dK(r,t,u):i==="expand"?SK:s}},dw=V([hn,Te,fw,Ep,yp,it,bK],XN),JN=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var a="scale".concat(a_(o));return a in Cl?a:"point"}}},Zu=V([hn,Te,kN,tw,it],JN);function TK(t){if(t!=null){if(t in Cl)return Cl[t]();var e="scale".concat(a_(t));if(e in Cl)return Cl[e]()}}function pw(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=TK(e);if(i!=null){var o=i.domain(n).range(r);return AB(o),o}}}var ZN=(t,e,n)=>{var r=hw(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Sa(t))return qW(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Sa(t))return GW(t,e.tickCount,e.allowDecimals)}},mw=V([dw,Xu,Zu],ZN),e2=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Sa(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],a=n[n.length-1];return[Math.min(i,o),Math.max(s,a)]}return e},AK=V([hn,dw,mw,it],e2),xK=V(Ep,hn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ps(t.map(a=>a.value))).sort((a,l)=>a-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),t2=V(xK,Te,YW,Ct,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Xt(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=io(n,t*o),a=t*o/2;return a-s-(a-s)/o*s}return 0}),IK=(t,e)=>{var n=di(t,e);return n==null||typeof n.padding!="string"?0:t2(t,"xAxis",e,n.padding)},PK=(t,e)=>{var n=mo(t,e);return n==null||typeof n.padding!="string"?0:t2(t,"yAxis",e,n.padding)},CK=V(di,IK,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),kK=V(mo,PK,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),OK=V([Ct,CK,ap,sp,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),RK=V([Ct,Te,kK,ap,sp,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ec=(t,e,n,r)=>{var i;switch(e){case"xAxis":return OK(t,n,r);case"yAxis":return RK(t,n,r);case"zAxis":return(i=uw(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return xN(t);case"radiusAxis":return IN(t,n);default:return}},n2=V([hn,ec],vp),Ua=V([hn,Zu,AK,n2],pw);V([Ju,bp,it],zN);function r2(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Sp=(t,e)=>e,Tp=(t,e,n)=>n,NK=V(x_,Sp,Tp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(r2)),DK=V(I_,Sp,Tp,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(r2)),i2=(t,e)=>({width:t.width,height:e.height}),MK=(t,e)=>{var n=typeof e.width=="number"?e.width:op;return{width:n,height:t.height}},LK=V(Ct,di,i2),jK=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},VK=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},$K=V(fi,Ct,NK,Sp,Tp,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=i2(e,a);s==null&&(s=jK(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;o[a.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),o}),FK=V(ci,Ct,DK,Sp,Tp,(t,e,n,r,i)=>{var o={},s;return n.forEach(a=>{var l=MK(e,a);s==null&&(s=VK(e,r,t));var u=r==="left"&&!i||r==="right"&&i;o[a.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),o}),UK=(t,e)=>{var n=Ct(t),r=di(t,e);if(r!=null){var i=$K(t,r.orientation,r.mirror),o=i[e];return o==null?{x:n.left,y:0}:{x:n.left,y:o}}},BK=(t,e)=>{var n=Ct(t),r=mo(t,e);if(r!=null){var i=FK(t,r.orientation,r.mirror),o=i[e];return o==null?{x:0,y:n.top}:{x:o,y:n.top}}},zK=V(Ct,mo,(t,e)=>{var n=typeof e.width=="number"?e.width:op;return{width:n,height:t.height}}),o2=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,a=Cr(t,r),l=e.map(u=>u.value);if(s&&a&&o==="category"&&i&&Uk(l))return l}},gw=V([Te,Ep,hn,it],o2),s2=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Cr(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(a=>a.value)}},yw=V([Te,Ep,Xu,it],s2),iA=V([Te,oK,Zu,Ua,gw,yw,ec,mw,it],(t,e,n,r,i,o,s,a,l)=>{if(e==null)return null;var u=Cr(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:a,range:s,realScaleType:n,scale:r}}),WK=(t,e,n,r,i,o,s,a,l)=>{if(!(e==null||r==null)){var u=Cr(t,l),{type:c,ticks:h,tickCount:d}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=c==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&o!=null&&o.length>=2?Vn(o[0]-o[1])*2*g:g;var v=h||i;if(v){var E=v.map((y,_)=>{var b=s?s.indexOf(y):y;return{index:_,coordinate:r(b)+g,value:y,offset:g}});return E.filter(y=>!An(y.coordinate))}return u&&a?a.map((y,_)=>({coordinate:r(y)+g,value:y,index:_,offset:g})):r.ticks?r.ticks(d).map(y=>({coordinate:r(y)+g,value:y,offset:g})):r.domain().map((y,_)=>({coordinate:r(y)+g,value:s?s[y]:y,index:_,offset:g}))}},a2=V([Te,Xu,Zu,Ua,mw,ec,gw,yw,it],WK),KK=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var a=Cr(t,s),{tickCount:l}=e,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Vn(r[0]-r[1])*2*u:u,a&&o?o.map((c,h)=>({coordinate:n(c)+u,value:c,index:h,offset:u})):n.ticks?n.ticks(l).map(c=>({coordinate:n(c)+u,value:c,offset:u})):n.domain().map((c,h)=>({coordinate:n(c)+u,value:i?i[c]:c,index:h,offset:u}))}},Ap=V([Te,Xu,Ua,ec,gw,yw,it],KK),xp=V(hn,Ua,(t,e)=>{if(!(t==null||e==null))return Bh(Bh({},t),{},{scale:e})}),HK=V([hn,Zu,dw,n2],pw);V((t,e,n)=>uw(t,n),HK,(t,e)=>{if(!(t==null||e==null))return Bh(Bh({},t),{},{scale:e})});var qK=V([Te,x_,I_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),l2=t=>t.options.defaultTooltipEventType,u2=t=>t.options.validateTooltipEventTypes;function c2(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function vw(t,e){var n=l2(t),r=u2(t);return c2(e,n,r)}function GK(t){return Z(e=>vw(e,t))}var f2=(t,e)=>{var n,r=Number(e);if(!(An(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},YK=t=>t.tooltip.settings,Oi={active:!1,index:null,dataKey:void 0,coordinate:void 0},QK={itemInteraction:{click:Oi,hover:Oi},axisInteraction:{click:Oi,hover:Oi},keyboardInteraction:Oi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},h2=kn({name:"tooltip",initialState:QK,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Hr(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:XK,removeTooltipEntrySettings:JK,setTooltipSettingsState:ZK,setActiveMouseOverItemIndex:eH,mouseLeaveItem:AJ,mouseLeaveChart:d2,setActiveClickItemIndex:xJ,setMouseOverAxisIndex:p2,setMouseClickAxisIndex:tH,setSyncInteraction:ov,setKeyboardInteraction:sv}=h2.actions,nH=h2.reducer;function oA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oA(Object(n),!0).forEach(function(r){rH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rH(t,e,n){return(e=iH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iH(t){var e=oH(t,"string");return typeof e=="symbol"?e:e+""}function oH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sH(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function aH(t){return t.index!=null}var m2=(t,e,n,r)=>{if(e==null)return Oi;var i=sH(t,e,n);if(i==null)return Oi;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(aH(i)){if(o)return nf(nf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return nf(nf({},Oi),{},{coordinate:i.coordinate})},_w=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Xt(r))return n;var i=0,o=1/0;return e.length>0&&(o=e.length-1),String(Math.max(i,Math.min(r,o)))},g2=(t,e,n,r,i,o,s,a)=>{if(!(o==null||a==null)){var l=s[0],u=l==null?void 0:a(l.positions,o);if(u!=null)return u;var c=i==null?void 0:i[Number(o)];if(c)switch(n){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:c.coordinate}}}},y2=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},tc=t=>t.options.tooltipPayloadSearcher,Ba=t=>t.tooltip;function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){lH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lH(t,e,n){return(e=uH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uH(t){var e=cH(t,"string");return typeof e=="symbol"?e:e+""}function cH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fH(t,e){return t??e}var v2=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:a,computedData:l,dataStartIndex:u,dataEndIndex:c}=n,h=[];return t.reduce((d,p)=>{var g,{dataDefinedOnItem:v,settings:E}=p,y=fH(v,a),_=Array.isArray(y)?rR(y,u,c):y,b=(g=E==null?void 0:E.dataKey)!==null&&g!==void 0?g:r==null?void 0:r.dataKey,P=E==null?void 0:E.nameKey,R;if(r!=null&&r.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?R=Bk(_,r.dataKey,i):R=o(_,e,l,P),Array.isArray(R))R.forEach(A=>{var S=aA(aA({},E),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});d.push(XS({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:xt(A.payload,A.dataKey),name:A.name}))});else{var D;d.push(XS({tooltipEntrySettings:E,dataKey:b,payload:R,value:xt(R,b),name:(D=xt(R,P))!==null&&D!==void 0?D:E==null?void 0:E.name}))}return d},h)}},ww=V([ft,Te,kN,tw,ct],JN),hH=V([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),dH=V([ct,$a],ON),nc=V([hH,ft,dH],RN),pH=V([nc],t=>t.filter(lw)),mH=V([nc],LN),za=V([mH,po],jN),gH=V([pH,po,ft],CN),Ew=V([za,ft,nc],VN),yH=V([ft],hw),vH=V([nc],t=>t.filter(lw)),_H=V([gH,vH,yp],FN),wH=V([_H,po,ct],UN),EH=V([nc],DN),bH=V([za,ft,EH,bp,ct],BN),SH=V([WN,ct,$a],Fa),TH=V([SH,ct],qN),AH=V([KN,ct,$a],Fa),xH=V([AH,ct],GN),IH=V([HN,ct,$a],Fa),PH=V([IH,ct],YN),CH=V([TH,PH,xH],zh),kH=V([ft,yH,wH,bH,CH,Te,ct],QN),_2=V([ft,Te,za,Ew,yp,ct,kH],XN),OH=V([_2,ft,ww],ZN),RH=V([ft,_2,OH,ct],e2),w2=t=>{var e=ct(t),n=$a(t),r=!1;return ec(t,e,n,r)},E2=V([ft,w2],vp),b2=V([ft,ww,RH,E2],pw),NH=V([Te,Ew,ft,ct],o2),DH=V([Te,Ew,ft,ct],s2),MH=(t,e,n,r,i,o,s,a)=>{if(e){var{type:l}=e,u=Cr(t,a);if(r){var c=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=l==="category"&&r.bandwidth?r.bandwidth()/c:0;return h=a==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Vn(i[0]-i[1])*2*h:h,u&&s?s.map((d,p)=>({coordinate:r(d)+h,value:d,index:p,offset:h})):r.domain().map((d,p)=>({coordinate:r(d)+h,value:o?o[d]:d,index:p,offset:h}))}}},pi=V([Te,ft,ww,b2,w2,NH,DH,ct],MH),bw=V([l2,u2,YK],(t,e,n)=>c2(n.shared,t,e)),S2=t=>t.tooltip.settings.trigger,Sw=t=>t.tooltip.settings.defaultIndex,Ip=V([Ba,bw,S2,Sw],m2),Cu=V([Ip,za],_w),T2=V([pi,Cu],f2),LH=V([Ip],t=>{if(t)return t.dataKey}),A2=V([Ba,bw,S2,Sw],y2),jH=V([ci,fi,Te,Ct,pi,Sw,A2,tc],g2),VH=V([Ip,jH],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),$H=V([Ip],t=>t.active),FH=V([A2,Cu,po,ft,T2,tc,bw],v2),UH=V([FH],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function lA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lA(Object(n),!0).forEach(function(r){BH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BH(t,e,n){return(e=zH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zH(t){var e=WH(t,"string");return typeof e=="symbol"?e:e+""}function WH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KH=()=>Z(ft),HH=()=>{var t=KH(),e=Z(pi),n=Z(b2);return bu(uA(uA({},t),{},{scale:n}),e)},x2=()=>Z(tw),Tw=(t,e)=>e,I2=(t,e,n)=>n,Aw=(t,e,n,r)=>r,qH=V(pi,t=>Xd(t,e=>e.coordinate)),xw=V([Ba,Tw,I2,Aw],m2),P2=V([xw,za],_w),GH=(t,e,n)=>{if(e!=null){var r=Ba(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},C2=V([Ba,Tw,I2,Aw],y2),Wh=V([ci,fi,Te,Ct,pi,Aw,C2,tc],g2),YH=V([xw,Wh],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),k2=V(pi,P2,f2),QH=V([C2,P2,po,ft,k2,tc,Tw],v2),XH=V([xw],t=>({isActive:t.active,activeIndex:t.index})),JH=(t,e,n,r,i,o,s,a)=>{if(!(!t||!e||!r||!i||!o)){var l=DB(t.chartX,t.chartY,e,n,a);if(l){var u=LB(l,e),c=SB(u,s,o,r,i),h=MB(e,o,c,l);return{activeIndex:String(c),activeCoordinate:h}}}};function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(null,arguments)}function cA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(n),!0).forEach(function(r){ZH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZH(t,e,n){return(e=eq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eq(t){var e=tq(t,"string");return typeof e=="symbol"?e:e+""}function tq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nq(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:s,cursor:a,tooltipEventType:l,chartName:u}=t,c=e,h=n,d=r;if(!a||!c||u!=="ScatterChart"&&l!=="axis")return null;var p,g;if(u==="ScatterChart")p=c,g=Sz;else if(u==="BarChart")p=Tz(s,c,i,o),g=e8;else if(s==="radial"){var{cx:v,cy:E,radius:y,startAngle:_,endAngle:b}=SR(c);p={cx:v,cy:E,startAngle:_,endAngle:b,innerRadius:y,outerRadius:y},g=i8}else p={points:o8(s,c,i)},g=Kl;var P=typeof a=="object"&&"className"in a?a.className:void 0,R=rf(rf(rf(rf({stroke:"#ccc",pointerEvents:"none"},i),p),nt(a,!1)),{},{payload:h,payloadIndex:d,className:xe("recharts-tooltip-cursor",P)});return T.isValidElement(a)?T.cloneElement(a,R):T.createElement(g,R)}function rq(t){var e=HH(),n=lR(),r=lp(),i=x2();return T.createElement(nq,av({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var O2=T.createContext(null),iq=()=>T.useContext(O2),R2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,p=h.length,g=new Array(p);d<p;d++)g[d]=h[d].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,p,g){var v=n?n+u:u;if(!this._events[v])return!1;var E=this._events[v],y=arguments.length,_,b;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),y){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,c),!0;case 3:return E.fn.call(E.context,c,h),!0;case 4:return E.fn.call(E.context,c,h,d),!0;case 5:return E.fn.call(E.context,c,h,d,p),!0;case 6:return E.fn.call(E.context,c,h,d,p,g),!0}for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];E.fn.apply(E.context,_)}else{var P=E.length,R;for(b=0;b<P;b++)switch(E[b].once&&this.removeListener(u,E[b].fn,void 0,!0),y){case 1:E[b].fn.call(E[b].context);break;case 2:E[b].fn.call(E[b].context,c);break;case 3:E[b].fn.call(E[b].context,c,h);break;case 4:E[b].fn.call(E[b].context,c,h,d);break;default:if(!_)for(R=1,_=new Array(y-1);R<y;R++)_[R-1]=arguments[R];E[b].fn.apply(E[b].context,_)}}return!0},a.prototype.on=function(u,c,h){return o(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return o(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&s(this,p);else{for(var v=0,E=[],y=g.length;v<y;v++)(g[v].fn!==c||d&&!g[v].once||h&&g[v].context!==h)&&E.push(g[v]);E.length?this._events[p]=E.length===1?E[0]:E:s(this,p)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(R2);var oq=R2.exports;const sq=si(oq);var ku=new sq,lv="recharts.syncEvent.tooltip",fA="recharts.syncEvent.brush";function N2(t,e){if(e){var n=Number.parseInt(e,10);if(!An(n))return t==null?void 0:t[n]}}var aq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},D2=kn({name:"options",initialState:aq,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lq=D2.reducer,{createEventEmitter:uq}=D2.actions;function cq(t){return t.tooltip.syncInteraction}var fq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M2=kn({name:"chartData",initialState:fq,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:hA,setDataStartEndIndexes:hq,setComputedData:IJ}=M2.actions,dq=M2.reducer,L2=()=>{};function pq(){var t=Z(nw),e=Z(rw),n=en(),r=Z(SN),i=Z(pi),o=lp(),s=P_(),a=Z(l=>l.rootProps.className);T.useEffect(()=>{if(t==null)return L2;var l=(u,c,h)=>{if(e!==h&&t===u){if(r==="index"){n(c);return}if(i!=null){var d;if(typeof r=="function"){var p={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},g=r(i,p);d=i[g]}else r==="value"&&(d=i.find(D=>String(D.value)===c.payload.label));var{coordinate:v}=c.payload;if(d==null||c.payload.active===!1||v==null||s==null){n(ov({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:E,y}=v,_=Math.min(E,s.x+s.width),b=Math.min(y,s.y+s.height),P={x:o==="horizontal"?d.coordinate:_,y:o==="horizontal"?b:d.coordinate},R=ov({active:c.payload.active,coordinate:P,dataKey:c.payload.dataKey,index:String(d.index),label:c.payload.label});n(R)}}};return ku.on(lv,l),()=>{ku.off(lv,l)}},[a,n,e,t,r,i,o,s])}function mq(){var t=Z(nw),e=Z(rw),n=en();T.useEffect(()=>{if(t==null)return L2;var r=(i,o,s)=>{e!==s&&t===i&&n(hq(o))};return ku.on(fA,r),()=>{ku.off(fA,r)}},[n,e,t])}function gq(){var t=en();T.useEffect(()=>{t(uq())},[t]),pq(),mq()}function yq(t,e,n,r,i,o){var s=Z(d=>GH(d,t,e)),a=Z(rw),l=Z(nw),u=Z(SN),c=Z(cq),h=c==null?void 0:c.active;T.useEffect(()=>{if(!h&&l!=null&&a!=null){var d=ov({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r});ku.emit(lv,l,d,a)}},[h,n,s,i,r,a,l,u,o])}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){vq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vq(t,e,n){return(e=_q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _q(t){var e=wq(t,"string");return typeof e=="symbol"?e:e+""}function wq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eq(t){return t.dataKey}function bq(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(tz,e)}var mA=[],Sq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ma.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gA(t){var e=kr(t,Sq),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:s,filterNull:a,isAnimationActive:l,offset:u,payloadUniqBy:c,position:h,reverseDirection:d,useTranslate3d:p,wrapperStyle:g,cursor:v,shared:E,trigger:y,defaultIndex:_,portal:b,axisId:P}=e,R=en(),D=typeof _=="number"?String(_):_;T.useEffect(()=>{R(ZK({shared:E,trigger:y,axisId:P,active:n,defaultIndex:D}))},[R,E,y,P,n,D]);var A=P_(),S=hR(),x=GK(E),{activeIndex:k,isActive:C}=Z(ze=>XH(ze,x,y,D)),N=Z(ze=>QH(ze,x,y,D)),O=Z(ze=>k2(ze,x,y,D)),oe=Z(ze=>YH(ze,x,y,D)),ve=N,de=iq(),Ee=n??C,[z,Q]=h9([ve,Ee]),ne=x==="axis"?O:void 0;yq(x,y,oe,ne,k,Ee);var _e=b??de;if(_e==null)return null;var K=ve??mA;Ee||(K=mA),a&&K.length&&(K=k5(ve.filter(ze=>ze.value!=null&&(ze.hide!==!0||e.includeHidden)),c,Eq));var ke=K.length>0,dn=T.createElement(lz,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:l,active:Ee,coordinate:oe,hasPayload:ke,offset:u,position:h,reverseDirection:d,useTranslate3d:p,viewBox:A,wrapperStyle:g,lastBoundingBox:z,innerRef:Q,hasPortalFromProps:!!b},bq(s,pA(pA({},e),{},{payload:K,label:ne,active:Ee,coordinate:oe,accessibilityLayer:S})));return T.createElement(T.Fragment,null,uP.createPortal(dn,_e),Ee&&T.createElement(rq,{cursor:v,tooltipEventType:x,coordinate:oe,payload:ve,index:k}))}var j2={},V2={},$2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,a=null;const l=o!=null&&o.includes("leading"),u=o==null||o.includes("trailing"),c=()=>{a!==null&&(n.apply(s,a),s=void 0,a=null)},h=()=>{u&&c(),v()};let d=null;const p=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,h()},r)},g=()=>{d!==null&&(clearTimeout(d),d=null)},v=()=>{g(),s=void 0,a=null},E=()=>{c()},y=function(..._){if(i!=null&&i.aborted)return;s=this,a=_;const b=d==null;p(),l&&b&&c()};return y.schedule=p,y.cancel=v,y.flush=E,i==null||i.addEventListener("abort",v,{once:!0}),y}t.debounce=e})($2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$2;function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:a=!0,maxWait:l}=o,u=Array(2);s&&(u[0]="leading"),a&&(u[1]="trailing");let c,h=null;const d=e.debounce(function(...v){c=r.apply(this,v),h=null},i,{edges:u}),p=function(...v){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(c=r.apply(this,v),h=Date.now(),d.cancel(),d.schedule(),c):(d.apply(this,v),c)},g=()=>(d.flush(),c);return p.cancel=d.cancel,p.flush=g,p}t.debounce=n})(V2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=V2;function n(r,i=0,o={}){const{leading:s=!0,trailing:a=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:a})}t.throttle=n})(j2);var Tq=j2.throttle;const Aq=si(Tq);var Hl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function yA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yA(Object(n),!0).forEach(function(r){xq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xq(t,e,n){return(e=Iq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iq(t){var e=Pq(t,"string");return typeof e=="symbol"?e:e+""}function Pq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vA=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:o="100%",minWidth:s=0,minHeight:a,maxHeight:l,children:u,debounce:c=0,id:h,className:d,onResize:p,style:g={}}=t,v=T.useRef(null),E=T.useRef();E.current=p,T.useImperativeHandle(e,()=>v.current);var[y,_]=T.useState({containerWidth:r.width,containerHeight:r.height}),b=T.useCallback((R,D)=>{_(A=>{var S=Math.round(R),x=Math.round(D);return A.containerWidth===S&&A.containerHeight===x?A:{containerWidth:S,containerHeight:x}})},[]);T.useEffect(()=>{var R=x=>{var k,{width:C,height:N}=x[0].contentRect;b(C,N),(k=E.current)===null||k===void 0||k.call(E,C,N)};c>0&&(R=Aq(R,c,{trailing:!0,leading:!1}));var D=new ResizeObserver(R),{width:A,height:S}=v.current.getBoundingClientRect();return b(A,S),D.observe(v.current),()=>{D.disconnect()}},[b,c]);var P=T.useMemo(()=>{var{containerWidth:R,containerHeight:D}=y;if(R<0||D<0)return null;Hl(Oo(i)||Oo(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,o),Hl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var A=Oo(i)?R:i,S=Oo(o)?D:o;return n&&n>0&&(A?S=A/n:S&&(A=S*n),l&&S>l&&(S=l)),Hl(A>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,S,i,o,s,a,n),T.Children.map(u,x=>T.cloneElement(x,{width:A,height:S,style:Zm({width:A,height:S},x.props.style)}))},[n,u,o,l,a,s,y,i]);return T.createElement("div",{id:h?"".concat(h):void 0,className:xe("recharts-responsive-container",d),style:Zm(Zm({},g),{},{width:i,height:o,minWidth:s,minHeight:a,maxHeight:l}),ref:v},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))});function Cq(t,e,n){return(e=kq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kq(t){var e=Oq(t,"string");return typeof e=="symbol"?e:e+""}function Oq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Rq{constructor(e){Cq(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function _A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_A(Object(n),!0).forEach(function(r){Dq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dq(t,e,n){return(e=Mq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mq(t){var e=Lq(t,"string");return typeof e=="symbol"?e:e+""}function Lq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jq={cacheSize:2e3,enableCache:!0},F2=Nq({},jq),wA=new Rq(F2.cacheSize),Vq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},EA="recharts_measurement_span";function $q(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",a=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(a)}var bA=(t,e)=>{try{var n=document.getElementById(EA);n||(n=document.createElement("span"),n.setAttribute("id",EA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Vq,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ql=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ma.isSsr)return{width:0,height:0};if(!F2.enableCache)return bA(e,n);var r=$q(e,n),i=wA.get(r);if(i)return i;var o=bA(e,n);return wA.set(r,o),o},SA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Uq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bq=Object.keys(U2),Vs="NaN";function zq(t,e){return t*U2[e]}class tn{static parse(e){var n,[,r,i]=(n=Uq.exec(e))!==null&&n!==void 0?n:[];return new tn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,An(e)&&(this.unit=""),n!==""&&!Fq.test(n)&&(this.num=NaN,this.unit=""),Bq.includes(n)&&(this.num=zq(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new tn(NaN,""):new tn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new tn(NaN,""):new tn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tn(NaN,""):new tn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new tn(NaN,""):new tn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return An(this.num)}}function B2(t){if(t.includes(Vs))return Vs;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=SA.exec(e))!==null&&n!==void 0?n:[],s=tn.parse(r??""),a=tn.parse(o??""),l=i==="*"?s.multiply(a):s.divide(a);if(l.isNaN())return Vs;e=e.replace(SA,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,c,h,d]=(u=TA.exec(e))!==null&&u!==void 0?u:[],p=tn.parse(c??""),g=tn.parse(d??""),v=h==="+"?p.add(g):p.subtract(g);if(v.isNaN())return Vs;e=e.replace(TA,v.toString())}return e}var AA=/\(([^()]*)\)/;function Wq(t){for(var e=t,n;(n=AA.exec(e))!=null;){var[,r]=n;e=e.replace(AA,B2(r))}return e}function Kq(t){var e=t.replace(/\s+/g,"");return e=Wq(e),e=B2(e),e}function Hq(t){try{return Kq(t)}catch{return Vs}}function eg(t){var e=Hq(t.slice(5,-1));return e===Vs?"":e}var qq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gq=["dx","dy","angle","className","breakAll"];function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uv.apply(null,arguments)}function xA(t,e){if(t==null)return{};var n,r,i=Yq(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yq(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var z2=/[ \f\n\r\t\v\u2028\u2029]+/,W2=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Qe(e)||(n?i=e.toString().split(""):i=e.toString().split(z2));var o=i.map(a=>({word:a,width:ql(a,r).width})),s=n?0:ql(" ",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Qq=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:a,breakAll:l}=t,u=J(o),c=s,h=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((N,O)=>{var{word:oe,width:ve}=O,de=N[N.length-1];if(de&&(r==null||i||de.width+ve+n<Number(r)))de.words.push(oe),de.width+=ve+n;else{var Ee={words:[oe],width:ve};N.push(Ee)}return N},[])},d=h(e),p=k=>k.reduce((C,N)=>C.width>N.width?C:N);if(!u||i)return d;var g=d.length>o||p(d).width>Number(r);if(!g)return d;for(var v="…",E=k=>{var C=c.slice(0,k),N=W2({breakAll:l,style:a,children:C+v}).wordsWithComputedWidth,O=h(N),oe=O.length>o||p(O).width>Number(r);return[oe,O]},y=0,_=c.length-1,b=0,P;y<=_&&b<=c.length-1;){var R=Math.floor((y+_)/2),D=R-1,[A,S]=E(D),[x]=E(R);if(!A&&!x&&(y=R+1),A&&x&&(_=R-1),!A&&x){P=S;break}b++}return P||d},IA=t=>{var e=Qe(t)?[]:t.toString().split(z2);return[{words:e}]},Xq=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!Ma.isSsr){var a,l,u=W2({breakAll:o,children:r,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:h}=u;a=c,l=h}else return IA(r);return Qq({breakAll:o,children:r,maxLines:s,style:i},a,l,e,n)}return IA(r)},PA="#808080",Iw=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:s=!1,textAnchor:a="start",verticalAnchor:l="end",fill:u=PA}=t,c=xA(t,qq),h=T.useMemo(()=>Xq({breakAll:c.breakAll,children:c.children,maxLines:c.maxLines,scaleToFit:s,style:c.style,width:c.width}),[c.breakAll,c.children,c.maxLines,s,c.style,c.width]),{dx:d,dy:p,angle:g,className:v,breakAll:E}=c,y=xA(c,Gq);if(!Ir(n)||!Ir(r))return null;var _=n+(J(d)?d:0),b=r+(J(p)?p:0),P;switch(l){case"start":P=eg("calc(".concat(o,")"));break;case"middle":P=eg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:P=eg("calc(".concat(h.length-1," * -").concat(i,")"));break}var R=[];if(s){var D=h[0].width,{width:A}=c;R.push("scale(".concat(J(A)?A/D:1,")"))}return g&&R.push("rotate(".concat(g,", ").concat(_,", ").concat(b,")")),R.length&&(y.transform=R.join(" ")),T.createElement("text",uv({},nt(y,!0),{ref:e,x:_,y:b,className:xe("recharts-text",v),textAnchor:a,fill:u.includes("url")?PA:u}),h.map((S,x)=>{var k=S.words.join(E?"":" ");return T.createElement("tspan",{x:_,dy:x===0?P:i,key:"".concat(k,"-").concat(x)},k)}))});Iw.displayName="Text";var Jq=["offset"],Zq=["labelRef"];function CA(t,e){if(t==null)return{};var n,r,i=eG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kA(Object(n),!0).forEach(function(r){tG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tG(t,e,n){return(e=nG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nG(t){var e=rG(t,"string");return typeof e=="symbol"?e:e+""}function rG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jr(){return jr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jr.apply(null,arguments)}var iG=t=>{var{value:e,formatter:n}=t,r=Qe(t.children)?e:t.children;return typeof n=="function"?n(r):r},Pw=t=>t!=null&&typeof t=="function",oG=(t,e)=>{var n=Vn(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sG=(t,e,n,r)=>{var{position:i,offset:o,className:s}=t,{cx:a,cy:l,innerRadius:u,outerRadius:c,startAngle:h,endAngle:d,clockWise:p}=r,g=(u+c)/2,v=oG(h,d),E=v>=0?1:-1,y,_;i==="insideStart"?(y=h+E*o,_=p):i==="insideEnd"?(y=d-E*o,_=!p):i==="end"&&(y=d+E*o,_=p),_=v<=0?_:!_;var b=Tt(a,l,g,y),P=Tt(a,l,g,y+(_?1:-1)*359),R="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),D=Qe(t.id)?_u("recharts-radial-line-"):t.id;return T.createElement("text",jr({},n,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:D,d:R})),T.createElement("textPath",{xlinkHref:"#".concat(D)},e))},aG=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:a,endAngle:l}=t,u=(a+l)/2;if(n==="outside"){var{x:c,y:h}=Tt(r,i,s+e,u);return{x:c,y:h,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(o+s)/2,{x:p,y:g}=Tt(r,i,d,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},lG=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:o,y:s,width:a,height:l}=e,u=l>=0?1:-1,c=u*r,h=u>0?"end":"start",d=u>0?"start":"end",p=a>=0?1:-1,g=p*r,v=p>0?"end":"start",E=p>0?"start":"end";if(i==="top"){var y={x:o+a/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h};return Ke(Ke({},y),n?{height:Math.max(s-n.y,0),width:a}:{})}if(i==="bottom"){var _={x:o+a/2,y:s+l+c,textAnchor:"middle",verticalAnchor:d};return Ke(Ke({},_),n?{height:Math.max(n.y+n.height-(s+l),0),width:a}:{})}if(i==="left"){var b={x:o-g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"};return Ke(Ke({},b),n?{width:Math.max(b.x-n.x,0),height:l}:{})}if(i==="right"){var P={x:o+a+g,y:s+l/2,textAnchor:E,verticalAnchor:"middle"};return Ke(Ke({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:l}:{})}var R=n?{width:a,height:l}:{};return i==="insideLeft"?Ke({x:o+g,y:s+l/2,textAnchor:E,verticalAnchor:"middle"},R):i==="insideRight"?Ke({x:o+a-g,y:s+l/2,textAnchor:v,verticalAnchor:"middle"},R):i==="insideTop"?Ke({x:o+a/2,y:s+c,textAnchor:"middle",verticalAnchor:d},R):i==="insideBottom"?Ke({x:o+a/2,y:s+l-c,textAnchor:"middle",verticalAnchor:h},R):i==="insideTopLeft"?Ke({x:o+g,y:s+c,textAnchor:E,verticalAnchor:d},R):i==="insideTopRight"?Ke({x:o+a-g,y:s+c,textAnchor:v,verticalAnchor:d},R):i==="insideBottomLeft"?Ke({x:o+g,y:s+l-c,textAnchor:E,verticalAnchor:h},R):i==="insideBottomRight"?Ke({x:o+a-g,y:s+l-c,textAnchor:v,verticalAnchor:h},R):i&&typeof i=="object"&&(J(i.x)||Oo(i.x))&&(J(i.y)||Oo(i.y))?Ke({x:o+io(i.x,a),y:s+io(i.y,l),textAnchor:"end",verticalAnchor:"end"},R):Ke({x:o+a/2,y:s+l/2,textAnchor:"middle",verticalAnchor:"middle"},R)},uG=t=>"cx"in t&&J(t.cx);function _n(t){var{offset:e=5}=t,n=CA(t,Jq),r=Ke({offset:e},n),{viewBox:i,position:o,value:s,children:a,content:l,className:u="",textBreakAll:c,labelRef:h}=r,d=Z(PN),p=P_(),g=o==="center"?p:d??p,v=i||g;if(!v||Qe(s)&&Qe(a)&&!T.isValidElement(l)&&typeof l!="function")return null;var E=Ke(Ke({},r),{},{viewBox:v});if(T.isValidElement(l)){var y=CA(E,Zq);return T.cloneElement(l,y)}var _;if(typeof l=="function"){if(_=T.createElement(l,E),T.isValidElement(_))return _}else _=iG(r);var b=uG(v),P=nt(r,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sG(r,_,P,v);var R=b?aG(v,r.offset,r.position):lG(r,v);return T.createElement(Iw,jr({ref:h,className:xe("recharts-label",u)},P,R,{breakAll:c}),_)}_n.displayName="Label";var K2=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:o,r:s,radius:a,innerRadius:l,outerRadius:u,x:c,y:h,top:d,left:p,width:g,height:v,clockWise:E,labelViewBox:y}=t;if(y)return y;if(J(g)&&J(v)){if(J(c)&&J(h))return{x:c,y:h,width:g,height:v};if(J(d)&&J(p))return{x:d,y:p,width:g,height:v}}if(J(c)&&J(h))return{x:c,y:h,width:0,height:0};if(J(e)&&J(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||a||s||0,clockWise:E};if(t.viewBox)return t.viewBox},cG=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(_n,jr({key:"label-implicit"},r)):Ir(t)?T.createElement(_n,jr({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===_n?T.cloneElement(t,Ke({key:"label-implicit"},r)):T.createElement(_n,jr({key:"label-implicit",content:t},r)):Pw(t)?T.createElement(_n,jr({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(_n,jr({},t,{key:"label-implicit"},r)):null},fG=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:o}=e,s=K2(e),a=Kk(i,_n).map((u,c)=>T.cloneElement(u,{viewBox:n||s,key:"label-".concat(c)}));if(!r)return a;var l=cG(e.label,n||s,o);return[l,...a]};_n.parseViewBox=K2;_n.renderCallByParent=fG;var H2={},q2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(q2);var G2={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(G2);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q2,n=G2,r=Hd;function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(H2);var hG=H2.last;const dG=si(hG);var pG=["valueAccessor"],mG=["data","dataKey","clockWise","id","textBreakAll"];function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(null,arguments)}function OA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OA(Object(n),!0).forEach(function(r){gG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gG(t,e,n){return(e=yG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yG(t){var e=vG(t,"string");return typeof e=="symbol"?e:e+""}function vG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NA(t,e){if(t==null)return{};var n,r,i=_G(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _G(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var wG=t=>Array.isArray(t.value)?dG(t.value):t.value;function Yi(t){var{valueAccessor:e=wG}=t,n=NA(t,pG),{data:r,dataKey:i,clockWise:o,id:s,textBreakAll:a}=n,l=NA(n,mG);return!r||!r.length?null:T.createElement(fr,{className:"recharts-label-list"},r.map((u,c)=>{var h=Qe(i)?e(u,c):xt(u&&u.payload,i),d=Qe(s)?{}:{id:"".concat(s,"-").concat(c)};return T.createElement(_n,Kh({},nt(u,!0),l,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:a,viewBox:_n.parseViewBox(Qe(o)?u:RA(RA({},u),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}Yi.displayName="LabelList";function EG(t,e){return t?t===!0?T.createElement(Yi,{key:"labelList-implicit",data:e}):T.isValidElement(t)||Pw(t)?T.createElement(Yi,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?T.createElement(Yi,Kh({data:e},t,{key:"labelList-implicit"})):null:null}function bG(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=Kk(r,Yi).map((s,a)=>T.cloneElement(s,{data:e,key:"labelList-".concat(a)}));if(!n)return i;var o=EG(t.label,e);return[o,...i]}Yi.renderCallByParent=bG;function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(null,arguments)}var Cw=t=>{var{cx:e,cy:n,r,className:i}=t,o=xe("recharts-dot",i);return e===+e&&n===+n&&r===+r?T.createElement("circle",cv({},co(t),u_(t),{className:o,cx:e,cy:n,r})):null},SG={radiusAxis:{},angleAxis:{}},TG=kn({name:"polarAxis",initialState:SG,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),AG=TG.reducer;function Y2(t){var{fn:e,args:n}=t,r=en(),i=fn();return T.useEffect(()=>{if(!i){var o=e(n);return r(XK(o)),()=>{r(JK(o))}}},[e,n,r,i]),null}var xG=()=>{};function Q2(t){var{legendPayload:e}=t,n=en(),r=fn();return T.useEffect(()=>r?xG:(n(GB(e)),()=>{n(YB(e))}),[n,r,e]),null}function X2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(_u(e)),r=T.useRef(t);return r.current!==t&&(n.current=_u(e),r.current=t),n.current}var tg,IG=()=>{var[t]=T.useState(()=>_u("uid-"));return t},PG=(tg=AM.useId)!==null&&tg!==void 0?tg:IG;function CG(t,e){var n=PG();return e||(t?"".concat(t,"-").concat(n):n)}var kG=T.createContext(void 0),J2=t=>{var{id:e,type:n,children:r}=t,i=CG("recharts-".concat(n),e);return T.createElement(kG.Provider,{value:i},r(i))},OG={cartesianItems:[],polarItems:[]},Z2=kn({name:"graphicalItems",initialState:OG,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=Hr(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=Hr(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Hr(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:RG,replaceCartesianGraphicalItem:NG,removeCartesianGraphicalItem:DG,addPolarGraphicalItem:PJ,removePolarGraphicalItem:CJ}=Z2.actions,MG=Z2.reducer;function eD(t){var e=en(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?e(RG(t)):n.current!==t&&e(NG({prev:n.current,next:t})),n.current=t},[e,t]),T.useEffect(()=>()=>{n.current&&(e(DG(n.current)),n.current=null)},[e]),null}function LG(){}var jG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DA={t:0},ng={t:1};function tD(t){var e=kr(t,jG),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:a,onAnimationStart:l,children:u}=e,c=bR("JavascriptAnimate",e.animationManager),[h,d]=T.useState(n?DA:ng),p=T.useRef(null);return T.useEffect(()=>{n||d(ng)},[n]),T.useEffect(()=>{if(!n||!r)return LG;var g=ER(DA,ng,_R(o),i,d,c.getTimeoutController()),v=()=>{p.current=g()};return c.start([l,s,v,i,a]),()=>{c.stop(),p.current&&p.current(),a()}},[n,r,i,o,s,l,a,c]),u(h.t)}var VG=V([Ct],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),$G=V([VG,ci,fi],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Pp=()=>Z($G),FG=()=>Z(UH);function MA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MA(Object(n),!0).forEach(function(r){UG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UG(t,e,n){return(e=BG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BG(t){var e=zG(t,"string");return typeof e=="symbol"?e:e+""}function zG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WG=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=t;if(i===!1||e.x==null||e.y==null)return null;var s=LA(LA({index:n,dataKey:o,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},nt(i,!1)),u_(i)),a;return T.isValidElement(i)?a=T.cloneElement(i,s):typeof i=="function"?a=i(s):a=T.createElement(Cw,s),T.createElement(fr,{className:"recharts-active-dot"},a)};function fv(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,o=Z(Cu),s=FG();if(e==null||s==null)return null;var a=e.find(l=>s.includes(l.payload));return Qe(a)?null:WG({point:a,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var KG={},HG=kn({name:"errorBars",initialState:KG,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),qG=HG.reducer,GG=["children"];function YG(t,e){if(t==null)return{};var n,r,i=QG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var XG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},JG=T.createContext(XG);function ZG(t){var{children:e}=t,n=YG(t,GG);return T.createElement(JG.Provider,{value:n},e)}function kw(t,e){var n,r,i=Z(u=>di(u,t)),o=Z(u=>mo(u,e)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:mn.allowDataOverflow,a=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:gn.allowDataOverflow,l=s||a;return{needClip:l,needClipX:s,needClipY:a}}function nD(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Pp(),{needClipX:o,needClipY:s,needClip:a}=kw(e,n);if(!a)return null;var{x:l,y:u,width:c,height:h}=i;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:o?l:l-c/2,y:s?u:u-h/2,width:o?c:c*2,height:s?h:h*2}))}var eY=t=>{var{chartData:e}=t,n=en(),r=fn();return T.useEffect(()=>r?()=>{}:(n(hA(e)),()=>{n(hA(void 0))}),[e,n,r]),null},jA={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tY=kn({name:"brush",initialState:jA,reducers:{setBrushSettings(t,e){return e.payload==null?jA:e.payload}}}),nY=tY.reducer;function rY(t,e,n){return(e=iY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iY(t){var e=oY(t,"string");return typeof e=="symbol"?e:e+""}function oY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ow{static create(e){return new Ow(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}default:return this.scale(e)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}rY(Ow,"EPS",1e-4);function sY(t){return(t%180+180)%180}var aY=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=sY(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},lY={dots:[],areas:[],lines:[]},uY=kn({name:"referenceElements",initialState:lY,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Hr(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Hr(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Hr(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),cY=uY.reducer,fY=T.createContext(void 0),hY=t=>{var{children:e}=t,[n]=T.useState("".concat(_u("recharts"),"-clip")),r=Pp();if(r==null)return null;var{x:i,y:o,width:s,height:a}=r;return T.createElement(fY.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:i,y:o,height:a,width:s}))),e)};function rg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function rD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function dY(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aY(r,n)}function pY(t,e,n){var r=n==="width",{x:i,y:o,width:s,height:a}=t;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Hh(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function mY(t,e){return rD(t,e+1)}function gY(t,e,n,r,i){for(var o=(r||[]).slice(),{start:s,end:a}=e,l=0,u=1,c=s,h=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:rD(r,u)};var v=l,E,y=()=>(E===void 0&&(E=n(g,v)),E),_=g.coordinate,b=l===0||Hh(t,_,y,c,a);b||(l=0,c=s,u+=1),b&&(c=_+t*(y()/2+i),l+=u)},d;u<=o.length;)if(d=h(),d)return d.v;return[]}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){yY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yY(t,e,n){return(e=vY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vY(t){var e=_Y(t,"string");return typeof e=="symbol"?e:e+""}function _Y(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wY(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,{start:a}=e,{end:l}=e,u=function(d){var p=o[d],g,v=()=>(g===void 0&&(g=n(p,d)),g);if(d===s-1){var E=t*(p.coordinate+t*v()/2-l);o[d]=p=jt(jt({},p),{},{tickCoord:E>0?p.coordinate-E*t:p.coordinate})}else o[d]=p=jt(jt({},p),{},{tickCoord:p.coordinate});var y=Hh(t,p.tickCoord,v,a,l);y&&(l=p.tickCoord-t*(v()/2+i),o[d]=jt(jt({},p),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function EY(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,{start:l,end:u}=e;if(o){var c=r[a-1],h=n(c,a-1),d=t*(c.coordinate+t*h/2-u);s[a-1]=c=jt(jt({},c),{},{tickCoord:d>0?c.coordinate-d*t:c.coordinate});var p=Hh(t,c.tickCoord,()=>h,l,u);p&&(u=c.tickCoord-t*(h/2+i),s[a-1]=jt(jt({},c),{},{isShow:!0}))}for(var g=o?a-1:a,v=function(_){var b=s[_],P,R=()=>(P===void 0&&(P=n(b,_)),P);if(_===0){var D=t*(b.coordinate-t*R()/2-l);s[_]=b=jt(jt({},b),{},{tickCoord:D<0?b.coordinate-D*t:b.coordinate})}else s[_]=b=jt(jt({},b),{},{tickCoord:b.coordinate});var A=Hh(t,b.tickCoord,R,l,u);A&&(l=b.tickCoord+t*(R()/2+i),s[_]=jt(jt({},b),{},{isShow:!0}))},E=0;E<g;E++)v(E);return s}function Rw(t,e,n){var{tick:r,ticks:i,viewBox:o,minTickGap:s,orientation:a,interval:l,tickFormatter:u,unit:c,angle:h}=t;if(!i||!i.length||!r)return[];if(J(l)||Ma.isSsr){var d;return(d=mY(i,J(l)?l:0))!==null&&d!==void 0?d:[]}var p=[],g=a==="top"||a==="bottom"?"width":"height",v=c&&g==="width"?ql(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=(b,P)=>{var R=typeof u=="function"?u(b.value,P):b.value;return g==="width"?dY(ql(R,{fontSize:e,letterSpacing:n}),v,h):ql(R,{fontSize:e,letterSpacing:n})[g]},y=i.length>=2?Vn(i[1].coordinate-i[0].coordinate):1,_=pY(o,y,g);return l==="equidistantPreserveStart"?gY(y,_,E,i,s):(l==="preserveStart"||l==="preserveStartEnd"?p=EY(y,_,E,i,s,l==="preserveStartEnd"):p=wY(y,_,E,i,s),p.filter(b=>b.isShow))}var bY=["viewBox"],SY=["viewBox"];function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(null,arguments)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){Nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FA(t,e){if(t==null)return{};var n,r,i=TY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function TY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nw(t,e,n){return(e=AY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AY(t){var e=xY(t,"string");return typeof e=="symbol"?e:e+""}function xY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class go extends T.Component{constructor(e){super(e),this.tickRefs=T.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=FA(e,bY),o=this.props,{viewBox:s}=o,a=FA(o,SY);return!rg(r,s)||!rg(i,a)||!rg(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:o,orientation:s,tickSize:a,mirror:l,tickMargin:u}=this.props,c,h,d,p,g,v,E=l?-1:1,y=e.tickSize||a,_=J(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=h=e.coordinate,p=r+ +!l*o,d=p-E*y,v=d-E*u,g=_;break;case"left":d=p=e.coordinate,h=n+ +!l*i,c=h-E*y,g=c-E*u,v=_;break;case"right":d=p=e.coordinate,h=n+ +l*i,c=h+E*y,g=c+E*u,v=_;break;default:c=h=e.coordinate,p=r+ +l*o,d=p+E*y,v=d+E*u,g=_;break}return{line:{x1:c,y1:d,x2:h,y2:p},tick:{x:g,y:v}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:o,mirror:s,axisLine:a}=this.props,l=ot(ot(ot({},nt(this.props,!1)),nt(a,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var u=+(o==="top"&&!s||o==="bottom"&&s);l=ot(ot({},l),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var c=+(o==="left"&&!s||o==="right"&&s);l=ot(ot({},l),{},{x1:e+c*r,y1:n,x2:e+c*r,y2:n+i})}return T.createElement("line",$s({},l,{className:xe("recharts-cartesian-axis-line",rs(a,"className"))}))}static renderTickItem(e,n,r){var i,o=xe(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,ot(ot({},n),{},{className:o}));else if(typeof e=="function")i=e(ot(ot({},n),{},{className:o}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=xe(s,e.className)),i=T.createElement(Iw,$s({},n,{className:s}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:o,tick:s,tickFormatter:a,unit:l,padding:u}=this.props,c=Rw(ot(ot({},this.props),{},{ticks:r}),e,n),h=this.getTickTextAnchor(),d=this.getTickVerticalAnchor(),p=co(this.props),g=nt(s,!1),v=ot(ot({},p),{},{fill:"none"},nt(i,!1)),E=c.map((y,_)=>{var{line:b,tick:P}=this.getTickLineCoord(y),R=ot(ot(ot(ot({textAnchor:h,verticalAnchor:d},p),{},{stroke:"none",fill:o},g),P),{},{index:_,payload:y,visibleTicksCount:c.length,tickFormatter:a,padding:u});return T.createElement(fr,$s({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},XU(this.props,y,_)),i&&T.createElement("line",$s({},v,b,{className:xe("recharts-cartesian-axis-tick-line",rs(i,"className"))})),s&&go.renderTickItem(s,R,"".concat(typeof a=="function"?a(y.value,_):y.value).concat(l||"")))});return E.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:o}=this.props;if(o)return null;var{ticks:s}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:T.createElement(fr,{className:xe("recharts-cartesian-axis",i),ref:a=>{if(a){var l=a.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(l);var u=l[0];if(u){var c=window.getComputedStyle(u).fontSize,h=window.getComputedStyle(u).letterSpacing;(c!==this.state.fontSize||h!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,s),_n.renderCallByParent(this.props))}}Nw(go,"displayName","CartesianAxis");Nw(go,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var IY=["x1","y1","x2","y2","key"],PY=["offset"],CY=["xAxisId","yAxisId"],kY=["xAxisId","yAxisId"];function UA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UA(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e,n){return(e=RY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RY(t){var e=NY(t,"string");return typeof e=="symbol"?e:e+""}function NY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mo.apply(null,arguments)}function qh(t,e){if(t==null)return{};var n,r,i=DY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function DY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var MY=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:s,ry:a}=t;return T.createElement("rect",{x:r,y:i,ry:a,width:o,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iD(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:o,y2:s,key:a}=e,l=qh(e,IY),u=co(l),c=qh(u,PY);n=T.createElement("line",Mo({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function LY(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var o=qh(t,CY),s=i.map((a,l)=>{var u=Ut(Ut({},o),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return iD(r,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function jY(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var o=qh(t,kY),s=i.map((a,l)=>{var u=Ut(Ut({},o),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return iD(r,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function VY(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:o,height:s,horizontalPoints:a,horizontal:l=!0}=t;if(!l||!e||!e.length)return null;var u=a.map(h=>Math.round(h+i-i)).sort((h,d)=>h-d);i!==u[0]&&u.unshift(0);var c=u.map((h,d)=>{var p=!u[d+1],g=p?i+s-h:u[d+1]-h;if(g<=0)return null;var v=d%e.length;return T.createElement("rect",{key:"react-".concat(d),y:h,x:r,height:g,width:o,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function $Y(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:s,height:a,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,d)=>h-d);i!==u[0]&&u.unshift(0);var c=u.map((h,d)=>{var p=!u[d+1],g=p?i+s-h:u[d+1]-h;if(g<=0)return null;var v=d%n.length;return T.createElement("rect",{key:"react-".concat(d),x:h,y:o,width:g,height:a,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var FY=(t,e)=>{var{xAxis:n,width:r,height:i,offset:o}=t;return iR(Rw(Ut(Ut(Ut({},go.defaultProps),n),{},{ticks:oR(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,e)},UY=(t,e)=>{var{yAxis:n,width:r,height:i,offset:o}=t;return iR(Rw(Ut(Ut(Ut({},go.defaultProps),n),{},{ticks:oR(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,e)},BY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function hv(t){var e=uR(),n=cR(),r=lR(),i=Ut(Ut({},kr(t,BY)),{},{x:J(t.x)?t.x:r.left,y:J(t.y)?t.y:r.top,width:J(t.width)?t.width:r.width,height:J(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:s,x:a,y:l,width:u,height:c,syncWithTicks:h,horizontalValues:d,verticalValues:p}=i,g=fn(),v=Z(x=>iA(x,"xAxis",o,g)),E=Z(x=>iA(x,"yAxis",s,g));if(!J(u)||u<=0||!J(c)||c<=0||!J(a)||a!==+a||!J(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||FY,_=i.horizontalCoordinatesGenerator||UY,{horizontalPoints:b,verticalPoints:P}=i;if((!b||!b.length)&&typeof _=="function"){var R=d&&d.length,D=_({yAxis:E?Ut(Ut({},E),{},{ticks:R?d:E.ticks}):void 0,width:e,height:n,offset:r},R?!0:h);Hl(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(b=D)}if((!P||!P.length)&&typeof y=="function"){var A=p&&p.length,S=y({xAxis:v?Ut(Ut({},v),{},{ticks:A?p:v.ticks}):void 0,width:e,height:n,offset:r},A?!0:h);Hl(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(P=S)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(MY,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(VY,Mo({},i,{horizontalPoints:b})),T.createElement($Y,Mo({},i,{verticalPoints:P})),T.createElement(LY,Mo({},i,{offset:r,horizontalPoints:b,xAxis:v,yAxis:E})),T.createElement(jY,Mo({},i,{offset:r,verticalPoints:P,xAxis:v,yAxis:E})))}hv.displayName="CartesianGrid";var oD=(t,e,n,r)=>xp(t,"xAxis",e,r),sD=(t,e,n,r)=>Ap(t,"xAxis",e,r),aD=(t,e,n,r)=>xp(t,"yAxis",n,r),lD=(t,e,n,r)=>Ap(t,"yAxis",n,r),zY=V([Te,oD,aD,sD,lD],(t,e,n,r,i)=>Cr(t,"xAxis")?bu(e,r,!1):bu(n,i,!1)),WY=(t,e,n,r,i)=>i;function KY(t){return t.type==="line"}var HY=V([cw,WY],(t,e)=>t.filter(KY).find(n=>n.id===e)),qY=V([Te,oD,aD,sD,lD,HY,zY,mp],(t,e,n,r,i,o,s,a)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:c}=a;if(!(o==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null)){var{dataKey:h,data:d}=o,p;if(d!=null&&d.length>0?p=d:p=l==null?void 0:l.slice(u,c+1),p!=null)return pQ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:p})}}),GY=["id"],YY=["type","layout","connectNulls","needClip"],QY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function BA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BA(Object(n),!0).forEach(function(r){XY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XY(t,e,n){return(e=JY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JY(t){var e=ZY(t,"string");return typeof e=="symbol"?e:e+""}function ZY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dw(t,e){if(t==null)return{};var n,r,i=eQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function as(){return as=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},as.apply(null,arguments)}var tQ=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:e,type:i,color:r,value:ip(n,e),payload:t}]};function nQ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:ip(s,e),hide:a,type:t.tooltipType,color:t.stroke,unit:l}}}var uD=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function rQ(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var iQ=(t,e,n)=>{var r=n.reduce((h,d)=>h+d);if(!r)return uD(e,t);for(var i=Math.floor(t/r),o=t%r,s=e-t,a=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>o){a=[...n.slice(0,l),o-u];break}var c=a.length%2===0?[0,s]:[s];return[...rQ(n,i),...a,...c].map(h=>"".concat(h,"px")).join(", ")};function oQ(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=xe("recharts-line-dot",typeof t!="boolean"?t.className:"");n=T.createElement(Cw,as({},e,{className:r}))}return n}function sQ(t,e){return t==null?!1:e?!0:t.length===1}function aQ(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:o,needClip:s}=r;if(!sQ(n,i))return null;var a=Dw(r,GY),l=zd(i),u=co(a),c=nt(i,!0),h=n.map((p,g)=>{var v=nr(nr(nr({key:"dot-".concat(g),r:3},u),c),{},{index:g,cx:p.x,cy:p.y,dataKey:o,value:p.value,payload:p.payload,points:n});return oQ(i,v)}),d={clipPath:s?"url(#clipPath-".concat(l?"":"dots-").concat(e,")"):void 0};return T.createElement(fr,as({className:"recharts-line-dots",key:"dots"},d),h)}function dv(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:o,showLabels:s}=t,{type:a,layout:l,connectNulls:u,needClip:c}=o,h=Dw(o,YY),d=nr(nr({},nt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:u,strokeDasharray:i??o.strokeDasharray});return T.createElement(T.Fragment,null,(r==null?void 0:r.length)>1&&T.createElement(Kl,as({},d,{pathRef:n})),T.createElement(aQ,{points:r,clipPathId:e,props:o}),s&&Yi.renderCallByParent(o,r))}function lQ(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function uQ(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=t,{points:s,strokeDasharray:a,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:h,animateNewValues:d,width:p,height:g,onAnimationEnd:v,onAnimationStart:E}=n,y=i.current,_=X2(n,"recharts-line-"),[b,P]=T.useState(!1),R=T.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),D=T.useCallback(()=>{typeof E=="function"&&E(),P(!0)},[E]),A=lQ(r.current),S=o.current;return T.createElement(tD,{begin:u,duration:c,isActive:l,easing:h,onAnimationEnd:R,onAnimationStart:D,key:_},x=>{var k=tr(S,A+S,x),C=Math.min(k,A),N;if(a){var O="".concat(a).split(/[,\s]+/gim).map(de=>parseFloat(de));N=iQ(C,A,O)}else N=uD(A,C);if(y){var oe=y.length/s.length,ve=x===1?s:s.map((de,Ee)=>{var z=Math.floor(Ee*oe);if(y[z]){var Q=y[z];return nr(nr({},de),{},{x:tr(Q.x,de.x,x),y:tr(Q.y,de.y,x)})}return d?nr(nr({},de),{},{x:tr(p*2,de.x,x),y:tr(g/2,de.y,x)}):nr(nr({},de),{},{x:de.x,y:de.y})});return i.current=ve,T.createElement(dv,{props:n,points:ve,clipPathId:e,pathRef:r,showLabels:!b,strokeDasharray:N})}return x>0&&A>0&&(i.current=s,o.current=C),T.createElement(dv,{props:n,points:s,clipPathId:e,pathRef:r,showLabels:!b,strokeDasharray:N})})}function cQ(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,o=T.useRef(null),s=T.useRef(0),a=T.useRef(null),l=o.current;return i&&r&&r.length&&l!==r?T.createElement(uQ,{props:n,clipPathId:e,previousPointsRef:o,longestAnimatedLengthRef:s,pathRef:a}):T.createElement(dv,{props:n,points:r,clipPathId:e,pathRef:a,showLabels:!0})}var fQ=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:xt(t.payload,e)});class hQ extends T.Component{render(){var e,{hide:n,dot:r,points:i,className:o,xAxisId:s,yAxisId:a,top:l,left:u,width:c,height:h,id:d,needClip:p}=this.props;if(n)return null;var g=xe("recharts-line",o),v=d,{r:E=3,strokeWidth:y=2}=(e=nt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},_=zd(r),b=E*2+y;return T.createElement(T.Fragment,null,T.createElement(fr,{className:g},p&&T.createElement("defs",null,T.createElement(nD,{clipPathId:v,xAxisId:s,yAxisId:a}),!_&&T.createElement("clipPath",{id:"clipPath-dots-".concat(v)},T.createElement("rect",{x:u-b/2,y:l-b/2,width:c+b,height:h+b}))),T.createElement(cQ,{props:this.props,clipPathId:v}),T.createElement(ZG,{xAxisId:s,yAxisId:a,data:i,dataPointFormatter:fQ,errorBarOffset:0},this.props.children)),T.createElement(fv,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var cD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ma.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function dQ(t){var e=kr(t,cD),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:a,dot:l,hide:u,isAnimationActive:c,label:h,legendType:d,xAxisId:p,yAxisId:g,id:v}=e,E=Dw(e,QY),{needClip:y}=kw(p,g),_=Pp(),b=lp(),P=fn(),R=Z(k=>qY(k,p,g,P,v));if(b!=="horizontal"&&b!=="vertical"||R==null||_==null)return null;var{height:D,width:A,x:S,y:x}=_;return T.createElement(hQ,as({},E,{id:v,connectNulls:a,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:s,isAnimationActive:c,hide:u,label:h,legendType:d,xAxisId:p,yAxisId:g,points:R,layout:b,height:D,width:A,left:S,top:x,needClip:y}))}function pQ(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:s,bandSize:a,displayedData:l}=t;return l.map((u,c)=>{var h=xt(u,s);if(e==="horizontal"){var d=Ih({axis:n,ticks:i,bandSize:a,entry:u,index:c}),p=Qe(h)?null:r.scale(h);return{x:d,y:p,value:h,payload:u}}var g=Qe(h)?null:n.scale(h),v=Ih({axis:r,ticks:o,bandSize:a,entry:u,index:c});return g==null||v==null?null:{x:g,y:v,value:h,payload:u}}).filter(Boolean)}function fD(t){var e=kr(t,cD),n=fn();return T.createElement(J2,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(Q2,{legendPayload:tQ(e)}),T.createElement(Y2,{fn:nQ,args:e}),T.createElement(eD,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(dQ,as({},e,{id:r}))))}fD.displayName="Line";var hD=(t,e,n,r)=>xp(t,"xAxis",e,r),dD=(t,e,n,r)=>Ap(t,"xAxis",e,r),pD=(t,e,n,r)=>xp(t,"yAxis",n,r),mD=(t,e,n,r)=>Ap(t,"yAxis",n,r),mQ=V([Te,hD,pD,dD,mD],(t,e,n,r,i)=>Cr(t,"xAxis")?bu(e,r,!1):bu(n,i,!1)),gQ=(t,e,n,r,i)=>i,gD=V([cw,gQ],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),yQ=(t,e,n,r,i)=>{var o,s=gD(t,e,n,r,i);if(s!=null){var a=Te(t),l=Cr(a,"xAxis"),u;if(l?u=iv(t,"yAxis",n,r):u=iv(t,"xAxis",e,r),u!=null){var{stackId:c}=s,h=aw(s);if(!(c==null||h==null)){var d=(o=u[c])===null||o===void 0?void 0:o.stackedData;return d==null?void 0:d.find(p=>p.key===h)}}}},vQ=V([Te,hD,pD,dD,mD,yQ,mp,mQ,gD],(t,e,n,r,i,o,s,a,l)=>{var{chartData:u,dataStartIndex:c,dataEndIndex:h}=s;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null)){var{data:d}=l,p;if(d&&d.length>0?p=d:p=u==null?void 0:u.slice(c,h+1),p!=null){var g=void 0;return VQ({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:c,areaSettings:l,stackedData:o,displayedData:p,chartBaseValue:g,bandSize:a})}}}),_Q=["id"],wQ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function yD(t,e){if(t==null)return{};var n,r,i=EQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zA(Object(n),!0).forEach(function(r){bQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bQ(t,e,n){return(e=SQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SQ(t){var e=TQ(t,"string");return typeof e=="symbol"?e:e+""}function TQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gr.apply(null,arguments)}function Gh(t,e){return t&&t!=="none"?t:e}var AQ=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:o,hide:s}=t;return[{inactive:s,dataKey:e,type:o,color:Gh(r,i),value:ip(n,e),payload:t}]};function xQ(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:o,name:s,hide:a,unit:l}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:e,nameKey:void 0,name:ip(s,e),hide:a,type:t.tooltipType,color:Gh(r,o),unit:l}}}var IQ=(t,e)=>{var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=xe("recharts-area-dot",typeof t!="boolean"?t.className:"");n=T.createElement(Cw,Gr({},e,{className:r}))}return n};function PQ(t,e){return t==null?!1:e?!0:t.length===1}function CQ(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:o,dataKey:s}=r;if(!PQ(n,o))return null;var a=zd(o),l=co(r),u=nt(o,!0),c=n.map((d,p)=>{var g=Lo(Lo(Lo({key:"dot-".concat(p),r:3},l),u),{},{index:p,cx:d.x,cy:d.y,dataKey:s,value:d.value,payload:d.payload,points:n});return IQ(o,g)}),h={clipPath:i?"url(#clipPath-".concat(a?"":"dots-").concat(e,")"):void 0};return T.createElement(fr,Gr({className:"recharts-area-dots"},h),c)}function pv(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:o,showLabels:s}=t,{layout:a,type:l,stroke:u,connectNulls:c,isRange:h}=o,{id:d}=o,p=yD(o,_Q),g=co(p);return T.createElement(T.Fragment,null,(e==null?void 0:e.length)>1&&T.createElement(fr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},T.createElement(Kl,Gr({},g,{id:d,points:e,connectNulls:c,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),u!=="none"&&T.createElement(Kl,Gr({},g,{className:"recharts-area-curve",layout:a,type:l,connectNulls:c,fill:"none",points:e})),u!=="none"&&h&&T.createElement(Kl,Gr({},g,{className:"recharts-area-curve",layout:a,type:l,connectNulls:c,fill:"none",points:n}))),T.createElement(CQ,{points:e,props:p,clipPathId:i}),s&&Yi.renderCallByParent(p,e))}function kQ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].y,s=r[r.length-1].y;if(!Xt(o)||!Xt(s))return null;var a=e*Math.abs(o-s),l=Math.max(...r.map(u=>u.x||0));return J(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.x||0),l)),J(l)?T.createElement("rect",{x:0,y:o<s?o:o-a,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(a)}):null}function OQ(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,o=r[0].x,s=r[r.length-1].x;if(!Xt(o)||!Xt(s))return null;var a=e*Math.abs(o-s),l=Math.max(...r.map(u=>u.y||0));return J(n)?l=Math.max(n,l):n&&Array.isArray(n)&&n.length&&(l=Math.max(...n.map(u=>u.y||0),l)),J(l)?T.createElement("rect",{x:o<s?o:o-a,y:0,width:a,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function RQ(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:o}=t;return n==="vertical"?T.createElement(kQ,{alpha:e,points:r,baseLine:i,strokeWidth:o}):T.createElement(OQ,{alpha:e,points:r,baseLine:i,strokeWidth:o})}function NQ(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:s,baseLine:a,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:h,onAnimationStart:d,onAnimationEnd:p}=r,g=X2(r,"recharts-area-"),[v,E]=T.useState(!0),y=T.useCallback(()=>{typeof p=="function"&&p(),E(!1)},[p]),_=T.useCallback(()=>{typeof d=="function"&&d(),E(!0)},[d]),b=i.current,P=o.current;return T.createElement(tD,{begin:u,duration:c,isActive:l,easing:h,onAnimationEnd:y,onAnimationStart:_,key:g},R=>{if(b){var D=b.length/s.length,A=R===1?s:s.map((x,k)=>{var C=Math.floor(k*D);if(b[C]){var N=b[C];return Lo(Lo({},x),{},{x:tr(N.x,x.x,R),y:tr(N.y,x.y,R)})}return x}),S;return J(a)?S=tr(P,a,R):Qe(a)||An(a)?S=tr(P,0,R):S=a.map((x,k)=>{var C=Math.floor(k*D);if(Array.isArray(P)&&P[C]){var N=P[C];return Lo(Lo({},x),{},{x:tr(N.x,x.x,R),y:tr(N.y,x.y,R)})}return x}),R>0&&(i.current=A,o.current=S),T.createElement(pv,{points:A,baseLine:S,needClip:e,clipPathId:n,props:r,showLabels:!v})}return R>0&&(i.current=s,o.current=a),T.createElement(fr,null,T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(n)},T.createElement(RQ,{alpha:R,points:s,baseLine:a,layout:r.layout,strokeWidth:r.strokeWidth}))),T.createElement(fr,{clipPath:"url(#animationClipPath-".concat(n,")")},T.createElement(pv,{points:s,baseLine:a,needClip:e,clipPathId:n,props:r,showLabels:!0})))})}function DQ(t){var{needClip:e,clipPathId:n,props:r}=t,{points:i,baseLine:o,isAnimationActive:s}=r,a=T.useRef(null),l=T.useRef(),u=a.current,c=l.current;return s&&i&&i.length&&(u!==i||c!==o)?T.createElement(NQ,{needClip:e,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:l}):T.createElement(pv,{points:i,baseLine:o,needClip:e,clipPathId:n,props:r,showLabels:!0})}class MQ extends T.PureComponent{render(){var e,{hide:n,dot:r,points:i,className:o,top:s,left:a,needClip:l,xAxisId:u,yAxisId:c,width:h,height:d,id:p,baseLine:g}=this.props;if(n)return null;var v=xe("recharts-area",o),E=p,{r:y=3,strokeWidth:_=2}=(e=nt(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},b=zd(r),P=y*2+_;return T.createElement(T.Fragment,null,T.createElement(fr,{className:v},l&&T.createElement("defs",null,T.createElement(nD,{clipPathId:E,xAxisId:u,yAxisId:c}),!b&&T.createElement("clipPath",{id:"clipPath-dots-".concat(E)},T.createElement("rect",{x:a-P/2,y:s-P/2,width:h+P,height:d+P}))),T.createElement(DQ,{needClip:l,clipPathId:E,props:this.props})),T.createElement(fv,{points:i,mainColor:Gh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&T.createElement(fv,{points:g,mainColor:Gh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var vD={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Ma.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function LQ(t){var e,n=kr(t,vD),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,connectNulls:a,dot:l,fill:u,fillOpacity:c,hide:h,isAnimationActive:d,legendType:p,stroke:g,xAxisId:v,yAxisId:E}=n,y=yD(n,wQ),_=lp(),b=x2(),{needClip:P}=kw(v,E),R=fn(),{points:D,isRange:A,baseLine:S}=(e=Z(oe=>vQ(oe,v,E,R,t.id)))!==null&&e!==void 0?e:{},x=Pp();if(_!=="horizontal"&&_!=="vertical"||x==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:k,width:C,x:N,y:O}=x;return!D||!D.length?null:T.createElement(MQ,Gr({},y,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:s,baseLine:S,connectNulls:a,dot:l,fill:u,fillOpacity:c,height:k,hide:h,layout:_,isAnimationActive:d,isRange:A,legendType:p,needClip:P,points:D,stroke:g,width:C,left:N,top:O,xAxisId:v,yAxisId:E}))}var jQ=(t,e,n,r,i)=>{var o=n??e;if(J(o))return o;var s=t==="horizontal"?i:r,a=s.scale.domain();if(s.type==="number"){var l=Math.max(a[0],a[1]),u=Math.min(a[0],a[1]);return o==="dataMin"?u:o==="dataMax"||l<0?l:Math.max(Math.min(a[0],a[1]),0)}return o==="dataMin"?a[0]:o==="dataMax"?a[1]:a[0]};function VQ(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:o,chartBaseValue:s,xAxis:a,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:h,yAxisTicks:d,bandSize:p}=t,g=i&&i.length,v=jQ(o,s,n,a,l),E=o==="horizontal",y=!1,_=u.map((P,R)=>{var D;g?D=i[c+R]:(D=xt(P,r),Array.isArray(D)?y=!0:D=[v,D]);var A=D[1]==null||g&&!e&&xt(P,r)==null;return E?{x:Ih({axis:a,ticks:h,bandSize:p,entry:P,index:R}),y:A?null:l.scale(D[1]),value:D,payload:P}:{x:A?null:a.scale(D[1]),y:Ih({axis:l,ticks:d,bandSize:p,entry:P,index:R}),value:D,payload:P}}),b;return g||y?b=_.map(P=>{var R=Array.isArray(P.value)?P.value[0]:null;return E?{x:P.x,y:R!=null&&P.y!=null?l.scale(R):null,payload:P.payload}:{x:R!=null?a.scale(R):null,y:P.y,payload:P.payload}}):b=E?l.scale(v):a.scale(v),{points:_,baseLine:b,isRange:y}}function _D(t){var e=kr(t,vD),n=fn();return T.createElement(J2,{id:e.id,type:"area"},r=>T.createElement(T.Fragment,null,T.createElement(Q2,{legendPayload:AQ(e)}),T.createElement(Y2,{fn:xQ,args:e}),T.createElement(eD,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:kB(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),T.createElement(LQ,Gr({},e,{id:r}))))}_D.displayName="Area";function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return(e=FQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FQ(t){var e=UQ(t,"string");return typeof e=="symbol"?e:e+""}function UQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BQ={xAxis:{},yAxis:{},zAxis:{}},wD=kn({name:"cartesianAxis",initialState:BQ,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=KA(KA({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:zQ,removeXAxis:WQ,addYAxis:KQ,removeYAxis:HQ,addZAxis:kJ,removeZAxis:OJ,updateYAxisWidth:qQ}=wD.actions,GQ=wD.reducer,YQ=["children"],QQ=["dangerouslySetInnerHTML","ticks"];function ED(t,e,n){return(e=XQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XQ(t){var e=JQ(t,"string");return typeof e=="symbol"?e:e+""}function JQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function bD(t,e){if(t==null)return{};var n,r,i=ZQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function eX(t){var e=en(),n=T.useMemo(()=>{var o=bD(t,YQ);return o},[t]),r=Z(o=>di(o,n.id)),i=n===r;return T.useEffect(()=>(e(zQ(n)),()=>{e(WQ(n))}),[n,e]),i?t.children:null}var tX=t=>{var{xAxisId:e,className:n}=t,r=Z(aR),i=fn(),o="xAxis",s=Z(h=>Ua(h,o,e,i)),a=Z(h=>a2(h,o,e,i)),l=Z(h=>LK(h,e)),u=Z(h=>UK(h,e));if(l==null||u==null)return null;var c=bD(t,QQ);return T.createElement(go,mv({},c,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:xe("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a}))},nX=t=>{var e,n,r,i,o;return T.createElement(eX,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter},T.createElement(tX,t))};class Yh extends T.Component{render(){return T.createElement(nX,this.props)}}ED(Yh,"displayName","XAxis");ED(Yh,"defaultProps",{allowDataOverflow:mn.allowDataOverflow,allowDecimals:mn.allowDecimals,allowDuplicatedCategory:mn.allowDuplicatedCategory,height:mn.height,hide:!1,mirror:mn.mirror,orientation:mn.orientation,padding:mn.padding,reversed:mn.reversed,scale:mn.scale,tickCount:mn.tickCount,type:mn.type,xAxisId:0});var rX=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,s=0;if(e){e.forEach(c=>{if(c){var h=c.getBoundingClientRect();h.width>s&&(s=h.width)}});var a=n?n.getBoundingClientRect().width:0,l=i+o,u=s+l+a+(n?r:0);return Math.round(u)}return 0},iX=["dangerouslySetInnerHTML","ticks"];function SD(t,e,n){return(e=oX(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oX(t){var e=sX(t,"string");return typeof e=="symbol"?e:e+""}function sX(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(null,arguments)}function aX(t,e){if(t==null)return{};var n,r,i=lX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uX(t){var e=en();return T.useEffect(()=>(e(KQ(t)),()=>{e(HQ(t))}),[t,e]),null}var cX=t=>{var e,{yAxisId:n,className:r,width:i,label:o}=t,s=T.useRef(null),a=T.useRef(null),l=Z(aR),u=fn(),c=en(),h="yAxis",d=Z(y=>Ua(y,h,n,u)),p=Z(y=>zK(y,n)),g=Z(y=>BK(y,n)),v=Z(y=>a2(y,h,n,u));if(T.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!p||Pw(o)||T.isValidElement(o))){var _=s.current,b=_==null||(y=_.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:P,tickMargin:R}=_.props,D=rX({ticks:b,label:a.current,labelGapWithTick:5,tickSize:P,tickMargin:R});Math.round(p.width)!==Math.round(D)&&c(qQ({id:n,width:D}))}},[s,s==null||(e=s.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,p==null?void 0:p.width,p,c,o,n,i]),p==null||g==null)return null;var E=aX(t,iX);return T.createElement(go,gv({},E,{ref:s,labelRef:a,scale:d,x:g.x,y:g.y,width:p.width,height:p.height,className:xe("recharts-".concat(h," ").concat(h),r),viewBox:l,ticks:v}))},fX=t=>{var e,n,r,i,o;return T.createElement(T.Fragment,null,T.createElement(uX,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(o=t.tick)!==null&&o!==void 0?o:!0,tickFormatter:t.tickFormatter}),T.createElement(cX,t))},hX={allowDataOverflow:gn.allowDataOverflow,allowDecimals:gn.allowDecimals,allowDuplicatedCategory:gn.allowDuplicatedCategory,hide:!1,mirror:gn.mirror,orientation:gn.orientation,padding:gn.padding,reversed:gn.reversed,scale:gn.scale,tickCount:gn.tickCount,type:gn.type,width:gn.width,yAxisId:0};class Qh extends T.Component{render(){return T.createElement(fX,this.props)}}SD(Qh,"displayName","YAxis");SD(Qh,"defaultProps",hX);var dX={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=T;function pX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mX=typeof Object.is=="function"?Object.is:pX,gX=rc.useSyncExternalStore,yX=rc.useRef,vX=rc.useEffect,_X=rc.useMemo,wX=rc.useDebugValue;dX.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=yX(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=_X(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,mX(c,p))return g;var v=r(p);return i!==void 0&&i(g,v)?(c=p,g):(c=p,h=v)}var u=!1,c,h,d=n===void 0?null:n;return[function(){return l(e())},d===null?void 0:function(){return l(d())}]},[e,n,r,i]);var a=gX(t,o[0],o[1]);return vX(function(){s.hasValue=!0,s.value=a},[a]),wX(a),a};function EX(t){t()}function bX(){let t=null,e=null;return{clear(){t=null,e=null},notify(){EX(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var HA={notify(){},get:()=>[]};function SX(t,e){let n,r=HA,i=0,o=!1;function s(v){c();const E=r.subscribe(v);let y=!1;return()=>{y||(y=!0,E(),h())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function c(){i++,n||(n=t.subscribe(l),r=bX())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=HA)}function d(){o||(o=!0,c())}function p(){o&&(o=!1,h())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return g}var TX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AX=TX(),xX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IX=xX(),PX=()=>AX||IX?T.useLayoutEffect:T.useEffect,CX=PX(),ig=Symbol.for("react-redux-context"),og=typeof globalThis<"u"?globalThis:{};function kX(){if(!T.createContext)return{};const t=og[ig]??(og[ig]=new Map);let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var OX=kX();function RX(t){const{children:e,context:n,serverState:r,store:i}=t,o=T.useMemo(()=>{const l=SX(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=T.useMemo(()=>i.getState(),[i]);CX(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||OX;return T.createElement(a.Provider,{value:o},e)}var NX=RX,DX=(t,e)=>e,Mw=V([DX,Te,PN,ct,E2,pi,qH,Ct],JH),Lw=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},TD=zn("mouseClick"),AD=Hu();AD.startListening({actionCreator:TD,effect:(t,e)=>{var n=t.payload,r=Mw(e.getState(),Lw(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(tH({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var yv=zn("mouseMove"),xD=Hu();xD.startListening({actionCreator:yv,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=vw(r,r.tooltip.settings.shared),o=Mw(r,Lw(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?e.dispatch(p2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(d2()))}});function MX(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var qA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},ID=kn({name:"rootProps",initialState:qA,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:qA.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),LX=ID.reducer,{updateOptions:jX}=ID.actions,VX=kn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),$X=VX.reducer,PD=zn("keyDown"),CD=zn("focus"),jw=Hu();jw.startListening({actionCreator:PD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=Number(_w(i,za(n))),a=pi(n);if(o==="Enter"){var l=Wh(n,"axis","hover",String(i.index));e.dispatch(sv({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var u=qK(n),c=u==="left-to-right"?1:-1,h=o==="ArrowRight"?1:-1,d=s+h*c;if(!(a==null||d>=a.length||d<0)){var p=Wh(n,"axis","hover",String(d));e.dispatch(sv({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});jw.startListening({actionCreator:CD,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Wh(n,"axis","hover",String(o));e.dispatch(sv({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var On=zn("externalEvent"),kD=Hu();kD.startListening({actionCreator:On,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:VH(n),activeDataKey:LH(n),activeIndex:Cu(n),activeLabel:T2(n),activeTooltipIndex:Cu(n),isTooltipActive:$H(n)};t.payload.handler(r,t.payload.reactEvent)}}});var FX=V([Ba],t=>t.tooltipItemPayloads),UX=V([FX,tc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(a=>a.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),OD=zn("touchMove"),RD=Hu();RD.startListening({actionCreator:OD,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=vw(r,r.tooltip.settings.shared);if(i==="axis"){var o=Mw(r,Lw({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(p2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,a=n.touches[0],l=document.elementFromPoint(a.clientX,a.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(VB),c=(s=l.getAttribute($B))!==null&&s!==void 0?s:void 0,h=UX(e.getState(),u,c);e.dispatch(eH({activeDataKey:c,activeIndex:u,activeCoordinate:h}))}}});var BX=DO({brush:nY,cartesianAxis:GQ,chartData:dq,errorBars:qG,graphicalItems:MG,layout:uB,legend:QB,options:lq,polarAxis:AG,polarOptions:$X,referenceElements:cY,rootProps:LX,tooltip:nH}),zX=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return D9({reducer:BX,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([AD.middleware,xD.middleware,jw.middleware,kD.middleware,RD.middleware]),devTools:{serialize:{replacer:MX},name:"recharts-".concat(n)}})};function WX(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=fn(),o=T.useRef(null);if(i)return n;o.current==null&&(o.current=zX(e,r));var s=v_;return T.createElement(NX,{context:s,store:o.current},n)}function KX(t){var{layout:e,width:n,height:r,margin:i}=t,o=en(),s=fn();return T.useEffect(()=>{s||(o(sB(e)),o(aB({width:n,height:r})),o(oB(i)))},[o,s,e,n,r,i]),null}function HX(t){var e=en();return T.useEffect(()=>{e(jX(t))},[e,t]),null}var qX=["children"];function GX(t,e){if(t==null)return{};var n,r,i=YX(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function YX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(null,arguments)}var QX={width:"100%",height:"100%"},XX=T.forwardRef((t,e)=>{var n=uR(),r=cR(),i=hR();if(!Ph(n)||!Ph(r))return null;var{children:o,otherAttributes:s,title:a,desc:l}=t,u,c;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0,T.createElement(Hk,Xh({},s,{title:a,desc:l,role:c,tabIndex:u,width:n,height:r,style:QX,ref:e}),o)}),JX=t=>{var{children:e}=t,n=Z(ap);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return T.createElement(Hk,{width:r,height:i,x:s,y:o},e)},GA=T.forwardRef((t,e)=>{var{children:n}=t,r=GX(t,qX),i=fn();return i?T.createElement(JX,null,n):T.createElement(XX,Xh({ref:e},r),n)});function ZX(){var t=en(),[e,n]=T.useState(null),r=Z(jB);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;Xt(o)&&o!==r&&t(lB(o))}},[e,t,r]),n}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){tJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tJ(t,e,n){return(e=nJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nJ(t){var e=rJ(t,"string");return typeof e=="symbol"?e:e+""}function rJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iJ=T.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:a,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:h,onMouseUp:d,onTouchEnd:p,onTouchMove:g,onTouchStart:v,style:E,width:y}=t,_=en(),[b,P]=T.useState(null),[R,D]=T.useState(null);gq();var A=ZX(),S=T.useCallback(K=>{A(K),typeof e=="function"&&e(K),P(K),D(K)},[A,e,P,D]),x=T.useCallback(K=>{_(TD(K)),_(On({handler:o,reactEvent:K}))},[_,o]),k=T.useCallback(K=>{_(yv(K)),_(On({handler:u,reactEvent:K}))},[_,u]),C=T.useCallback(K=>{_(d2()),_(On({handler:c,reactEvent:K}))},[_,c]),N=T.useCallback(K=>{_(yv(K)),_(On({handler:h,reactEvent:K}))},[_,h]),O=T.useCallback(()=>{_(CD())},[_]),oe=T.useCallback(K=>{_(PD(K.key))},[_]),ve=T.useCallback(K=>{_(On({handler:s,reactEvent:K}))},[_,s]),de=T.useCallback(K=>{_(On({handler:a,reactEvent:K}))},[_,a]),Ee=T.useCallback(K=>{_(On({handler:l,reactEvent:K}))},[_,l]),z=T.useCallback(K=>{_(On({handler:d,reactEvent:K}))},[_,d]),Q=T.useCallback(K=>{_(On({handler:v,reactEvent:K}))},[_,v]),ne=T.useCallback(K=>{_(OD(K)),_(On({handler:g,reactEvent:K}))},[_,g]),_e=T.useCallback(K=>{_(On({handler:p,reactEvent:K}))},[_,p]);return T.createElement(O2.Provider,{value:b},T.createElement(s5.Provider,{value:R},T.createElement("div",{className:xe("recharts-wrapper",r),style:eJ({position:"relative",cursor:"default",width:y,height:i},E),onClick:x,onContextMenu:ve,onDoubleClick:de,onFocus:O,onKeyDown:oe,onMouseDown:Ee,onMouseEnter:k,onMouseLeave:C,onMouseMove:N,onMouseUp:z,onTouchEnd:_e,onTouchMove:ne,onTouchStart:Q,ref:S},n)))}),oJ=["children","className","width","height","style","compact","title","desc"];function sJ(t,e){if(t==null)return{};var n,r,i=aJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lJ=T.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:o,style:s,compact:a,title:l,desc:u}=t,c=sJ(t,oJ),h=co(c);return a?T.createElement(GA,{otherAttributes:h,title:l,desc:u},n):T.createElement(iJ,{className:r,style:s,width:i,height:o,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(GA,{otherAttributes:h,title:l,desc:u,ref:e},T.createElement(hY,null,n)))}),uJ=["width","height"];function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(null,arguments)}function cJ(t,e){if(t==null)return{};var n,r,i=fJ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hJ={top:5,right:5,bottom:5,left:5},dJ={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hJ,reverseStackOrder:!1,syncMethod:"index"},ND=T.forwardRef(function(e,n){var r,i=kr(e.categoricalChartProps,dJ),{width:o,height:s}=i,a=cJ(i,uJ);if(!Ph(o)||!Ph(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,categoricalChartProps:d}=e,p={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:c,tooltipPayloadSearcher:h,eventEmitter:void 0};return T.createElement(WX,{preloadedState:{options:p},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:l},T.createElement(eY,{chartData:d.data}),T.createElement(KX,{width:o,height:s,layout:i.layout,margin:i.margin}),T.createElement(HX,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),T.createElement(lJ,vv({},a,{width:o,height:s,ref:n})))}),pJ=["axis"],mJ=T.forwardRef((t,e)=>T.createElement(ND,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pJ,tooltipPayloadSearcher:N2,categoricalChartProps:t,ref:e})),gJ=["axis"],yJ=T.forwardRef((t,e)=>T.createElement(ND,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gJ,tooltipPayloadSearcher:N2,categoricalChartProps:t,ref:e}));const vJ=({deviceId:t,onBack:e})=>{const{user:n,getUserId:r}=kd(),i=n?r(n.email):"",{readings:o,loading:s}=FU(i,t),l=o.slice().reverse().map(c=>{var h,d,p;return{timestamp:(h=c.timestamp)!=null&&h.toDate?c.timestamp.toDate():new Date(c.timestamp),water_percent:c.water_level_percent,water_litres:c.water_level_litre,battery:c.battery_percent,time:(d=c.timestamp)!=null&&d.toDate?c.timestamp.toDate().toLocaleTimeString():new Date(c.timestamp).toLocaleTimeString(),date:(p=c.timestamp)!=null&&p.toDate?c.timestamp.toDate().toLocaleDateString():new Date(c.timestamp).toLocaleDateString()}}),u=o[0];return s?M.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx(jk,{className:"h-12 w-12 text-blue-600 animate-spin mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading device data..."})]})}):M.jsxs("div",{className:"min-h-screen bg-gray-50",children:[M.jsx("div",{className:"bg-white shadow-sm border-b",children:M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex items-center py-6",children:[M.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-900 mr-4 transition-colors",children:[M.jsx(RU,{className:"h-5 w-5 mr-1"}),"Back"]}),M.jsxs("div",{className:"flex items-center",children:[M.jsx("div",{className:"bg-blue-100 w-10 h-10 rounded-lg flex items-center justify-center mr-3",children:M.jsx(Zs,{className:"h-6 w-6 text-blue-600"})}),M.jsxs("div",{children:[M.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Device ",t]}),M.jsx("p",{className:"text-sm text-gray-600",children:"Historical data and analytics"})]})]})]})})}),M.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u&&M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx(Zs,{className:"h-8 w-8 text-blue-600"}),M.jsx(Iy,{className:"h-5 w-5 text-green-500"})]}),M.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[u.water_level_percent,"%"]}),M.jsx("p",{className:"text-gray-600",children:"Water Level"})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx(Zs,{className:"h-8 w-8 text-teal-600"}),M.jsx("span",{className:"text-sm text-gray-500",children:"L"})]}),M.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u.water_level_litre}),M.jsx("p",{className:"text-gray-600",children:"Litres"})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx(Lk,{className:"h-8 w-8 text-green-600"}),M.jsx(Iy,{className:"h-5 w-5 text-green-500"})]}),M.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[u.battery_percent,"%"]}),M.jsx("p",{className:"text-gray-600",children:"Battery"})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsxs("div",{className:"flex items-center justify-between mb-2",children:[M.jsx(NU,{className:"h-8 w-8 text-purple-600"}),M.jsx("span",{className:"text-sm text-gray-500",children:"readings"})]}),M.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.length}),M.jsx("p",{className:"text-gray-600",children:"Total Records"})]})]}),M.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Water Level History"}),M.jsx(vA,{width:"100%",height:300,children:M.jsxs(yJ,{data:l,children:[M.jsx(hv,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),M.jsx(Yh,{dataKey:"time",stroke:"#666",fontSize:12}),M.jsx(Qh,{stroke:"#666",fontSize:12,domain:[0,100]}),M.jsx(gA,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:(c,h)=>[h==="water_percent"?`${c}%`:`${c}L`,h==="water_percent"?"Water Level":"Volume"],labelFormatter:c=>`Time: ${c}`}),M.jsx(_D,{type:"monotone",dataKey:"water_percent",stroke:"#2563eb",fill:"#3b82f6",fillOpacity:.2,strokeWidth:2})]})})]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Battery Level History"}),M.jsx(vA,{width:"100%",height:300,children:M.jsxs(mJ,{data:l,children:[M.jsx(hv,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),M.jsx(Yh,{dataKey:"time",stroke:"#666",fontSize:12}),M.jsx(Qh,{stroke:"#666",fontSize:12,domain:[0,100]}),M.jsx(gA,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:c=>[`${c}%`,"Battery Level"],labelFormatter:c=>`Time: ${c}`}),M.jsx(fD,{type:"monotone",dataKey:"battery",stroke:"#059669",strokeWidth:2,dot:{fill:"#059669",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#059669",strokeWidth:2}})]})})]})]}),M.jsxs("div",{className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[M.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Readings"}),M.jsx("div",{className:"overflow-x-auto",children:M.jsxs("table",{className:"w-full",children:[M.jsx("thead",{children:M.jsxs("tr",{className:"border-b border-gray-200",children:[M.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Timestamp"}),M.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Water Level"}),M.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Volume"}),M.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Battery"})]})}),M.jsx("tbody",{children:o.slice(0,10).map(c=>{var h;return M.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[M.jsx("td",{className:"py-3 px-4 text-gray-900",children:(h=c.timestamp)!=null&&h.toDate?c.timestamp.toDate().toLocaleString():new Date(c.timestamp).toLocaleString()}),M.jsx("td",{className:"py-3 px-4",children:M.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[c.water_level_percent,"%"]})}),M.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[c.water_level_litre,"L"]}),M.jsx("td",{className:"py-3 px-4",children:M.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.battery_percent>60?"bg-green-100 text-green-800":c.battery_percent>30?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[c.battery_percent,"%"]})})]},c.id)})})]})})]})]})]})};function _J(){const{user:t,loading:e}=kd(),[n,r]=T.useState(null);return e?M.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:M.jsxs("div",{className:"text-center",children:[M.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?n?M.jsx(vJ,{deviceId:n,onBack:()=>r(null)}):M.jsx(BU,{onDeviceSelect:r}):M.jsx(VU,{})}cP(document.getElementById("root")).render(M.jsx(T.StrictMode,{children:M.jsx(_J,{})}));
